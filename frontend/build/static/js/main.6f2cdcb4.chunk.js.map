{"version":3,"sources":["components/Profile.js","App.js","views/home.js","views/profileList.js","views/notFound.js","views/editProfile.js","components/NetworkSettings.js","components/PidSettings.js","components/HardwareSettings.js","components/AppearanceSettings.js","views/settings.js","helpers/socket.js","reportWebVitals.js","index.js","components/StatusBar.js"],"names":["Profile","props","dragStart","bind","drag","dragEnd","state","hitRadius","pointRadius","this","draggable","setState","e","datasetIndex","index","value","gridColor","theme","palette","text","hint","primaryColor","primary","main","transparentPrimary","alpha","secondaryColor","secondary","transparentSecondary","tempColors","Array","fill","historicTempPointSize","activePoint","historicTemps","length","data","datasets","label","profile","datapoints","pointBackgroundColor","showLine","lineTension","backgroundColor","borderColor","borderWidth","pointHitRadius","hoverRadius","dragData","borderDash","options","maintainAspectRatio","aspectRatio","responsive","animation","duration","scales","y","grid","color","ticks","stepSize","min","max","title","display","font","size","x","maxTime","plugins","round","dragX","onDrag","onDragStart","onDragEnd","zoom","wheel","enabled","pinch","mode","tooltip","xAlign","yAlign","displayColors","caretPadding","caretSize","bodySpacing","legend","fullsize","position","align","name","padding","top","bottom","Component","withTheme","App","darkMode","locked","passwordError","password","keyboardLayout","isLocal","window","location","hostname","toggleDarkMode","setPrimaryColor","setSecondaryColor","fetchAppearance","appIdle","handlePasswordEnter","submitPassword","handleKeyboardInput","buffer","Uint8Array","map","toString","padStart","join","localStorage","getItem","socket","on","message","dark_mode","primary_color","secondary_color","fetch","then","response","json","result","disconnect","isDark","setItem","target","button","tempPassword","substring","crypto","subtle","digest","Buffer","from","axios","post","hashed","buf2hex","res","status","themeType","createTheme","type","timeout","onIdle","debounce","open","fullWidth","container","justifyContent","error","onChange","inputProps","autocomplete","form","variant","onClick","layoutName","layout","default","shift","caps","onKeyPress","Provider","exact","path","component","NotFound","Home","steps","description","StartButton","withStyles","root","Button","StopButton","runProfile","forceRunProfile","stop","cancelClicked","coolingDialogClose","currentProfile","historicTemperature","percentDone","activeStep","startWhenCoolingDialog","coolingDialog","current_profile","historic_temperature","nextState","off","override","reason","stopStartButton","startIcon","onClose","maxWidth","xsDown","item","sm","sx","paddingTop","orientation","square","step","style","width","margin","minWidth","smDown","spacing","alignItems","xs","mdUp","Link","to","pathname","tempHistory","ProfileList","SelectButton","DeleteButton","columns","field","headerName","editable","valueFormatter","params","Date","toLocaleString","profiles","activeItem","dialog","forceLoadDialog","allowUploadDownload","deleteDialog","loadClicked","forceLoadClicked","handleItemClick","handleDialogClose","downloadProfile","fileChanged","handleForceDialogClose","handleDeleteDialogClose","deleteClicked","deleteProfile","row","getData","forEach","element","profile_name","force_load","history","push","console","log","downloadableProfile","blob","Blob","JSON","stringify","FileSaver","saveAs","fileReader","FileReader","readAsText","files","onload","uploadedFile","parse","aria-label","autoFocus","direction","lg","rows","rowHeight","pageSize","checkboxSelection","disableMultipleSelection","onRowClick","autoHeight","accept","hidden","date_created","now","last_run","withRouter","EditProfile","loadDialog","enterNameDialog","newName","newDatapoints","newProfile","currentX","currentY","maxNodes","currentPoint","showHistory","saveProfile","handleInputChange","goBack","saveClicked","cancelEnterName","clearName","addX","subtractX","addY","subtractY","addTime","subtractTime","addNode","subtractNode","showHistoryClicked","tempProfile","newPoint","splice","Math","floor","i","j","tempPoint","ceil","new_name","checked","keyboard","historySwitch","paddingLeft","historicDatapoints","endAdornment","wrap","marginLeft","NetworkSettings","port","remoteConnections","messageToSend","inputChanged","focused","currentFocused","focusInputChange","save","handleSwitch","handlePortChange","handleMessageChange","sendMessage","handleOnFocus","handleInputClose","handleDialogInput","remote_connections","newSettings","changeFunction","tempString","charAt","inputValue","tempInput","inputDialog","Dialog","DialogTitle","Typography","DialogContent","Grid","TextField","DialogActions","Accordion","AccordionSummary","expandIcon","aria-controls","id","AccordionDetails","Checkbox","disabled","PidSettings","p","d","lookAhead","preheat","preheatPower","alwaysHitPeak","handlePChange","handleIChange","handleDChange","handlePreheatChange","handleLookAheadChange","handlePreheatPowerChange","handleAlwaysHitPeakChange","look_ahead","preheat_power","always_hit_peak","parseInt","InputProps","InputAdornment","HardwareSettings","relayPin","fanPin","coolingFanPin","thermocoupleOffset","percentOffset","relayError","fanError","coolingFanError","fanTurnoffTemp","thermo1","thermo2","calculated","refreshDisabled","thermocoupleAverageMode","handleRelayChange","handleFanChange","handleCoolingFanChange","handleFanTurnoffChange","handleThermocoupleOffset","handleThermocoupleRefresh","handlePercentOffset","handleThermocoupleMode","errorClose","relay_pin","fan_pin","cooling_fan_pin","fan_turnoff_temp","thermocouple_offset","percent_offset","thermocouple_average_mode","sensor_1","sensor_2","current","FormControl","InputLabel","Select","MenuItem","paddingBottom","RadioGroup","FormControlLabel","control","Radio","IconButton","AppearanceSettings","handleDarkSwitch","handlePrimaryChange","handleSecondaryChange","hex","Switch","Settings","StatusBar","Container","socketio","connect","SocketContext","React","createContext","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","StrictMode","document","getElementById","RelayOn","WhatshotIcon","CoolingOn","AcUnitIcon","ConvectionOn","ToysIcon","componentDidMount","componentWillUnmount","drawerChange","qrClicked","qrClosed","snackbarClosed","drawer","qrDialog","thermoDialog","percentage","temperature","address","serverMessage","serverMessageSeverity","serverMessageSnackbar","relayOn","coolingFanOn","fanOn","connected","backdrop","percent","relay","setTimeout","cooling_fan","fan","severity","clearTimeout","temperatureDisplay","relayIcon","coolingFanIcon","fanIcon","anchorOrigin","vertical","horizontal","autoHideDuration","elevation","zIndex","edge","fontWeight","height","minHeight"],"mappings":"mMAQMA,E,kDACF,WAAYC,GAAQ,IAAD,8BACf,cAAMA,IACDC,UAAY,EAAKA,UAAUC,KAAf,gBACjB,EAAKC,KAAO,EAAKA,KAAKD,KAAV,gBACZ,EAAKE,QAAU,EAAKA,QAAQF,KAAb,gBACf,EAAKG,MAAQ,CACTC,UAAW,EACXC,YAAa,GAPF,E,qDAWnB,WACQC,KAAKR,MAAMS,WAEXD,KAAKE,SAAS,CAAEJ,UAAW,GAAIC,YAAa,M,uBAKpD,SAAUI,EAAGC,EAAcC,EAAOC,GAC9BN,KAAKR,MAAMC,UAAUU,EAAGC,EAAcC,EAAOC,K,kBAGjD,SAAKH,EAAGC,EAAcC,EAAOC,GACzBN,KAAKR,MAAMG,KAAKQ,EAAGC,EAAcC,EAAOC,K,qBAG5C,SAAQH,EAAGC,EAAcC,EAAOC,GAC5BN,KAAKR,MAAMI,QAAQO,EAAGC,EAAcC,EAAOC,K,oBAG/C,WAAU,IAAD,OACDC,EAAYP,KAAKR,MAAMgB,MAAMC,QAAQC,KAAKC,KAC1CC,EAAeZ,KAAKR,MAAMgB,MAAMC,QAAQI,QAAQC,KAChDC,EAAqBC,gBAAMhB,KAAKR,MAAMgB,MAAMC,QAAQI,QAAQC,KAAM,IAClEG,EAAiBjB,KAAKR,MAAMgB,MAAMC,QAAQS,UAAUJ,KACpDK,EAAuBH,gBAAMhB,KAAKR,MAAMgB,MAAMC,QAAQS,UAAUJ,KAAM,IACtEM,EAAa,IAAIC,MAAM,IAAIC,KAAKP,GAChCQ,EAAwB,EAQ5B,OAPIvB,KAAKR,MAAMS,YACXmB,EAAWpB,KAAKR,MAAMgC,aAAeP,GAErCjB,KAAKR,MAAMiC,eAAqD,IAApCzB,KAAKR,MAAMiC,cAAcC,SACrDH,EAAwB,GAIxB,cAAC,IAAD,CAASI,KAAM,CACXC,SAAU,CACN,CACIC,MAAO,UACPF,KAAM3B,KAAKR,MAAMsC,QAAQC,WACzBC,qBAAsBZ,EACtBa,UAAU,EACVC,YAAa,IACbC,gBAAiBpB,EACjBqB,YAAaxB,EACbyB,YAAa,EACbtC,YAAaC,KAAKH,MAAME,YACxBuC,eAAgBtC,KAAKH,MAAMC,UAC3ByC,YAAavC,KAAKH,MAAME,YAAc,EACtCyC,SAAUxC,KAAKR,MAAMS,WAEzB,CACI4B,MAAO,sBACPF,KAAM3B,KAAKR,MAAMiC,cACjBQ,UAAU,EACVC,YAAa,IACbC,gBAAiBhB,EACjBiB,YAAanB,EACboB,YAAa,EACbtC,YAAawB,EACbgB,YAAahB,EAAwB,EACrCiB,UAAU,EACVC,WAAY,CAAC,GAAI,GACjBnB,KAAM,KAGfoB,QAAS,CACRC,qBAAqB,EACrBC,YAAa,IACbC,YAAY,EACZC,UAAW,CACPC,SAAU,GAEdC,OAAQ,CACJC,EAAG,CACCC,KAAM,CACFC,MAAO5C,GAEX6C,MAAO,CACHD,MAAO5C,EACP8C,SAAU,IAEdC,IAAK,EACLC,IAAK,IACLC,MAAO,CACH9C,KAAM,sBACN+C,SAAS,EACTN,MAAO5C,EACPmD,KAAM,CACFC,KAAM,SAIlBC,EAAG,CACCV,KAAM,CACFC,MAAO5C,GAEX6C,MAAO,CACHD,MAAO5C,EACP8C,SAAU,IAEdC,IAAK,EACLC,IAAKvD,KAAKR,MAAMqE,QAChBL,MAAO,CACH9C,KAAM,iBACN+C,SAAS,EACTN,MAAO5C,EACPmD,KAAM,CACFC,KAAM,UAMtBG,QAAS,CACLtB,SAAU,CACNuB,MAAO,EACPC,OAAO,EACPC,OAAQ,SAAC9D,EAAGC,EAAcC,EAAOC,GAAzB,OAAmC,EAAKX,KAAKQ,EAAGC,EAAcC,EAAOC,IAC7E4D,YAAa,SAAC/D,EAAGC,EAAcC,EAAOC,GAAzB,OAAmC,EAAKb,UAAUU,EAAGC,EAAcC,EAAOC,IACvF6D,UAAW,SAAChE,EAAGC,EAAcC,EAAOC,GAAzB,OAAmC,EAAKV,QAAQO,EAAGC,EAAcC,EAAOC,KAEvF8D,KAAM,CACFC,MAAO,CACHC,SAAS,GAEbC,MAAO,CACHD,SAAS,GAEbE,KAAM,MAEVC,QAAS,CACLC,OAAQ,QACRC,OAAQ,SACRC,eAAe,EACfC,aAAc,GACdC,UAAW,GACXC,YAAa,IAEjBC,OAAQ,CACJvB,SAAS,GAEbD,MAAO,CACHC,SAAS,EACTN,MAAO,QACP8B,UAAU,EACVC,SAAU,SACVC,MAAO,QACPzE,KAAMV,KAAKR,MAAMsC,QAAQsD,KACzBC,QAAS,CACLC,IAAK,EACLC,OAAQ,GAEZ7B,KAAM,CACFC,KAAM,a,GAvKZ6B,aAgLPC,gBAAUlG,I,2XC7JnBmG,E,kDACJ,WAAYlG,GAAQ,IAAD,8BACjB,cAAMA,IACDK,MAAQ,CACX8F,UAAU,EACV9E,QAAS,UACTK,UAAW,UACX0E,QAAQ,EACRC,eAAe,EACfC,SAAU,GACVC,eAAgB,UAChBC,QAAsC,cAA7BC,OAAOC,SAASC,UAAyD,cAA7BF,OAAOC,SAASC,UAEvE,EAAKC,eAAiB,EAAKA,eAAe1G,KAApB,gBACtB,EAAK2G,gBAAkB,EAAKA,gBAAgB3G,KAArB,gBACvB,EAAK4G,kBAAoB,EAAKA,kBAAkB5G,KAAvB,gBACzB,EAAK6G,gBAAkB,EAAKA,gBAAgB7G,KAArB,gBACvB,EAAK8G,QAAU,EAAKA,QAAQ9G,KAAb,gBACf,EAAK+G,oBAAsB,EAAKA,oBAAoB/G,KAAzB,gBAC3B,EAAKgH,eAAiB,EAAKA,eAAehH,KAApB,gBACtB,EAAKiH,oBAAsB,EAAKA,oBAAoBjH,KAAzB,gBAnBV,E,2CAsBnB,SAAQkH,GACR,OAAO,YAAI,IAAIC,WAAWD,IACvBE,KAAI,SAAAlD,GAAC,OAAIA,EAAEmD,SAAS,IAAIC,SAAS,EAAG,QACpCC,KAAK,M,+BAGR,WAAqB,IAAD,OACqB,SAAnCC,aAAaC,QAAQ,WACvBnH,KAAKE,SAAS,CAAE0F,QAAQ,IAE1B5F,KAAKuG,kBAELa,IAAOC,GAAG,qBAAqB,SAACC,GAC9B,EAAKpH,SAAS,CACZyF,SAAU2B,EAAQC,UAClB1G,QAASyG,EAAQE,cACjBtG,UAAWoG,EAAQG,uB,6BAKzB,WAAmB,IAAD,OAChBC,MAAM,4BACHC,MAAK,SAAAC,GAAQ,OAAIA,EAASC,UAC1BF,MAAK,SAAAG,GACJ,EAAK5H,SAAS,CAAEyF,SAAUmC,EAAOP,UAAW1G,QAASiH,EAAON,cAAetG,UAAW4G,EAAOL,uB,kCAKnG,WACEL,IAAOW,e,4BAGT,SAAeC,GACTA,EACFhI,KAAKE,SAAS,CAAEyF,UAAU,IAE1B3F,KAAKE,SAAS,CAAEyF,UAAU,M,6BAI9B,SAAgBxC,GACdnD,KAAKE,SAAS,CAAEW,QAASsC,M,+BAG3B,SAAkBA,GAChBnD,KAAKE,SAAS,CAAEgB,UAAWiC,M,qBAG7B,WACMnD,KAAKH,MAAMmG,UACbhG,KAAKE,SAAS,CAAE0F,QAAQ,IACxBsB,aAAae,QAAQ,SAAU,W,iCAInC,SAAoB9H,GAClBH,KAAKE,SAAS,CAAE4F,SAAU3F,EAAE+H,OAAO5H,U,iCAGrC,SAAoB6H,GAClB,GAAe,WAAXA,EACgC,SAA9BnI,KAAKH,MAAMkG,gBAA2D,UAA9B/F,KAAKH,MAAMkG,eACrD/F,KAAKE,SAAS,CAAE6F,eAAgB,YAEhC/F,KAAKE,SAAS,CAAE6F,eAAgB,cAE7B,GAAe,YAAXoC,EACyB,SAA9BnI,KAAKH,MAAMkG,gBAA2D,UAA9B/F,KAAKH,MAAMkG,eACrD/F,KAAKE,SAAS,CAAE6F,eAAgB,YAEhC/F,KAAKE,SAAS,CAAE6F,eAAgB,cAE7B,CACL,IAAIqC,EAAepI,KAAKH,MAAMiG,SAC9B,GAAe,WAAXqC,EACFC,EAAeA,EAAaC,UAAU,EAAGD,EAAa1G,OAAS,QAC1D,GAAe,YAAXyG,EACTC,GAAgB,QACX,IAAe,YAAXD,EAET,YADAnI,KAAK0G,iBAGU,UAAXyB,IACFC,GAAgBD,GAGpBnI,KAAKE,SAAS,CAAE4F,SAAUsC,IACQ,UAA9BpI,KAAKH,MAAMkG,gBACb/F,KAAKE,SAAS,CAAE6F,eAAgB,e,4BAKtC,WAAkB,IAAD,OACfE,OAAOqC,OAAOC,OAAOC,OAAO,UAAWC,EAAOC,KAAK1I,KAAKH,MAAMiG,WAAW6B,MAAK,SAACa,GAC7EG,IAAMC,KAAK,sBAAuB,CAAEC,OAAQ,EAAKC,QAAQN,KACtDb,MAAK,SAAAoB,GACoB,MAApBA,EAAIpH,KAAKqH,QACX,EAAK9I,SAAS,CAAE0F,QAAQ,EAAOE,SAAU,GAAID,eAAe,IAC5DqB,aAAae,QAAQ,SAAU,UACF,MAApBc,EAAIpH,KAAKqH,QAClB,EAAK9I,SAAS,CAAE2F,eAAe,EAAMC,SAAU,a,oBAOzD,WACE,IAAImD,EAAY,OACXjJ,KAAKH,MAAM8F,WACdsD,EAAY,SAEd,IAAMzI,EAAQ0I,YAAY,CACxBzI,QAAS,CACP0I,KAAMF,EACNpI,QAAS,CACPC,KAAMd,KAAKH,MAAMgB,SAEnBK,UAAW,CACTJ,KAAMd,KAAKH,MAAMqB,cAMvB,OACE,eAAC,IAAD,CAAeV,MAAOA,EAAtB,UACE,cAAC,IAAD,CACE4I,QAAS,IACTC,OAAQrJ,KAAKwG,QACb8C,SAAU,MAEZ,cAAC,IAAD,IACA,eAAC,IAAD,CAAQC,KAAMvJ,KAAKH,MAAM+F,OAAQ4D,WAAW,EAA5C,UACE,cAAC,IAAD,UACE,cAAC,IAAD,CAAYrE,MAAM,SAAlB,mDAIF,cAAC,IAAD,UACE,cAAC,IAAD,CAAMsE,WAAS,EAACC,eAAe,SAA/B,SACE,cAAC,IAAD,CACEC,MAAO3J,KAAKH,MAAMgG,cAClB+D,SAAU5J,KAAKyG,oBACfnG,MAAON,KAAKH,MAAMiG,SAClBqD,KAAK,WACLU,WAAY,CACVC,aAAc,eACdC,KAAM,CACJD,aAAc,cAMxB,cAAC,IAAD,UACE,cAAC,IAAD,CAAQ3G,MAAM,UAAU6G,QAAQ,UAAUC,QAASjK,KAAK0G,eAAxD,qBAEF,cAAC,IAAD,CACElG,MAAqB,SAAdyI,EAAuB,gBAAkB,mBAChDiB,WAAYlK,KAAKH,MAAMkG,eACvBoE,OAAQ,CACNC,QAAS,CACP,mCACA,mCACA,uCACA,sCACA,WAEFC,MAAO,CACL,mCACA,kCACA,uCACA,sCACA,WAEFC,KAAM,CACJ,mCACA,kCACA,uCACA,sCACA,YAGJC,WAAYvK,KAAK2G,yBAGrB,cAAC,IAAD,UAEE,cAAC,IAAc6D,SAAf,CAAwBlK,MAAO8G,IAA/B,SACE,eAAC,IAAD,WAEE,cAAC,IAAD,CAAOqD,OAAK,EAACC,KAAK,IAAlB,SACE,cAAC,IAAD,MAEF,cAAC,IAAD,CAAOA,KAAK,eAAZ,SACE,cAAC,IAAD,MAEF,cAAC,IAAD,CAAOA,KAAK,eAAZ,SACE,cAAC,IAAD,MAEF,cAAC,IAAD,CAAOA,KAAK,YAAZ,SACE,cAAC,IAAD,CACEtE,eAAgBpG,KAAKoG,eACrBC,gBAAiBrG,KAAKqG,gBACtBC,kBAAmBtG,KAAKsG,kBACxBzF,QAASb,KAAKH,MAAMgB,QACpBK,UAAWlB,KAAKH,MAAMqB,UACtByE,SAAU3F,KAAKH,MAAM8F,aAGzB,cAAC,IAAD,CAAOgF,UAAWC,oB,GA7OdpF,e,2WCNZqF,E,kDACJ,WAAYrL,GAAQ,IAAD,8BACjB,cAAMA,IAgDRsL,MAAQ,CACN,CACEjJ,MAAO,SAET,CACEA,MAAO,UACPkJ,YAAa,IAEf,CACElJ,MAAO,cACPkJ,YAAa,IAEf,CACElJ,MAAO,OACPkJ,YAAa,IAEf,CACElJ,MAAO,UACPkJ,YAAa,KAnEE,EAuEnBC,YAAcC,YAAW,CACvBC,KAAM,CACJ/I,gBAAiB,UACjB,UAAW,CACTA,gBAAiB,aAJT8I,CAOXE,KA9EgB,EAgFnBC,WAAaH,YAAW,CACtBC,KAAM,CACJ/I,gBAAiB,UACjB,UAAW,CACTA,gBAAiB,aAJV8I,CAOVE,KArFD,EAAKE,WAAa,EAAKA,WAAW3L,KAAhB,gBAClB,EAAK4L,gBAAkB,EAAKA,gBAAgB5L,KAArB,gBACvB,EAAK6L,KAAO,EAAKA,KAAK7L,KAAV,gBACZ,EAAK8L,cAAgB,EAAKA,cAAc9L,KAAnB,gBACrB,EAAK+L,mBAAqB,EAAKA,mBAAmB/L,KAAxB,gBAC1B,EAAKG,MAAS,CACZ6L,eAAgB,CACd,KAAQ,OACR,aAAgB,EAChB,SAAY,EACZ,WAAc,CACZ,CACE,EAAK,EACL,EAAK,IAEP,CACE,EAAK,GACL,EAAK,IAEP,CACE,EAAK,IACL,EAAK,IAEP,CACE,EAAK,IACL,EAAK,IAEP,CACE,EAAK,IACL,EAAK,IAEP,CACE,EAAK,IACL,EAAK,MAIXC,oBAAqB,GACrBC,YAAa,EACb5C,OAAQ,QACR6C,WAAY,EACZC,wBAAwB,EACxBC,eAAe,GA5CA,E,qDAyFnB,WAAqB,IAAD,OAClBrE,MAAM,wBACHC,MAAK,SAAAC,GAAQ,OAAIA,EAASC,UAC1BF,MAAK,SAAAG,GACJ,EAAK5H,SAAS,CAAEwL,eAAgB5D,EAAOkE,qBAE3C5E,IAAOC,GAAG,iBAAiB,SAACC,GAC1B,EAAKpH,SAAS,CACZwL,eAAgBpE,EAAQ0E,gBACxBL,oBAAqBrE,EAAQ2E,qBAC7BjD,OAAQ1B,EAAQ0B,SAEQ,UAAtB,EAAKnJ,MAAMmJ,OACb,EAAK9I,SAAS,CAAE2L,WAAY,IACG,YAAtB,EAAKhM,MAAMmJ,OACpB,EAAK9I,SAAS,CAAE2L,WAAY,IACG,YAAtB,EAAKhM,MAAMmJ,OACpB,EAAK9I,SAAS,CAAE2L,WAAY,IACG,SAAtB,EAAKhM,MAAMmJ,OACpB,EAAK9I,SAAS,CAAE2L,WAAY,IACG,YAAtB,EAAKhM,MAAMmJ,QACpB,EAAK9I,SAAS,CAAE2L,WAAY,OAGhCzE,IAAOC,GAAG,kBAAkB,SAACC,GAC3B,EAAKpH,SAAS,CACZ6L,eAAe,S,mCAMrB,SAAsBG,GACpB,OAAO,I,kCAGT,WACE9E,IAAO+E,IAAI,iBACX/E,IAAO+E,IAAI,oB,wBAGb,WAAc,IAAD,OACTxD,IAAMC,KAAK,WAAY,CAAEwD,UAAU,IAChCzE,MAAK,SAAAoB,GACoB,MAApBA,EAAIpH,KAAKqH,OACX,EAAK9I,SAAS,CAAE8I,OAAQ,YACK,MAApBD,EAAIpH,KAAKqH,QAClB,EAAK9I,SAAS,CAAE4L,wBAAwB,S,6BAKlD,WAAmB,IAAD,OAChBnD,IAAMC,KAAK,WAAY,CAAEwD,UAAU,IAChCzE,MAAK,SAAAoB,GACoB,MAApBA,EAAIpH,KAAKqH,QACX,EAAK9I,SAAS,CAAE8I,OAAQ,UAAW8C,wBAAwB,S,kBAKnE,WAAQ,IAAD,OACLnD,IAAMC,KAAK,YAAa,CAAEyD,OAAQ,SAC/B1E,MAAK,SAAAoB,GACoB,MAApBA,EAAIpH,KAAKqH,QACX,EAAK9I,SAAS,CAAE8I,OAAQ,e,2BAKhC,WACEhJ,KAAKE,SAAS,CAAE4L,wBAAwB,M,gCAG1C,WACE9L,KAAKE,SAAS,CAAE6L,eAAe,M,oBAGjC,WACE,IACIO,EAMJ,OAJEA,EAHsC,YAAtBtM,KAAKH,MAAMmJ,QAA8C,YAAtBhJ,KAAKH,MAAMmJ,QAA8C,SAAtBhJ,KAAKH,MAAMmJ,OAG/E,mBAAMoC,WAAN,CAAiBnB,QAASjK,KAAKuL,KAAMgB,UAAW,cAAC,IAAD,IAAcvC,QAAQ,YAAY7G,MAAM,UAAxF,kBAEA,mBAAM6H,YAAN,CAAkBf,QAASjK,KAAKqL,WAAYkB,UAAW,cAAC,IAAD,IAAmBvC,QAAQ,YAAY7G,MAAM,UAApG,mBAGlB,qCACE,cAAC,IAAD,IAEA,eAAC,IAAD,CAAQoG,KAAMvJ,KAAKH,MAAMiM,uBAAwBU,QAASxM,KAAKwL,cAA/D,UACE,cAAC,IAAD,iCAGA,cAAC,IAAD,oCAGA,eAAC,IAAD,WACE,cAAC,IAAD,CAAQvB,QAASjK,KAAKwL,cAAerI,MAAM,UAAU6G,QAAQ,YAA7D,oBAGA,cAAC,IAAD,CAAQC,QAASjK,KAAKsL,gBAAiBnI,MAAM,UAAU6G,QAAQ,YAA/D,gCAMJ,eAAC,IAAD,CAAQT,KAAMvJ,KAAKH,MAAMkM,cAAeS,QAASxM,KAAKyL,mBAAtD,UACE,cAAC,IAAD,8BAGA,cAAC,IAAD,iCAGA,cAAC,IAAD,UACE,cAAC,IAAD,CAAQxB,QAASjK,KAAKyL,mBAAoBtI,MAAM,UAAU6G,QAAQ,YAAlE,qBAMJ,eAAC,IAAD,CAAWyC,UAAU,EAArB,UAEE,eAAC,IAAD,CAAMhD,WAAS,EAAf,UACE,cAAC,IAAD,CAAQiD,QAAM,EAAd,SACE,cAAC,IAAD,CAAMC,MAAI,EAACC,GAAI,EAAf,SACE,cAAC,IAAD,CAAKC,GAAI,CAAEC,WAAY,IAAvB,SACE,cAAC,IAAD,UACE,cAAC,IAAD,CAASjB,WAAY7L,KAAKH,MAAMgM,WAAYkB,YAAY,WAAWC,QAAQ,EAA3E,SACGhN,KAAK8K,MAAMhE,KAAI,SAACmG,EAAM5M,GAAP,OACd,cAAC,IAAD,UACE,cAAC,IAAD,UACE,cAAC,IAAD,CAAY2J,QAAQ,YAAY7E,MAAM,OAAtC,SACG8H,EAAKpL,WAHDoL,EAAKpL,oBAe5B,cAAC,IAAD,CAAM8K,MAAI,EAACC,GAAI,GAAf,SACE,qBAAKM,MAAO,CAAEJ,WAAY,OAAQK,MAAO,MAAOC,OAAQ,aAAcC,SAAU,KAAhF,SACE,eAAC,IAAD,WACE,cAAC,IAAD,CAAQC,QAAM,EAAd,SACE,cAAC,IAAD,CAAYnI,MAAM,SAAS6E,QAAQ,KAAnC,SACE,4BAAIhK,KAAKH,MAAM6L,eAAetG,WAGlC,qBAAK8H,MAAO,CAAC7H,QAAS,uBAAtB,SACE,cAAC,IAAD,CAASpF,WAAW,EAAO6B,QAAS9B,KAAKH,MAAM6L,eAAgBjK,cAAezB,KAAKH,MAAM8L,kCAOnG,eAAC,IAAD,CAAMlC,WAAS,EAAC8D,QAAS,EAAGC,WAAW,SAAS9D,eAAe,gBAAgBwD,MAAO,CAAEJ,WAAY,QAApG,UACE,cAAC,IAAD,CAAMH,MAAI,EAACc,GAAI,EAAf,SACE,cAAC,IAAD,CAAQC,MAAI,EAAZ,SACE,cAAC,IAAD,CAAOR,MAAO,CAAE7H,QAAS,oBAAzB,SACE,eAAC,IAAD,uBACYrF,KAAKH,MAAM6L,eAAetG,cAO5C,cAAC,IAAD,CAAMuH,MAAI,EAAV,SAEE,eAAC,IAAD,CAAMlD,WAAS,EAAC8D,QAAS,EAAzB,UACE,cAAC,IAAD,CAAMZ,MAAI,EAAV,SACE,cAAC,IAAD,CAAQhC,UAAWgD,IAAMC,GAAI,CAAEC,SAAU,gBAAkBtB,UAAW,cAAC,IAAD,IAAiBvC,QAAQ,YAAY7G,MAAM,UAAjH,4BAEF,cAAC,IAAD,CAAMwJ,MAAI,EAAV,SACE,cAAC,IAAD,CAAQhC,UAAWgD,IAAMC,GAAI,CAAEC,SAAU,eAAgBhO,MAAO,CAAEiC,QAAS9B,KAAKH,MAAM6L,eAAgBoC,YAAa9N,KAAKH,MAAM8L,sBAAyBY,UAAW,cAAC,IAAD,IAAcvC,QAAQ,YAAY7G,MAAM,UAA1M,oBAEF,cAAC,IAAD,CAAMwJ,MAAI,EAAV,SACGL,sB,GAjRA9G,aA4RJqF,O,+XC/RTkD,E,kDACJ,aAAe,IAAD,uBACZ,gBAyBFC,aAAe/C,YAAW,CACxBC,KAAM,CACJ/I,gBAAiB,UACjB,UAAW,CACTA,gBAAiB,aAJR8I,CAOZE,KAjCW,EAmCd8C,aAAehD,YAAW,CACxBC,KAAM,CACJ/I,gBAAiB,UACjB,UAAW,CACTA,gBAAiB,aAJR8I,CAOZE,KA1CW,EA4Cd+C,QAAU,CACR,CACEC,MAAO,OACPC,WAAY,eACZjB,MAAO,KAET,CACEgB,MAAO,WACPC,WAAY,cACZjF,KAAM,WACNgE,MAAO,IACPkB,UAAU,EACVC,eAAgB,SAACC,GACf,OAAqB,IAAjBA,EAAOjO,MACF,QAEA,IAAIkO,KAAKD,EAAOjO,OAAOmO,mBAIpC,CACEN,MAAO,eACPC,WAAY,eACZjF,KAAM,WACNgE,MAAO,IACPkB,UAAU,EACVC,eAAgB,SAACC,GACf,OAAqB,IAAjBA,EAAOjO,MACF,MAEA,IAAIkO,KAAKD,EAAOjO,OAAOmO,oBAxEpC,IAAIzI,GAAU,EAFF,MAGqB,cAA7BC,OAAOC,SAASC,UAAyD,cAA7BF,OAAOC,SAASC,UAAyD,KAA7BF,OAAOC,SAASC,WAC1GH,GAAU,GAEZ,EAAKnG,MAAS,CACZ6O,SAAU,GACVC,WAAY,GACZC,QAAQ,EACRC,iBAAiB,EACjBC,qBAAsB9I,EACtB+I,cAAc,GAEhB,EAAKC,YAAc,EAAKA,YAAYtP,KAAjB,gBACnB,EAAKuP,iBAAmB,EAAKA,iBAAiBvP,KAAtB,gBACxB,EAAKwP,gBAAkB,EAAKA,gBAAgBxP,KAArB,gBACvB,EAAKyP,kBAAoB,EAAKA,kBAAkBzP,KAAvB,gBACzB,EAAK0P,gBAAkB,EAAKA,gBAAgB1P,KAArB,gBACvB,EAAK2P,YAAc,EAAKA,YAAY3P,KAAjB,gBACnB,EAAK4P,uBAAyB,EAAKA,uBAAuB5P,KAA5B,gBAC9B,EAAK6P,wBAA0B,EAAKA,wBAAwB7P,KAA7B,gBAC/B,EAAK8P,cAAgB,EAAKA,cAAc9P,KAAnB,gBACrB,EAAK+P,cAAgB,EAAKA,cAAc/P,KAAnB,gBAvBT,E,mDAiFd,SAAgBS,GACdH,KAAKE,SAAS,CAAEyO,WAAYxO,EAAEuP,MAC9B1P,KAAKE,SAAS,CAAE0O,QAAQ,M,+BAG1B,WACE5O,KAAKE,SAAS,CAAE0O,QAAQ,M,oCAG1B,WACE5O,KAAKE,SAAS,CAAE2O,iBAAiB,M,qCAGnC,WACE7O,KAAKE,SAAS,CAAE6O,cAAc,M,+BAGhC,WACE/O,KAAK2P,Y,qBAGP,WAAW,IAAD,OACRjI,MAAM,4BACHC,MAAK,SAAAC,GAAQ,OAAIA,EAASC,UAC1BF,MAAK,SAAAG,GACJA,EAAO8H,SAAQ,SAAAC,GACbA,EAAO,GAASA,EAAQzK,QAE1B,EAAKlF,SAAS,CAAEwO,SAAU5G,S,yBAIhC,WAAe,IAAD,OACZa,IAAMC,KAAK,4BAA6B,CAAEkH,aAAc9P,KAAKH,MAAM8O,WAAWvJ,KAAM2K,YAAY,IAC7FpI,MAAK,SAAAoB,GAEJ,GAAwB,MAApBA,EAAIpH,KAAKqH,OAAgB,CAE3B,IAAQgH,EAAY,EAAKxQ,MAAjBwQ,QACJA,GAASA,EAAQC,KAAK,UAEC,MAApBlH,EAAIpH,KAAKqH,SAChBkH,QAAQC,IAAI,WACZ,EAAKjQ,SAAS,CAAE2O,iBAAiB,U,8BAKzC,WAAoB,IAAD,OACjBlG,IAAMC,KAAK,4BAA6B,CAAEkH,aAAc9P,KAAKH,MAAM8O,WAAWvJ,KAAM2K,YAAY,IAC7FpI,MAAK,SAAAoB,GAEJ,GAAwB,MAApBA,EAAIpH,KAAKqH,OAAgB,CAE3B,IAAQgH,EAAY,EAAKxQ,MAAjBwQ,QACJA,GAASA,EAAQC,KAAK,W,6BAKlC,WACE,IAAIG,EAAsBpQ,KAAKH,MAAM8O,kBAC9ByB,EAAmB,GAC1B,IAAIC,EAAO,IAAIC,KAAK,CAACC,KAAKC,UAAUJ,EAAqB,KAAM,IAAK,CAAEjH,KAAM,6BAC5EsH,IAAUC,OAAOL,EAAMD,EAAoBhL,KAAO,W,yBAGpD,SAAYjF,GAAI,IAAD,OACPwQ,EAAa,IAAIC,WACvBD,EAAWE,WAAW1Q,EAAE+H,OAAO4I,MAAM,GAAI,SACzCH,EAAWI,OAAS,SAAC5Q,GACnB,IAAI6Q,EAAeT,KAAKU,MAAM9Q,EAAE+H,OAAOJ,QACvCa,IAAMC,KAAK,4BAA6BoI,GACrCrJ,MAAK,SAAAoB,GACJ,EAAK4G,gB,2BAKb,WAAiB,IAAD,OACdhH,IAAMC,KAAK,8BAA+B,CAAEkH,aAAc9P,KAAKH,MAAM8O,WAAWvJ,OAC7EuC,MAAK,SAAAoB,GACJ,EAAK4G,UACL,EAAKzP,SAAS,CAAE6O,cAAc,EAAOH,QAAQ,S,2BAInD,WACE5O,KAAKE,SAAS,CAAE6O,cAAc,M,oBAGhC,WACE,OACE,qCACE,cAAC,IAAD,IACA,eAAC,IAAD,CAAQvC,QAASxM,KAAKmP,kBAAmB5F,KAAMvJ,KAAKH,MAAM+O,OAAQpF,WAAW,EAA7E,UACE,cAAC,IAAD,UACE,eAAC,IAAD,CAAMC,WAAS,EAACC,eAAe,gBAA/B,UACE,cAAC,IAAD,CAAMiD,MAAI,EAAV,SACG3M,KAAKH,MAAM8O,WAAWvJ,OAEzB,cAAC,IAAD,CAAMuH,MAAI,EAAV,SACE,cAAC,IAAD,CAAYuE,aAAW,QAAQjH,QAASjK,KAAKmP,kBAA7C,SACE,cAAC,IAAD,aAKR,cAAC,IAAD,UACE,qBAAKjC,MAAO,CAACC,MAAO,OAApB,SACE,cAAC,IAAD,CAASlN,WAAW,EAAO6B,QAAS9B,KAAKH,MAAM8O,WAAYlN,cAAe,SAG9E,cAAC,IAAD,UACE,eAAC,IAAD,CAAMgI,WAAS,EAACC,eAAe,gBAA/B,UACE,cAAC,IAAD,CAAMiD,MAAI,EAAV,SACE,mBAAMsB,aAAN,CAAmB1B,UAAW,cAAC,IAAD,IAAgBvC,QAAQ,YAAY7G,MAAM,UAAU8G,QAASjK,KAAKwP,cAAhG,sBAEF,cAAC,IAAD,CAAM7C,MAAI,EAAV,SACE,eAAC,IAAD,CAAMlD,WAAS,EAAC8D,QAAS,EAAzB,UACE,cAAC,IAAD,CAAMZ,MAAI,EAAV,SACG3M,KAAKH,MAAMiP,qBACV,cAAC,IAAD,CAAQvC,UAAW,cAAC,IAAD,IAAiBvC,QAAQ,YAAY7G,MAAM,UAAU8G,QAASjK,KAAKoP,gBAAtF,wBAGJ,cAAC,IAAD,CAAMzC,MAAI,EAAV,SACE,cAAC,IAAD,CAAQhC,UAAWgD,IAAMC,GAAI,CAAEC,SAAU,eAAgBhO,MAAO,CAAEiC,QAAS9B,KAAKH,MAAM8O,aAAgBpC,UAAW,cAAC,IAAD,IAAcvC,QAAQ,YAAY7G,MAAM,UAAzJ,oBAEF,cAAC,IAAD,CAAMwJ,MAAI,EAAV,SACE,mBAAMqB,aAAN,CAAmB/D,QAASjK,KAAKgP,YAAazC,UAAW,cAAC,IAAD,IAAcvC,QAAQ,YAAY7G,MAAM,UAAjG,iCAQZ,eAAC,IAAD,CAAQoG,KAAMvJ,KAAKH,MAAMgP,gBAAzB,UACE,cAAC,IAAD,qCAGA,cAAC,IAAD,0CAGA,eAAC,IAAD,WACE,cAAC,IAAD,CAAQ5E,QAASjK,KAAKsP,uBAAwBnM,MAAM,UAApD,oBAGA,cAAC,IAAD,CAAQ8G,QAASjK,KAAKiP,iBAAkB9L,MAAM,UAAUgO,WAAS,EAAjE,8BAMJ,eAAC,IAAD,CAAQ5H,KAAMvJ,KAAKH,MAAMkP,aAAcvC,QAASxM,KAAKuP,wBAArD,UACE,cAAC,IAAD,6BAGA,eAAC,IAAD,+CACoCvP,KAAKH,MAAM8O,WAAWvJ,KAD1D,QAGA,eAAC,IAAD,WACE,cAAC,IAAD,CAAQ6E,QAASjK,KAAKuP,wBAAyBpM,MAAM,UAArD,oBAGA,cAAC,IAAD,CAAQ8G,QAASjK,KAAKyP,cAAetM,MAAM,UAAUgO,WAAS,EAA9D,uBAMJ,cAAC,IAAD,CAAW1E,UAAU,EAArB,SACE,cAAC,IAAD,CAAMhD,WAAS,EAAC2H,UAAW,MAAOjM,MAAO,SAAUuE,eAAgB,SAAU6D,QAAS,EAAtF,SACE,cAAC,IAAD,CAAMZ,MAAI,EAACc,GAAI,GAAI4D,GAAI,GAAInE,MAAO,CAACJ,WAAY,QAA/C,SACE,cAAC,IAAD,CACEwE,KAAMtR,KAAKH,MAAM6O,SACjB6C,UAAW,GACXrD,QAASlO,KAAKkO,QACdsD,SAAU,EACVC,mBAAmB,EACnBC,0BAA0B,EAC1BC,WAAY3R,KAAKkP,gBACjB0C,YAAY,UAMpB,cAAC,IAAD,CAAWnF,UAAU,EAArB,SACE,eAAC,IAAD,CAAMhD,WAAS,EAAC8D,QAAS,EAAG7D,eAAe,WAA3C,UACE,cAAC,IAAD,CAAMiD,MAAI,EAAV,SACE,cAAC,IAAD,CAAQhC,UAAWgD,IAAMC,GAAG,IAAIrB,UAAW,cAAC,IAAD,IAAgBvC,QAAQ,YAAY7G,MAAM,UAArF,sBAECnD,KAAKH,MAAMiP,qBACV,cAAC,IAAD,CAAMnC,MAAI,EAAV,SACF,eAAC,IAAD,CAAQJ,UAAW,cAAC,IAAD,IAAiBvC,QAAQ,YAAY7G,MAAM,UAAUwH,UAAU,QAAlF,mBAAiG,uBAAOxB,KAAK,OAAO0I,OAAO,mBAAmBC,QAAM,EAAClI,SAAU5J,KAAKqP,mBAGtK,cAAC,IAAD,CAAM1C,MAAI,EAAV,SACE,cAAC,IAAD,CAAQhC,UAAWgD,IAAMC,GAAI,CAC3BC,SAAU,eAAgBhO,MAAO,CAC/BiC,QAAS,CACPsD,KAAM,cACN2M,aAAcvD,KAAKwD,MACnBC,SAAU,EACVlQ,WAAY,CACV,CACE6B,EAAG,EACHX,EAAG,IAEL,CACEW,EAAG,GACHX,EAAG,IAEL,CACEW,EAAG,IACHX,EAAG,IAEL,CACEW,EAAG,IACHX,EAAG,IAEL,CACEW,EAAG,IACHX,EAAG,IAEL,CACEW,EAAG,IACHX,EAAG,QAGNsJ,UAAW,cAAC,IAAD,IAAiBvC,QAAQ,YAAY7G,MAAM,UAhC7D,sC,GAzRYqC,aAqUX0M,gBAAWnE,I,mGCnVpBnD,E,4JAGF,WACI,OACI,qCACI,cAAC,IAAD,IACA,cAAC,IAAD,CAAYZ,QAAQ,KAAK7E,MAAM,SAA/B,sD,GAPOK,aAcRoF,O,ucCSTuH,E,kDACJ,WAAY3S,GAAQ,IAAD,8BACjB,cAAMA,IACDK,MAAS,CACZuS,YAAY,EACZvD,iBAAiB,EACjBwD,iBAAiB,EACjBC,QAAS,EAAK9S,MAAM0G,SAASrG,MAAMiC,QAAQsD,KAC3CmN,cAAe,EAAK/S,MAAM0G,SAASrG,MAAMiC,QAAQC,WACjDyQ,WAAY,EAAKhT,MAAM0G,SAASrG,MAAMiC,QACtC2Q,SAAU,EAAKjT,MAAM0G,SAASrG,MAAMiC,QAAQC,WAAW,GAAG6B,EAC1D8O,SAAU,EAAKlT,MAAM0G,SAASrG,MAAMiC,QAAQC,WAAW,GAAGkB,EAC1DY,QAAS,IACT8O,SAAU,EACVC,aAAc,EACdC,aAAa,EACb9M,eAAgB,UAChB+H,YAAa,EAAKtO,MAAM0G,SAASrG,MAAMiO,aAAe,GACtD9H,QAAsC,cAA7BC,OAAOC,SAASC,UAAyD,cAA7BF,OAAOC,SAASC,UAEvE,EAAK2M,YAAc,EAAKA,YAAYpT,KAAjB,gBACnB,EAAKqT,kBAAoB,EAAKA,kBAAkBrT,KAAvB,gBACzB,EAAKsT,OAAS,EAAKA,OAAOtT,KAAZ,gBACd,EAAKsP,YAAc,EAAKA,YAAYtP,KAAjB,gBACnB,EAAKuP,iBAAmB,EAAKA,iBAAiBvP,KAAtB,gBACxB,EAAK8L,cAAgB,EAAKA,cAAc9L,KAAnB,gBACrB,EAAKuT,YAAc,EAAKA,YAAYvT,KAAjB,gBACnB,EAAKiH,oBAAsB,EAAKA,oBAAoBjH,KAAzB,gBAC3B,EAAKwT,gBAAkB,EAAKA,gBAAgBxT,KAArB,gBACvB,EAAKyT,UAAY,EAAKA,UAAUzT,KAAf,gBACjB,EAAKD,UAAY,EAAKA,UAAUC,KAAf,gBACjB,EAAKC,KAAO,EAAKA,KAAKD,KAAV,gBACZ,EAAKE,QAAU,EAAKA,QAAQF,KAAb,gBACf,EAAK0T,KAAO,EAAKA,KAAK1T,KAAV,gBACZ,EAAK2T,UAAY,EAAKA,UAAU3T,KAAf,gBACjB,EAAK4T,KAAO,EAAKA,KAAK5T,KAAV,gBACZ,EAAK6T,UAAY,EAAKA,UAAU7T,KAAf,gBACjB,EAAK8T,QAAU,EAAKA,QAAQ9T,KAAb,gBACf,EAAK+T,aAAe,EAAKA,aAAa/T,KAAlB,gBACpB,EAAKgU,QAAU,EAAKA,QAAQhU,KAAb,gBACf,EAAKiU,aAAe,EAAKA,aAAajU,KAAlB,gBACpB,EAAKkU,mBAAqB,EAAKA,mBAAmBlU,KAAxB,gBAxCT,E,wCA2CnB,WACE,GAAIM,KAAKH,MAAM4S,SAAWzS,KAAKH,MAAMgE,QAAS,CAC5C,IAAIgQ,EAAc7T,KAAKH,MAAM2S,WAC7BqB,EAAY9R,WAAW/B,KAAKH,MAAM+S,cAAchP,GAAK,EACrD5D,KAAKE,SAAS,CAAEsS,WAAYqB,EAAapB,SAAUzS,KAAKH,MAAM4S,SAAW,O,uBAI7E,WACE,GAAIzS,KAAKH,MAAM4S,SAAW,EAAG,CAC3B,IAAIoB,EAAc7T,KAAKH,MAAM2S,WAC7BqB,EAAY9R,WAAW/B,KAAKH,MAAM+S,cAAchP,GAAK,EACrD5D,KAAKE,SAAS,CAAEsS,WAAYqB,EAAapB,SAAUzS,KAAKH,MAAM4S,SAAW,O,kBAI7E,WACE,GAAIzS,KAAKH,MAAM6S,SAAW,IAAK,CAC7B,IAAImB,EAAc7T,KAAKH,MAAM2S,WAC7BqB,EAAY9R,WAAW/B,KAAKH,MAAM+S,cAAc3P,GAAK,EACrDjD,KAAKE,SAAS,CAAEsS,WAAYqB,EAAanB,SAAU1S,KAAKH,MAAM6S,SAAW,O,uBAI7E,WACE,GAAI1S,KAAKH,MAAM6S,SAAW,EAAG,CAC3B,IAAImB,EAAc7T,KAAKH,MAAM2S,WAC7BqB,EAAY9R,WAAW/B,KAAKH,MAAM+S,cAAc3P,GAAK,EACrDjD,KAAKE,SAAS,CAAEsS,WAAYqB,EAAanB,SAAU1S,KAAKH,MAAM6S,SAAW,O,qBAI7E,WACM1S,KAAKH,MAAMgE,QAAU,KACvB7D,KAAKE,SAAS,CAAC2D,QAAS7D,KAAKH,MAAMgE,QAAU,Q,0BAIjD,WACM7D,KAAKH,MAAMgE,QAAU,GAAK7D,KAAKH,MAAMgE,QAAU,KAAO7D,KAAKH,MAAM2S,WAAWzQ,WAAW/B,KAAKH,MAAM2S,WAAWzQ,WAAWL,OAAS,GAAGkC,GACtI5D,KAAKE,SAAS,CAAE2D,QAAS7D,KAAKH,MAAMgE,QAAU,Q,qBAIlD,WACE,GAAI7D,KAAKH,MAAM2S,WAAWzQ,WAAWL,OAAS,GAAI,CAChD,IAAImS,EAAc7T,KAAKH,MAAM2S,WACzBsB,EAAW,GACX9T,KAAKH,MAAM+S,eAAiB5S,KAAKH,MAAM2S,WAAWzQ,WAAWL,OAAS,EACpE1B,KAAKH,MAAM2S,WAAWzQ,WAAW/B,KAAKH,MAAM+S,cAAchP,GAAK5D,KAAKH,MAAMgE,QAAU,IACtFiQ,EAASlQ,EAAIiQ,EAAY9R,WAAW/B,KAAKH,MAAM+S,cAAchP,EAAI,GACjEkQ,EAAS7Q,EAAI4Q,EAAY9R,WAAW/B,KAAKH,MAAM+S,cAAc3P,EAC7D4Q,EAAY9R,WAAWgS,OAAO/T,KAAKH,MAAM+S,aAAe,EAAG,EAAGkB,GAC9D9T,KAAKE,SAAS,CAAE0S,aAAc5S,KAAKH,MAAM+S,aAAe,EAAGH,SAAUqB,EAASlQ,EAAG8O,SAAUoB,EAAS7Q,MAEpG6Q,EAASlQ,EAAIoQ,KAAKC,OAAOJ,EAAY9R,WAAW/B,KAAKH,MAAM+S,cAAchP,EAAIiQ,EAAY9R,WAAW/B,KAAKH,MAAM+S,aAAe,GAAGhP,GAAK,GACtIkQ,EAAS7Q,EAAI+Q,KAAKC,OAAOJ,EAAY9R,WAAW/B,KAAKH,MAAM+S,cAAc3P,EAAI4Q,EAAY9R,WAAW/B,KAAKH,MAAM+S,aAAe,GAAG3P,GAAK,GACtI4Q,EAAY9R,WAAWgS,OAAO/T,KAAKH,MAAM+S,aAAc,EAAGkB,GAC1D9T,KAAKE,SAAS,CAAEuS,SAAUqB,EAASlQ,EAAG8O,SAAUoB,EAAS7Q,MAG3D6Q,EAASlQ,EAAIoQ,KAAKC,OAAOJ,EAAY9R,WAAW/B,KAAKH,MAAM+S,cAAchP,EAAIiQ,EAAY9R,WAAW/B,KAAKH,MAAM+S,aAAe,GAAGhP,GAAK,GACtIkQ,EAAS7Q,EAAI+Q,KAAKC,OAAOJ,EAAY9R,WAAW/B,KAAKH,MAAM+S,cAAc3P,EAAI4Q,EAAY9R,WAAW/B,KAAKH,MAAM+S,aAAe,GAAG3P,GAAK,GACtI4Q,EAAY9R,WAAWgS,OAAO/T,KAAKH,MAAM+S,aAAe,EAAG,EAAGkB,GAC9D9T,KAAKE,SAAS,CAAE0S,aAAc5S,KAAKH,MAAM+S,aAAe,EAAGH,SAAUqB,EAASlQ,EAAG8O,SAAUoB,EAAS7Q,KAEtGjD,KAAKE,SAAS,CAAEsS,WAAYqB,EAAalB,SAAU3S,KAAKH,MAAM8S,SAAW,O,0BAI7E,WACE,GAAI3S,KAAKH,MAAM2S,WAAWzQ,WAAWL,OAAS,EAAG,CAC/C,IAAImS,EAAc7T,KAAKH,MAAM2S,WACG,IAA5BxS,KAAKH,MAAM+S,cACbiB,EAAY9R,WAAWgS,OAAO/T,KAAKH,MAAM+S,aAAc,GACvD5S,KAAKE,SAAS,CACZuS,SAAUzS,KAAKH,MAAM2S,WAAWzQ,WAAW/B,KAAKH,MAAM+S,cAAchP,EACpE8O,SAAU1S,KAAKH,MAAM2S,WAAWzQ,WAAW/B,KAAKH,MAAM+S,cAAc3P,MAGtE4Q,EAAY9R,WAAWgS,OAAO/T,KAAKH,MAAM+S,aAAc,GACvD5S,KAAKE,SAAS,CACZ0S,aAAc5S,KAAKH,MAAM+S,aAAe,EACxCH,SAAUzS,KAAKH,MAAM2S,WAAWzQ,WAAW/B,KAAKH,MAAM+S,aAAe,GAAGhP,EACxE8O,SAAU1S,KAAKH,MAAM2S,WAAWzQ,WAAW/B,KAAKH,MAAM+S,aAAe,GAAG3P,KAG5EjD,KAAKE,SAAS,CAAEsS,WAAYqB,EAAalB,SAAU3S,KAAKH,MAAM8S,SAAW,O,uBAI7E,SAAUxS,EAAGC,EAAcC,EAAOC,GAChCN,KAAKE,SAAS,CAAE0S,aAAcvS,M,kBAGhC,SAAKF,EAAGC,EAAcC,EAAOC,GAC3B,IAAIuT,EAAc7T,KAAKH,MAAM2S,WAC7BqB,EAAY9R,WAAW1B,GAASC,EAChCN,KAAKE,SAAS,CAAEuS,SAAUnS,EAAMsD,EAAG8O,SAAUpS,EAAM2C,EAAGuP,WAAYqB,M,qBAGpE,SAAQ1T,EAAGC,EAAcC,EAAOC,GAC9B,IAAIuT,EAAc7T,KAAKH,MAAM2S,WAC7BqB,EAAY9R,WAAW1B,GAASC,EAGhC,IAAK,IAAI4T,EAAI,EAAGA,EAAIL,EAAY9R,WAAWL,OAAQwS,IACjD,IAAK,IAAIC,EAAID,EAAGC,EAAIN,EAAY9R,WAAWL,OAAQyS,IACjD,GAAIN,EAAY9R,WAAWoS,GAAGvQ,EAAIiQ,EAAY9R,WAAWmS,GAAGtQ,EAAG,CAEzDsQ,IAAM7T,EACRA,EAAQ8T,EACCA,IAAM9T,IACfA,EAAQ6T,GAEV,IAAIE,EAAYP,EAAY9R,WAAWmS,GACvCL,EAAY9R,WAAWmS,GAAKL,EAAY9R,WAAWoS,GACnDN,EAAY9R,WAAWoS,GAAKC,EAIlCpU,KAAKE,SAAS,CAAEuS,SAAUnS,EAAMsD,EAAG8O,SAAUpS,EAAM2C,EAAG2P,aAAcvS,EAAOmS,WAAYqB,M,+BAGzF,SAAkB1T,GAChB,IAAI0T,EAAc7T,KAAKH,MAAM2S,WAC7BqB,EAAYzO,KAAOjF,EAAE+H,OAAO5H,MAC5BN,KAAKE,SAAS,CAAEsS,WAAYqB,M,+BAG9B,WACE7T,KAAKE,SAAS,CACZ2D,QAA4G,IAAnGmQ,KAAKK,KAAKrU,KAAKH,MAAM2S,WAAWzQ,WAAW/B,KAAKH,MAAM2S,WAAWzQ,WAAWL,OAAS,GAAGkC,EAAI,KACrG+O,SAAU3S,KAAKH,MAAM2S,WAAWzQ,WAAWL,W,oBAI/C,WACE1B,KAAKR,MAAMwQ,QAAQgD,W,yBAGrB,WAAe,IAAD,OACZrK,IAAMC,KAAK,4BAA6B,CAAEkH,aAAc9P,KAAKH,MAAM2S,WAAWpN,KAAM2K,YAAY,IAC7FpI,MAAK,SAAAoB,GAEJ,GAAwB,MAApBA,EAAIpH,KAAKqH,OAAgB,CAE3B,IAAQgH,EAAY,EAAKxQ,MAAjBwQ,QACJA,GAASA,EAAQC,KAAK,UAEC,MAApBlH,EAAIpH,KAAKqH,SAChB,EAAK9I,SAAS,CAAEkS,YAAY,IAC5B,EAAKlS,SAAS,CAAE2O,iBAAiB,U,8BAKzC,WAAoB,IAAD,OACjBlG,IAAMC,KAAK,4BAA6B,CAAEkH,aAAc9P,KAAKH,MAAM2S,WAAWpN,KAAM2K,YAAY,IAC7FpI,MAAK,SAAAoB,GAEJ,GAAwB,MAApBA,EAAIpH,KAAKqH,OAAgB,CAE3B,IAAQgH,EAAY,EAAKxQ,MAAjBwQ,QACJA,GAASA,EAAQC,KAAK,W,2BAKlC,WACEjQ,KAAKE,SAAS,CAAEkS,YAAY,EAAOvD,iBAAiB,M,yBAGtD,WAAe,IAAD,OACZ7O,KAAKE,SAAS,CAACmS,iBAAiB,IAChC,IAAIwB,EAAc7T,KAAKH,MAAM2S,WAC7BqB,EAAY9B,aAAevD,KAAKwD,MAChC6B,EAAY5B,SAAW,EACvBjS,KAAKE,SAAS,CAAEsS,WAAYqB,IAC5BlL,IAAMC,KAAK,4BAA6B5I,KAAKH,MAAM2S,YAChD7K,MAAK,SAAAoB,GACJ,IAAI8K,EAAc,EAAKhU,MAAM2S,WAC7BqB,EAAYzO,KAAO2D,EAAIpH,KAAK2S,SAC5B,EAAKpU,SAAS,CAAEsS,WAAYqB,IAC5B,EAAK3T,SAAS,CAAEkS,YAAY,S,yBAKlC,WACEpS,KAAKE,SAAS,CAAEmS,iBAAiB,M,iCAGnC,SAAoBlK,GAClB,GAAe,WAAXA,EACgC,SAA9BnI,KAAKH,MAAMkG,gBAA2D,UAA9B/F,KAAKH,MAAMkG,eACrD/F,KAAKE,SAAS,CAAE6F,eAAgB,YAEhC/F,KAAKE,SAAS,CAAE6F,eAAgB,cAE7B,GAAe,YAAXoC,EACyB,SAA9BnI,KAAKH,MAAMkG,gBAA2D,UAA9B/F,KAAKH,MAAMkG,eACrD/F,KAAKE,SAAS,CAAE6F,eAAgB,YAEhC/F,KAAKE,SAAS,CAAE6F,eAAgB,cAE7B,CACL,IAAIuM,EAAUtS,KAAKH,MAAM2S,WAAWpN,KACpC,GAAe,WAAX+C,EACFmK,EAAUA,EAAQjK,UAAU,EAAGiK,EAAQ5Q,OAAS,QAC3C,GAAe,YAAXyG,EACTmK,GAAW,QACN,IAAe,YAAXnK,EAET,YADAnI,KAAK8S,cAGU,UAAX3K,IACFmK,GAAWnK,GAGf,IAAI0L,EAAc7T,KAAKH,MAAM2S,WAC7BqB,EAAYzO,KAAOkN,EACnBtS,KAAKE,SAAS,CAAEsS,WAAYqB,IACM,UAA9B7T,KAAKH,MAAMkG,gBACb/F,KAAKE,SAAS,CAAE6F,eAAgB,e,6BAKtC,WACE/F,KAAKE,SAAS,CAAEmS,iBAAiB,M,uBAGnC,WACE,IAAIwB,EAAc7T,KAAKH,MAAM2S,WAC7BqB,EAAYzO,KAAO,GACnBpF,KAAKE,SAAS,CAAEsS,WAAYqB,M,gCAG9B,SAAmB1T,GACjBH,KAAKE,SAAS,CAAE2S,YAAa1S,EAAE+H,OAAOqM,Y,oBAGxC,WACE,IAAIC,EAAW,6BACXxU,KAAKH,MAAMmG,UACbwO,EAAW,cAAC,IAAD,CACThU,MAAyC,SAAlCR,KAAKR,MAAMgB,MAAMC,QAAQ0I,KAAkB,gBAAkB,mBACpEe,WAAYlK,KAAKH,MAAMkG,eACvBoE,OAAQ,CACNC,QAAS,CACP,mCACA,mCACA,uCACA,sCACA,WAEFC,MAAO,CACL,mCACA,kCACA,uCACA,sCACA,WAEFC,KAAM,CACJ,mCACA,kCACA,uCACA,sCACA,YAGJC,WAAYvK,KAAK2G,uBAIrB,IAAI8N,EAAgB,6BAChBzU,KAAKH,MAAMiO,YAAYpM,OAAS,IAClC+S,EAAgB,cAAC,IAAD,CAAM9H,MAAI,EAAV,SACd,cAAC,IAAD,UACE,eAAC,IAAD,CAAMlD,WAAS,EAACC,eAAe,eAA/B,UACE,cAAC,IAAD,CAAMiD,MAAI,EAAV,SACE,cAAC,IAAD,CAAYO,MAAO,CAAEwH,YAAa,IAAlC,uBAEF,cAAC,IAAD,CAAM/H,MAAI,EAAV,SACE,cAAC,IAAD,CACE4H,QAASvU,KAAKH,MAAMgT,YACpBjJ,SAAU5J,KAAK4T,mBACfjQ,KAAK,QACLR,MAAM,wBAQlB,IAAIwR,EAAqB,GAKzB,OAJI3U,KAAKH,MAAMgT,cACb8B,EAAqB3U,KAAKH,MAAMiO,aAIhC,qCACE,cAAC,IAAD,IACA,eAAC,IAAD,CAAQvE,KAAMvJ,KAAKH,MAAMuS,WAAY5F,QAASxM,KAAKwL,cAAnD,UACE,cAAC,IAAD,4BAGA,cAAC,IAAD,sDAGA,eAAC,IAAD,WACE,cAAC,IAAD,CAAQvB,QAASjK,KAAKwL,cAAerI,MAAM,UAAU6G,QAAQ,YAA7D,wBAGA,cAAC,IAAD,CAAQC,QAASjK,KAAKgP,YAAa7L,MAAM,UAAU6G,QAAQ,YAAYmH,WAAS,EAAhF,wBAMJ,eAAC,IAAD,CAAQ5H,KAAMvJ,KAAKH,MAAMgP,gBAAiBrC,QAASxM,KAAKwL,cAAxD,UACE,cAAC,IAAD,qCAGA,cAAC,IAAD,0CAGA,eAAC,IAAD,WACE,cAAC,IAAD,CAAQvB,QAASjK,KAAKwL,cAAerI,MAAM,UAAU6G,QAAQ,YAA7D,oBAGA,cAAC,IAAD,CAAQC,QAASjK,KAAKiP,iBAAkB9L,MAAM,UAAU6G,QAAQ,YAAYmH,WAAS,EAArF,8BAMJ,eAAC,IAAD,CAAQ5H,KAAMvJ,KAAKH,MAAMwS,gBAAiB5F,SAAU,KAAMjD,WAAS,EAACgD,QAASxM,KAAKkT,gBAAlF,UACE,cAAC,IAAD,CAAa/N,MAAM,SAAnB,gCAGA,cAAC,IAAD,UACE,cAAC,IAAD,CAAMsE,WAAS,EAACC,eAAe,SAA/B,SACE,cAAC,IAAD,CAAOE,SAAU5J,KAAK+S,kBAAmBlR,MAAM,eAAevB,MAAON,KAAKH,MAAM2S,WAAWpN,KACzFwP,aACE,cAAC,IAAD,CAAgB1P,SAAS,MAAzB,SACE,cAAC,IAAD,CAAY+E,QAASjK,KAAKmT,UAA1B,SAAqC,cAAC,IAAD,cAM/C,eAAC,IAAD,WACE,cAAC,IAAD,CAAQlJ,QAASjK,KAAKkT,gBAAiB/P,MAAM,UAAU6G,QAAQ,YAA/D,oBAGA,cAAC,IAAD,CAAQC,QAASjK,KAAK8S,YAAa3P,MAAM,UAAU6G,QAAQ,YAAYmH,WAAS,EAAhF,mBAIDqD,KAGH,cAAC,IAAD,CAAW/H,UAAU,EAArB,SACE,eAAC,IAAD,CAAMhD,WAAS,EAAf,UACE,cAAC,IAAD,CAAMkD,MAAI,EAACC,GAAI,EAAGyE,GAAI,EAAtB,SAEE,cAAC,IAAD,CAAQ3E,QAAM,EAAd,SACE,eAAC,IAAD,CAAMjD,WAAS,EAAC8D,QAAS,EAAG6D,UAAU,SAASlE,MAAO,CAAEJ,WAAY,QAApE,UACE,cAAC,IAAD,CAAMH,MAAI,EAACxH,MAAM,SAAjB,SACE,eAAC,IAAD,CAAY6E,QAAQ,KAApB,cACIhK,KAAKH,MAAM4S,SADf,KAC2BzS,KAAKH,MAAM6S,SADtC,SAKF,cAAC,IAAD,CAAM/F,MAAI,EAAV,SACE,eAAC,IAAD,WACE,cAAC,IAAD,CAAMA,MAAI,EAACxH,MAAM,WAEjB,cAAC,IAAD,CAAMwH,MAAI,EAACxH,MAAM,SAAjB,SACE,cAAC,IAAD,CAAYhC,MAAM,UAAUQ,KAAK,QAAQsG,QAASjK,KAAKsT,KAAvD,SAA6D,cAAC,IAAD,QAE/D,cAAC,IAAD,CAAM3G,MAAI,EAAV,SACE,eAAC,IAAD,CAAMlD,WAAS,EAACC,eAAe,eAAemL,KAAK,SAAnD,UACE,cAAC,IAAD,CAAMlI,MAAI,EAAV,SACE,cAAC,IAAD,CAAYxJ,MAAM,UAAUQ,KAAK,QAAQsG,QAASjK,KAAKqT,UAAvD,SAAkE,cAAC,IAAD,QAEpE,cAAC,IAAD,CAAM1G,MAAI,EAACxH,MAAM,SAAS+H,MAAO,CAAEG,SAAU,MAG7C,cAAC,IAAD,CAAMV,MAAI,EAAV,SACE,cAAC,IAAD,CAAYxJ,MAAM,UAAUQ,KAAK,QAAQsG,QAASjK,KAAKoT,KAAvD,SAA6D,cAAC,IAAD,aAKnE,cAAC,IAAD,CAAMzG,MAAI,EAACxH,MAAM,SAAjB,SACE,cAAC,IAAD,CAAYhC,MAAM,UAAUQ,KAAK,QAAQsG,QAASjK,KAAKuT,UAAvD,SAAkE,cAAC,IAAD,aAKxE,cAAC,IAAD,CAAM5G,MAAI,EAAV,SACE,eAAC,IAAD,WACE,cAAC,IAAD,CAAMA,MAAI,EAACxH,MAAM,SAAjB,SACE,cAAC,IAAD,CAAY6E,QAAQ,YAApB,qBAEF,eAAC,IAAD,CAAMP,WAAS,EAAC8D,QAAS,EAAG7D,eAAe,eAA3C,UACE,cAAC,IAAD,CAAMiD,MAAI,EAAV,SACE,cAAC,IAAD,CAAYxJ,MAAM,UAAUQ,KAAK,QAAQsG,QAASjK,KAAK2T,aAAvD,SAAqE,cAAC,IAAD,QAEvE,cAAC,IAAD,CAAMhH,MAAI,EAACxH,MAAM,SAAjB,SACE,cAAC,IAAD,CAAY6E,QAAQ,KAApB,SAA2BhK,KAAKH,MAAM8S,aAExC,cAAC,IAAD,CAAMhG,MAAI,EAAV,SACE,cAAC,IAAD,CAAYxJ,MAAM,UAAUQ,KAAK,QAAQsG,QAASjK,KAAK0T,QAAvD,SAAgE,cAAC,IAAD,gBAMxE,cAAC,IAAD,CAAM/G,MAAI,EAAV,SACE,eAAC,IAAD,WACE,cAAC,IAAD,CAAMA,MAAI,EAACxH,MAAM,SAAjB,SACE,cAAC,IAAD,CAAY6E,QAAQ,YAApB,wBAEF,eAAC,IAAD,CAAMP,WAAS,EAAC8D,QAAS,EAAG7D,eAAe,eAA3C,UACE,cAAC,IAAD,CAAMiD,MAAI,EAAV,SACE,cAAC,IAAD,CAAYxJ,MAAM,UAAUQ,KAAK,QAAQsG,QAASjK,KAAKyT,aAAvD,SAAqE,cAAC,IAAD,QAEvE,cAAC,IAAD,CAAM9G,MAAI,EAACxH,MAAM,SAAjB,SACE,cAAC,IAAD,CAAY6E,QAAQ,KAApB,SAA2BhK,KAAKH,MAAMgE,YAExC,cAAC,IAAD,CAAM8I,MAAI,EAAV,SACE,cAAC,IAAD,CAAYxJ,MAAM,UAAUQ,KAAK,QAAQsG,QAASjK,KAAKwT,QAAvD,SAAgE,cAAC,IAAD,gBAMvEiB,SAOP,eAAC,IAAD,CAAM9H,MAAI,EAACC,GAAI,GAAf,UACE,cAAC,IAAD,CAAQU,QAAM,EAAd,SACE,cAAC,IAAD,CAAYnI,MAAM,SAAS6E,QAAQ,KAAnC,SACE,4BAAIhK,KAAKH,MAAM2S,WAAWpN,WAG9B,qBAAK8H,MAAO,CAAEJ,WAAY,OAAQK,MAAO,MAAO2H,WAAY,OAAQzH,SAAU,KAA9E,SACE,cAAC,IAAD,CACEpN,WAAW,EACX6B,QAAS9B,KAAKH,MAAM2S,WACpB/S,UAAWO,KAAKP,UAChBE,KAAMK,KAAKL,KACXC,QAASI,KAAKJ,QACdiE,QAAS7D,KAAKH,MAAMgE,QACpBrC,YAAaxB,KAAKH,MAAM+S,aACxBnR,cAAekT,cAOzB,cAAC,IAAD,CAAWlI,UAAU,EAArB,SACE,eAAC,IAAD,CAAMhD,WAAS,EAAC8D,QAAS,EAAGC,WAAW,SAAS9D,eAAe,gBAAgBwD,MAAO,CAAEJ,WAAY,QAApG,UACE,cAAC,IAAD,CAAMH,MAAI,EAACc,GAAI,EAAf,SACE,cAAC,IAAD,CAAQC,MAAI,EAAZ,SACE,cAAC,IAAD,CAAOR,MAAO,CAAE7H,QAAS,oBAAzB,SACE,eAAC,IAAD,uBACYrF,KAAKH,MAAM2S,WAAWpN,cAKxC,cAAC,IAAD,CAAMuH,MAAI,EAAV,SACE,eAAC,IAAD,CAAMlD,WAAS,EAAC8D,QAAS,EAAzB,UACE,cAAC,IAAD,CAAMZ,MAAI,EAAV,SACE,cAAC,IAAD,CAAQ1C,QAASjK,KAAKgT,OAAQzG,UAAW,cAAC,IAAD,IAAgBvC,QAAQ,YAAY7G,MAAM,UAAnF,sBAEF,cAAC,IAAD,CAAMwJ,MAAI,EAAV,SACE,cAAC,IAAD,CAAQ1C,QAASjK,KAAKiT,YAAa1G,UAAW,cAAC,IAAD,IAAcvC,QAAQ,YAAY7G,MAAM,UAAtF,qC,GAphBQqC,aAiiBX0M,gBAAWzM,YAAU0M,K,sRCziB9B4C,E,kDACF,WAAYvV,GAAQ,IAAD,8BACf,cAAMA,IACDK,MAAQ,CACTmV,KAAM,KACNC,mBAAmB,EACnBC,cAAe,GACfC,cAAc,EACdC,SAAS,EACTC,eAAgB,KAChBC,iBAAkB,KAClBtP,QAAsC,cAA7BC,OAAOC,SAASC,UAAyD,cAA7BF,OAAOC,SAASC,UAEzE,EAAKoP,KAAO,EAAKA,KAAK7V,KAAV,gBACZ,EAAK8V,aAAe,EAAKA,aAAa9V,KAAlB,gBACpB,EAAK+V,iBAAmB,EAAKA,iBAAiB/V,KAAtB,gBACxB,EAAKgW,oBAAsB,EAAKA,oBAAoBhW,KAAzB,gBAC3B,EAAKiW,YAAc,EAAKA,YAAYjW,KAAjB,gBACnB,EAAKkW,cAAgB,EAAKA,cAAclW,KAAnB,gBACrB,EAAKiH,oBAAsB,EAAKA,oBAAoBjH,KAAzB,gBAC3B,EAAKmW,iBAAmB,EAAKA,iBAAiBnW,KAAtB,gBACxB,EAAKoW,kBAAoB,EAAKA,kBAAkBpW,KAAvB,gBApBV,E,qDAuBnB,WAAqB,IAAD,OAChBgI,MAAM,yBACDC,MAAK,SAAAC,GAAQ,OAAIA,EAASC,UAC1BF,MAAK,SAAAG,GACF,EAAK5H,SAAS,CAAE8U,KAAMlN,EAAOkN,KAAMC,kBAAmBnN,EAAOiO,0B,kBAIzE,WAAQ,IAAD,OACCC,EAAc,GAClBA,EAAYhB,KAAOhV,KAAKH,MAAMmV,KAC9BgB,EAAYD,mBAAqB/V,KAAKH,MAAMoV,kBAC5CtM,IAAMC,KAAK,wBAAyBoN,GAC/BrO,MAAK,SAAAoB,GACsB,MAApBA,EAAIpH,KAAKqH,QACT,EAAK9I,SAAS,CAAEiV,cAAc,S,0BAK9C,SAAahV,GACTH,KAAKE,SAAS,CAAE+U,kBAAmB9U,EAAE+H,OAAOqM,QAASY,cAAc,M,8BAGvE,SAAiBhV,GACbH,KAAKE,SAAS,CAAE8U,KAAM7U,EAAE+H,OAAO5H,MAAO6U,cAAc,M,iCAGxD,SAAoBhV,GAChBH,KAAKE,SAAS,CAAEgV,cAAe/U,EAAE+H,OAAO5H,U,yBAG5C,WACIqI,IAAMC,KAAK,oBAAqB,CAAEtB,QAAStH,KAAKH,MAAMqV,gBACjDvN,MAAK,SAAAoB,S,2BAGd,SAAc5I,EAAG8V,EAAgB7Q,GACzBpF,KAAKH,MAAMmG,SACXhG,KAAKE,SAAS,CAAEoV,iBAAkBW,EAAgBZ,eAAgBjQ,EAAMgQ,SAAS,M,8BAIzF,WAEI,IAAIc,EAAalW,KAAKH,MAAMG,KAAKH,MAAMwV,gBAAgBtO,WACpC,KAAfmP,EACAA,EAAa,OACuC,MAA7CA,EAAWC,OAAOD,EAAWxU,OAAS,KAE7CwU,EAAaA,EAAW7N,UAAU,EAAG6N,EAAWxU,OAAS,IAK7D,IAAIvB,EAAI,CACRA,OAAW,IACXA,EAAE+H,OAAO5H,MAAQ4V,EAEjBlW,KAAKH,MAAMyV,iBAAiBnV,GAC5BH,KAAKE,SAAS,CAAEkV,SAAS,EAAOgB,WAAY,O,iCAGhD,SAAoBjO,GAChB,IAAIkO,EAAYrW,KAAKH,MAAMG,KAAKH,MAAMwV,gBAAgBtO,WACvC,WAAXoB,EACAkO,EAAYA,EAAUhO,UAAU,EAAGgO,EAAU3U,OAAS,GAEtD2U,GAAalO,EAIjB,IAAIhI,EAAI,CACRA,OAAW,IACXA,EAAE+H,OAAO5H,MAAQ+V,EACjBrW,KAAKH,MAAMyV,iBAAiBnV,K,+BAGhC,SAAkBA,GACdH,KAAKH,MAAMyV,iBAAiBnV,K,oBAGhC,WAAU,IAAD,OACDmW,EAAc,6BAyClB,OAxCItW,KAAKH,MAAMuV,UACXkB,EAAc,eAACC,EAAA,EAAD,CAAQhN,KAAMvJ,KAAKH,MAAMuV,QAAS5I,QAASxM,KAAK6V,iBAAkBrM,WAAS,EAA3E,UACV,cAACgN,EAAA,EAAD,UACI,cAACC,EAAA,EAAD,4BAIJ,cAACC,EAAA,EAAD,UACI,eAACC,EAAA,EAAD,CAAMlN,WAAS,EAAC8D,QAAS,EAAG7D,eAAe,gBAA3C,UACI,cAACiN,EAAA,EAAD,CAAMhK,MAAI,EAAV,SACI,cAACiK,EAAA,EAAD,CACI5M,QAAQ,WACR1J,MAAON,KAAKH,MAAMG,KAAKH,MAAMwV,gBAC7BzL,SAAU5J,KAAK8V,sBAGvB,cAACa,EAAA,EAAD,CAAMhK,MAAI,EAACc,GAAI,EAAf,SACI,cAAC,IAAD,CACIlD,WAAYvK,KAAK2G,oBACjBwD,OAAQ,CACJC,QAAS,CACL,QACA,QACA,QACA,aAGR3G,QAAS,CACL,SAAU,KAEdjD,MAAyC,SAAlCR,KAAKR,MAAMgB,MAAMC,QAAQ0I,KAAkB,gBAAkB,4BAKpF,cAAC0N,EAAA,EAAD,UACI,cAAC1L,EAAA,EAAD,CAAQhI,MAAM,UAAU6G,QAAQ,YAAYC,QAASjK,KAAK6V,iBAA1D,sBAKR,qCACKS,EACD,eAACQ,EAAA,EAAD,WACI,cAACC,EAAA,EAAD,CACIC,WAAY,cAAC,IAAD,IACZC,gBAAc,mBACdC,GAAG,kBAHP,SAKI,cAACT,EAAA,EAAD,CAAYzM,QAAQ,KAApB,uBAEJ,cAACmN,EAAA,EAAD,UACI,eAACR,EAAA,EAAD,CAAMlN,WAAS,EAAC2H,UAAU,SAAS5D,WAAW,aAAaD,QAAS,EAApE,UACI,eAACoJ,EAAA,EAAD,CAAMhK,MAAI,EAAV,UACI,cAAC8J,EAAA,EAAD,CAAYtR,MAAM,OAAlB,yBAGA,cAACyR,EAAA,EAAD,CACI5M,QAAQ,WACRb,KAAK,SACLS,SAAU5J,KAAKyV,iBACfxL,QAAS,SAAC9J,GAAD,OAAO,EAAKyV,cAAczV,EAAG,EAAKsV,iBAAkB,SAC7DnV,MAAON,KAAKH,MAAMmV,UAE1B,eAAC2B,EAAA,EAAD,CAAMhK,MAAI,EAAV,UACI,cAAC8J,EAAA,EAAD,CAAYtR,MAAM,OAAlB,sCAGA,cAACiS,EAAA,EAAD,CAAU7C,QAASvU,KAAKH,MAAMoV,kBAAmBrL,SAAU5J,KAAKwV,aAAcrS,MAAM,eAexF,eAACwT,EAAA,EAAD,CAAMlN,WAAS,EAACC,eAAe,WAAW6D,QAAS,EAAnD,UACI,cAACoJ,EAAA,EAAD,CAAMhK,MAAI,EAAV,SACI,cAAC8J,EAAA,EAAD,CAAYzM,QAAQ,UAApB,6EAIJ,cAAC2M,EAAA,EAAD,CAAMhK,MAAI,EAAV,SACI,cAACxB,EAAA,EAAD,CAAQnB,QAAQ,YAAY7G,MAAM,UAAUkU,UAAWrX,KAAKH,MAAMsV,aAAclL,QAASjK,KAAKuV,KAA9F,sC,GAtMN/P,aAmNfC,cAAUsP,G,SCpNnBuC,E,kDACF,WAAY9X,GAAQ,IAAD,8BACf,cAAMA,IACDK,MAAQ,CACT0X,EAAG,EACHrD,EAAG,EACHsD,EAAG,EACHC,UAAW,EACXC,SAAS,EACTC,aAAc,EACdC,eAAe,EACfzC,cAAc,EACdC,SAAS,EACTC,eAAgB,KAChBC,iBAAkB,KAClBtP,QAAsC,cAA7BC,OAAOC,SAASC,UAAyD,cAA7BF,OAAOC,SAASC,UAEzE,EAAKoP,KAAO,EAAKA,KAAK7V,KAAV,gBACZ,EAAKmY,cAAgB,EAAKA,cAAcnY,KAAnB,gBACrB,EAAKoY,cAAgB,EAAKA,cAAcpY,KAAnB,gBACrB,EAAKqY,cAAgB,EAAKA,cAAcrY,KAAnB,gBACrB,EAAKsY,oBAAsB,EAAKA,oBAAoBtY,KAAzB,gBAC3B,EAAKuY,sBAAwB,EAAKA,sBAAsBvY,KAA3B,gBAC7B,EAAKwY,yBAA2B,EAAKA,yBAAyBxY,KAA9B,gBAChC,EAAKyY,0BAA4B,EAAKA,0BAA0BzY,KAA/B,gBACjC,EAAKkW,cAAgB,EAAKA,cAAclW,KAAnB,gBACrB,EAAKiH,oBAAsB,EAAKA,oBAAoBjH,KAAzB,gBAC3B,EAAKmW,iBAAmB,EAAKA,iBAAiBnW,KAAtB,gBACxB,EAAKoW,kBAAoB,EAAKA,kBAAkBpW,KAAvB,gBA3BV,E,qDA8BnB,WAAqB,IAAD,OAChBgI,MAAM,qBACDC,MAAK,SAAAC,GAAQ,OAAIA,EAASC,UAC1BF,MAAK,SAAAG,GACF,EAAK5H,SAAS,CACVqX,EAAGzP,EAAOyP,EACVrD,EAAGpM,EAAOoM,EACVsD,EAAG1P,EAAO0P,EACVC,UAAW3P,EAAOsQ,WAClBV,QAAS5P,EAAO4P,QAChBC,aAAc7P,EAAOuQ,cACrBT,cAAe9P,EAAOwQ,uB,kBAKtC,WAAQ,IAAD,OACCtC,EAAc,GAClBA,EAAYuB,EAAIvX,KAAKH,MAAM0X,EAC3BvB,EAAY9B,EAAIlU,KAAKH,MAAMqU,EAC3B8B,EAAYwB,EAAIxX,KAAKH,MAAM2X,EAC3BxB,EAAYoC,WAAapY,KAAKH,MAAM4X,UACpCzB,EAAY0B,QAAU1X,KAAKH,MAAM6X,QACjC1B,EAAYqC,cAAgBrY,KAAKH,MAAM8X,aACvC3B,EAAYsC,gBAAkBtY,KAAKH,MAAM+X,cACzCjP,IAAMC,KAAK,oBAAqBoN,GAC3BrO,MAAK,SAAAoB,GACsB,MAApBA,EAAIpH,KAAKqH,QACT,EAAK9I,SAAS,CAAEiV,cAAc,S,2BAK9C,SAAchV,GACVH,KAAKE,SAAS,CAAEqX,EAAGpX,EAAE+H,OAAO5H,MAAO6U,cAAc,M,2BAGrD,SAAchV,GACVH,KAAKE,SAAS,CAAEgU,EAAG/T,EAAE+H,OAAO5H,MAAO6U,cAAc,M,2BAGrD,SAAchV,GACVH,KAAKE,SAAS,CAAEsX,EAAGrX,EAAE+H,OAAO5H,MAAO6U,cAAc,M,mCAGrD,SAAsBhV,GACdA,EAAE+H,OAAO5H,OAAS,GAClBN,KAAKE,SAAS,CAAEuX,UAAWc,SAASpY,EAAE+H,OAAO5H,OAAQ6U,cAAc,M,iCAI3E,SAAoBhV,GAChBH,KAAKE,SAAS,CAAEwX,QAASvX,EAAE+H,OAAOqM,QAASY,cAAc,M,sCAG7D,SAAyBhV,GACjBA,EAAE+H,OAAO5H,OAAS,GAAKH,EAAE+H,OAAO5H,OAAS,KACzCN,KAAKE,SAAS,CAAEyX,aAAcxX,EAAE+H,OAAO5H,MAAO6U,cAAc,M,uCAIpE,SAA0BhV,GACtBH,KAAKE,SAAS,CAAE0X,cAAezX,EAAE+H,OAAOqM,QAASY,cAAc,M,2BAGnE,SAAchV,EAAG8V,EAAgB7Q,GACzBpF,KAAKH,MAAMmG,SACXhG,KAAKE,SAAS,CAAEoV,iBAAkBW,EAAgBZ,eAAgBjQ,EAAMgQ,SAAS,M,8BAIzF,WAEI,IAAIc,EAAalW,KAAKH,MAAMG,KAAKH,MAAMwV,gBAAgBtO,WACpC,KAAfmP,EACAA,EAAa,IACuC,MAA7CA,EAAWC,OAAOD,EAAWxU,OAAS,KAE7CwU,EAAaA,EAAW7N,UAAU,EAAG6N,EAAWxU,OAAS,IAK7D,IAAIvB,EAAI,CACRA,OAAW,IACXA,EAAE+H,OAAO5H,MAAQ4V,EAEjBlW,KAAKH,MAAMyV,iBAAiBnV,GAC5BH,KAAKE,SAAS,CAAEkV,SAAS,EAAOgB,WAAY,O,iCAGhD,SAAoBjO,GAChB,IAAIkO,EAAYrW,KAAKH,MAAMG,KAAKH,MAAMwV,gBAAgBtO,WACvC,WAAXoB,EACAkO,EAAYA,EAAUhO,UAAU,EAAGgO,EAAU3U,OAAS,GAEtD2U,GAAalO,EAIjB,IAAIhI,EAAI,CACRA,OAAW,IACXA,EAAE+H,OAAO5H,MAAQ+V,EACjBrW,KAAKH,MAAMyV,iBAAiBnV,K,+BAGhC,SAAkBA,GACdH,KAAKH,MAAMyV,iBAAiBnV,K,oBAGhC,WAAU,IAAD,OACDmW,EAAc,6BA0ClB,OAzCItW,KAAKH,MAAMuV,UACXkB,EAAc,eAACC,EAAA,EAAD,CAAQhN,KAAMvJ,KAAKH,MAAMuV,QAAS5I,QAASxM,KAAK6V,iBAAkBrM,WAAS,EAA3E,UACV,cAACgN,EAAA,EAAD,UACI,cAACC,EAAA,EAAD,4BAIJ,cAACC,EAAA,EAAD,UACI,eAACC,EAAA,EAAD,CAAMlN,WAAS,EAAC8D,QAAS,EAAG7D,eAAe,gBAA3C,UACI,cAACiN,EAAA,EAAD,CAAMhK,MAAI,EAAV,SACI,cAACiK,EAAA,EAAD,CACI5M,QAAQ,WACR1J,MAAON,KAAKH,MAAMG,KAAKH,MAAMwV,gBAC7BzL,SAAU5J,KAAK8V,sBAGvB,cAACa,EAAA,EAAD,CAAMhK,MAAI,EAACc,GAAI,EAAf,SACI,cAAC,IAAD,CACIlD,WAAYvK,KAAK2G,oBACjBwD,OAAQ,CACJC,QAAS,CACL,QACA,QACA,QACA,eAGR3G,QAAS,CACL,SAAU,KAEdjD,MAAyC,SAAlCR,KAAKR,MAAMgB,MAAMC,QAAQ0I,KAAkB,gBAAkB,4BAKpF,cAAC0N,EAAA,EAAD,UACI,cAAC1L,EAAA,EAAD,CAAQhI,MAAM,UAAU6G,QAAQ,YAAYC,QAASjK,KAAK6V,iBAA1D,sBAMR,qCACKS,EACD,eAACQ,EAAA,EAAD,WACI,cAACC,EAAA,EAAD,CACIC,WAAY,cAAC,IAAD,IACZC,gBAAc,mBACdC,GAAG,kBAHP,SAKI,cAACT,EAAA,EAAD,CAAYzM,QAAQ,KAApB,mBAEJ,cAACmN,EAAA,EAAD,UACI,eAACR,EAAA,EAAD,CAAMlN,WAAS,EAAC8D,QAAS,EAAG6D,UAAU,SAAS5D,WAAW,aAA1D,UAEI,cAACmJ,EAAA,EAAD,CAAMhK,MAAI,EAAV,SACI,eAACgK,EAAA,EAAD,CAAMlN,WAAS,EAAC8D,QAAS,EAAzB,UACI,cAACoJ,EAAA,EAAD,CAAMhK,MAAI,EAAV,SACI,cAACiK,EAAA,EAAD,CAAWM,GAAG,IAAIlN,QAAQ,WAAWb,KAAK,SAAStH,MAAM,eAAevB,MAAON,KAAKH,MAAM0X,EAAG3N,SAAU5J,KAAK6X,cAAe5N,QAAS,SAAC9J,GAAD,OAAO,EAAKyV,cAAczV,EAAG,EAAK0X,cAAe,MAAM3K,MAAO,CAAEC,MAAO,SAE/M,cAACwJ,EAAA,EAAD,CAAMhK,MAAI,EAAV,SACI,cAACiK,EAAA,EAAD,CAAW5M,QAAQ,WAAWb,KAAK,SAAStH,MAAM,WAAWvB,MAAON,KAAKH,MAAMqU,EAAGtK,SAAU5J,KAAK8X,cAAe7N,QAAS,SAAC9J,GAAD,OAAO,EAAKyV,cAAczV,EAAG,EAAK2X,cAAe,MAAM5K,MAAO,CAAEC,MAAO,SAEpM,cAACwJ,EAAA,EAAD,CAAMhK,MAAI,EAAV,SACI,cAACiK,EAAA,EAAD,CAAW5M,QAAQ,WAAWb,KAAK,SAAStH,MAAM,aAAavB,MAAON,KAAKH,MAAM2X,EAAG5N,SAAU5J,KAAK+X,cAAe9N,QAAS,SAAC9J,GAAD,OAAO,EAAKyV,cAAczV,EAAG,EAAK4X,cAAe,MAAM7K,MAAO,CAAEC,MAAO,cAI9M,eAACwJ,EAAA,EAAD,CAAMhK,MAAI,EAAV,UACI,cAAC8J,EAAA,EAAD,CAAYtR,MAAM,OAAlB,wBAGA,cAACyR,EAAA,EAAD,CACI5M,QAAQ,WACRb,KAAK,SACL7I,MAAON,KAAKH,MAAM4X,UAClB7N,SAAU5J,KAAKiY,sBACfhO,QAAS,SAAC9J,GAAD,OAAO,EAAKyV,cAAczV,EAAG,EAAK8X,sBAAuB,cAClE/K,MAAO,CAAEC,MAAO,KAChBqL,WAAY,CACR5D,aAAc,cAAC6D,EAAA,EAAD,CAAgBvT,SAAS,MAAzB,2BAI1B,cAACyR,EAAA,EAAD,CAAMhK,MAAI,EAAV,SACI,eAACgK,EAAA,EAAD,CAAMlN,WAAS,EAAC8D,QAAS,EAAzB,UACI,eAACoJ,EAAA,EAAD,CAAMhK,MAAI,EAAV,UACI,cAAC8J,EAAA,EAAD,CAAYtR,MAAM,OAAlB,4BAGA,cAACiS,EAAA,EAAD,CAAU7C,QAASvU,KAAKH,MAAM6X,QAAS9N,SAAU5J,KAAKgY,oBAAqB7U,MAAM,eAErF,cAACwT,EAAA,EAAD,CAAMhK,MAAI,EAAV,SACI,cAACiK,EAAA,EAAD,CACI5M,QAAQ,WACRb,KAAK,SACLtH,MAAM,gBACNvB,MAAON,KAAKH,MAAM8X,aAClB/N,SAAU5J,KAAKkY,yBACfjO,QAAS,SAAC9J,GAAD,OAAO,EAAKyV,cAAczV,EAAG,EAAK+X,yBAA0B,iBACrEhL,MAAO,CAAEC,MAAO,KAChBqL,WAAY,CACR5D,aAAc,cAAC6D,EAAA,EAAD,CAAgBvT,SAAS,MAAzB,yBAMlC,eAACyR,EAAA,EAAD,CAAMhK,MAAI,EAAV,UACI,cAAC8J,EAAA,EAAD,CAAYtR,MAAM,OAAlB,6BAGA,cAACiS,EAAA,EAAD,CAAU7C,QAASvU,KAAKH,MAAM+X,cAAehO,SAAU5J,KAAKmY,0BAA2BhV,MAAM,eAGjG,cAACwT,EAAA,EAAD,CAAMlN,WAAS,EAACC,eAAe,WAAW6D,QAAS,EAAnD,SACI,cAACoJ,EAAA,EAAD,CAAMhK,MAAI,EAAV,SACI,cAACxB,EAAA,EAAD,CAAQnB,QAAQ,YAAY7G,MAAM,UAAUkU,UAAWrX,KAAKH,MAAMsV,aAAclL,QAASjK,KAAKuV,KAA9F,qC,GApQV/P,aAiRXC,cAAU6R,G,wFCvQnBoB,E,kDACF,WAAYlZ,GAAQ,IAAD,8BACf,cAAMA,IACDK,MAAQ,CACT8Y,SAAU,EACVC,OAAQ,EACRC,cAAe,GACfC,mBAAoB,EACpBC,cAAe,EACf5D,cAAc,EACd6D,YAAY,EACZC,UAAU,EACVC,iBAAiB,EACjBC,eAAgB,EAChBC,QAAS,MACTC,QAAS,MACTC,WAAY,MACZC,iBAAiB,EACjBC,wBAAyB,QACzBpE,SAAS,EACTC,eAAgB,KAChBC,iBAAkB,KAClBtP,QAAsC,cAA7BC,OAAOC,SAASC,UAAyD,cAA7BF,OAAOC,SAASC,UAEzE,EAAKsT,kBAAoB,EAAKA,kBAAkB/Z,KAAvB,gBACzB,EAAKga,gBAAkB,EAAKA,gBAAgBha,KAArB,gBACvB,EAAKia,uBAAyB,EAAKA,uBAAuBja,KAA5B,gBAC9B,EAAKka,uBAAyB,EAAKA,uBAAuBla,KAA5B,gBAC9B,EAAKma,yBAA2B,EAAKA,yBAAyBna,KAA9B,gBAChC,EAAKoa,0BAA4B,EAAKA,0BAA0Bpa,KAA/B,gBACjC,EAAKqa,oBAAsB,EAAKA,oBAAoBra,KAAzB,gBAC3B,EAAKsa,uBAAyB,EAAKA,uBAAuBta,KAA5B,gBAC9B,EAAKua,WAAa,EAAKA,WAAWva,KAAhB,gBAClB,EAAK6V,KAAO,EAAKA,KAAK7V,KAAV,gBACZ,EAAKkW,cAAgB,EAAKA,cAAclW,KAAnB,gBACrB,EAAKiH,oBAAsB,EAAKA,oBAAoBjH,KAAzB,gBAC3B,EAAKmW,iBAAmB,EAAKA,iBAAiBnW,KAAtB,gBACxB,EAAKoW,kBAAoB,EAAKA,kBAAkBpW,KAAvB,gBApCV,E,qDAuCnB,WAAqB,IAAD,OAChBgI,MAAM,0BACDC,MAAK,SAAAC,GAAQ,OAAIA,EAASC,UAC1BF,MAAK,SAAAG,GACF,EAAK5H,SAAS,CACVyY,SAAU7Q,EAAOoS,UACjBtB,OAAQ9Q,EAAOqS,QACftB,cAAe/Q,EAAOsS,gBACtBjB,eAAgBrR,EAAOuS,iBACvBvB,mBAAoBhR,EAAOwS,oBAC3BvB,cAAejR,EAAOyS,kBAEe,IAArCzS,EAAO0S,0BACP,EAAKta,SAAS,CAAEsZ,wBAAyB,SAEzC,EAAKtZ,SAAS,CAAEsZ,wBAAyB,e,+BAKzD,SAAkBrZ,GACdH,KAAKE,SAAS,CAAEyY,SAAUxY,EAAE+H,OAAO5H,MAAO6U,cAAc,M,6BAG5D,SAAgBhV,GACZH,KAAKE,SAAS,CAAE0Y,OAAQzY,EAAE+H,OAAO5H,MAAO6U,cAAc,M,oCAG1D,SAAuBhV,GACnBH,KAAKE,SAAS,CAAE2Y,cAAe1Y,EAAE+H,OAAO5H,MAAO6U,cAAc,M,oCAGjE,SAAuBhV,GACfA,EAAE+H,OAAO5H,OAAS,GAClBN,KAAKE,SAAS,CAAEiZ,eAAgBhZ,EAAE+H,OAAO5H,MAAO6U,cAAc,M,sCAItE,SAAyBhV,GACrBH,KAAKE,SAAS,CAAE4Y,mBAAoB3Y,EAAE+H,OAAO5H,MAAO6U,cAAc,M,iCAGtE,SAAoBhV,GAChBH,KAAKE,SAAS,CAAE6Y,cAAe5Y,EAAE+H,OAAO5H,MAAO6U,cAAc,M,oCAGjE,SAAuBhV,GACnBH,KAAKE,SAAS,CAAEsZ,wBAAyBrZ,EAAE+H,OAAO5H,MAAO6U,cAAc,M,uCAG3E,WAA6B,IAAD,OACxBnV,KAAKE,SAAS,CAAEqZ,iBAAiB,IACjC7R,MAAM,yBACDC,MAAK,SAAAC,GAAQ,OAAIA,EAASC,UAC1BF,MAAK,SAAAG,GACF,EAAK5H,SAAS,CACVkZ,QAAStR,EAAO2S,SAChBpB,QAASvR,EAAO4S,SAChBpB,WAAYxR,EAAO6S,QACnBpB,iBAAiB,S,wBAKjC,WACIvZ,KAAKE,SAAS,CAAE8Y,YAAY,EAAOC,UAAU,EAAOC,iBAAiB,M,kBAGzE,WAAQ,IAAD,OACClD,EAAc,GAClBA,EAAYkE,UAAYla,KAAKH,MAAM8Y,SACnC3C,EAAYmE,QAAUna,KAAKH,MAAM+Y,OACjC5C,EAAYoE,gBAAkBpa,KAAKH,MAAMgZ,cACzC7C,EAAYqE,iBAAmBra,KAAKH,MAAMsZ,eAC1CnD,EAAYsE,oBAAsBta,KAAKH,MAAMiZ,mBAC7C9C,EAAYuE,eAAiBva,KAAKH,MAAMkZ,cACxC/C,EAAYwE,0BAAmE,SAAvCxa,KAAKH,MAAM2Z,wBACnD7Q,IAAMC,KAAK,yBAA0BoN,GAChCrO,MAAK,SAAAoB,GACsB,MAApBA,EAAIpH,KAAKqH,QACT,EAAK9I,SAAS,CAAEiV,cAAc,S,2BAK9C,SAAchV,EAAG8V,EAAgB7Q,GACzBpF,KAAKH,MAAMmG,SACXhG,KAAKE,SAAS,CAAEoV,iBAAkBW,EAAgBZ,eAAgBjQ,EAAMgQ,SAAS,M,8BAIzF,WAEI,IAAIc,EAAalW,KAAKH,MAAMG,KAAKH,MAAMwV,gBAAgBtO,WACpC,KAAfmP,EACAA,EAAa,IACuC,MAA7CA,EAAWC,OAAOD,EAAWxU,OAAS,KAE7CwU,EAAaA,EAAW7N,UAAU,EAAG6N,EAAWxU,OAAS,IAK7D,IAAIvB,EAAI,CACRA,OAAW,IACXA,EAAE+H,OAAO5H,MAAQ4V,EAEjBlW,KAAKH,MAAMyV,iBAAiBnV,GAC5BH,KAAKE,SAAS,CAAEkV,SAAS,EAAOgB,WAAY,O,iCAGhD,SAAoBjO,GAChB,IAAIkO,EAAYrW,KAAKH,MAAMG,KAAKH,MAAMwV,gBAAgBtO,WACvC,WAAXoB,EACAkO,EAAYA,EAAUhO,UAAU,EAAGgO,EAAU3U,OAAS,GAEtD2U,GAAalO,EAIjB,IAAIhI,EAAI,CACRA,OAAW,IACXA,EAAE+H,OAAO5H,MAAQ+V,EACjBrW,KAAKH,MAAMyV,iBAAiBnV,K,+BAGhC,SAAkBA,GACdH,KAAKH,MAAMyV,iBAAiBnV,K,oBAGhC,WAAU,IAAD,OACDmW,EAAc,6BAyClB,OAxCItW,KAAKH,MAAMuV,UACXkB,EAAc,eAACC,EAAA,EAAD,CAAQhN,KAAMvJ,KAAKH,MAAMuV,QAAS5I,QAASxM,KAAK6V,iBAAkBrM,WAAS,EAA3E,UACV,cAACgN,EAAA,EAAD,UACI,cAACC,EAAA,EAAD,4BAIJ,cAACC,EAAA,EAAD,UACI,eAACC,EAAA,EAAD,CAAMlN,WAAS,EAAC8D,QAAS,EAAG7D,eAAe,gBAA3C,UACI,cAACiN,EAAA,EAAD,CAAMhK,MAAI,EAAV,SACI,cAACiK,EAAA,EAAD,CACI5M,QAAQ,WACR1J,MAAON,KAAKH,MAAMG,KAAKH,MAAMwV,gBAC7BzL,SAAU5J,KAAK8V,sBAGvB,cAACa,EAAA,EAAD,CAAMhK,MAAI,EAACc,GAAI,EAAf,SACI,cAAC,IAAD,CACIlD,WAAYvK,KAAK2G,oBACjBwD,OAAQ,CACJC,QAAS,CACL,QACA,QACA,QACA,eAGR3G,QAAS,CACL,SAAU,KAEdjD,MAAyC,SAAlCR,KAAKR,MAAMgB,MAAMC,QAAQ0I,KAAkB,gBAAkB,4BAKpF,cAAC0N,EAAA,EAAD,UACI,cAAC1L,EAAA,EAAD,CAAQhI,MAAM,UAAU6G,QAAQ,YAAYC,QAASjK,KAAK6V,iBAA1D,sBAKR,qCACKS,EACD,eAACQ,EAAA,EAAD,WACI,cAACC,EAAA,EAAD,CACIC,WAAY,cAAC,IAAD,IACZC,gBAAc,mBACdC,GAAG,kBAHP,SAKI,cAACT,EAAA,EAAD,CAAYzM,QAAQ,KAApB,wBAEJ,cAACmN,EAAA,EAAD,UAEI,eAACR,EAAA,EAAD,CAAMlN,WAAS,EAAC8D,QAAS,EAAG6D,UAAU,SAAtC,UACI,cAACuF,EAAA,EAAD,CAAMhK,MAAI,EAAV,SACI,eAACgK,EAAA,EAAD,CAAMlN,WAAS,EAAC8D,QAAS,EAAzB,UACI,cAACoJ,EAAA,EAAD,CAAMhK,MAAI,EAAV,SACI,eAACiO,EAAA,EAAD,CAAajR,MAAO3J,KAAKH,MAAMmZ,WAA/B,UACI,cAAC6B,EAAA,EAAD,yBACA,eAACC,EAAA,EAAD,CAAQxa,MAAON,KAAKH,MAAM8Y,SAAU/O,SAAU5J,KAAKyZ,kBAAnD,UACI,cAACsB,EAAA,EAAD,CAAUza,MAAO,EAAG+W,SAAgC,IAAtBrX,KAAKH,MAAM+Y,QAA6C,IAA7B5Y,KAAKH,MAAMgZ,cAApE,uBACA,cAACkC,EAAA,EAAD,CAAUza,MAAO,EAAG+W,SAAgC,IAAtBrX,KAAKH,MAAM+Y,QAA6C,IAA7B5Y,KAAKH,MAAMgZ,cAApE,wBACA,cAACkC,EAAA,EAAD,CAAUza,MAAO,EAAG+W,SAAgC,IAAtBrX,KAAKH,MAAM+Y,QAA6C,IAA7B5Y,KAAKH,MAAMgZ,cAApE,wBACA,cAACkC,EAAA,EAAD,CAAUza,MAAO,GAAI+W,SAAgC,KAAtBrX,KAAKH,MAAM+Y,QAA8C,KAA7B5Y,KAAKH,MAAMgZ,cAAtE,yBACA,cAACkC,EAAA,EAAD,CAAUza,MAAO,GAAI+W,SAAgC,KAAtBrX,KAAKH,MAAM+Y,QAA8C,KAA7B5Y,KAAKH,MAAMgZ,cAAtE,yBACA,cAACkC,EAAA,EAAD,CAAUza,MAAO,GAAI+W,SAAgC,KAAtBrX,KAAKH,MAAM+Y,QAA8C,KAA7B5Y,KAAKH,MAAMgZ,cAAtE,yBACA,cAACkC,EAAA,EAAD,CAAUza,MAAO,GAAI+W,SAAgC,KAAtBrX,KAAKH,MAAM+Y,QAA8C,KAA7B5Y,KAAKH,MAAMgZ,cAAtE,yBACA,cAACkC,EAAA,EAAD,CAAUza,MAAO,GAAI+W,SAAgC,KAAtBrX,KAAKH,MAAM+Y,QAA8C,KAA7B5Y,KAAKH,MAAMgZ,cAAtE,yBACA,cAACkC,EAAA,EAAD,CAAUza,MAAO,GAAI+W,SAAgC,KAAtBrX,KAAKH,MAAM+Y,QAA8C,KAA7B5Y,KAAKH,MAAMgZ,cAAtE,yBACA,cAACkC,EAAA,EAAD,CAAUza,MAAO,GAAI+W,SAAgC,KAAtBrX,KAAKH,MAAM+Y,QAA8C,KAA7B5Y,KAAKH,MAAMgZ,cAAtE,yBACA,cAACkC,EAAA,EAAD,CAAUza,MAAO,GAAI+W,SAAgC,KAAtBrX,KAAKH,MAAM+Y,QAA8C,KAA7B5Y,KAAKH,MAAMgZ,cAAtE,iCAKZ,cAAClC,EAAA,EAAD,CAAMhK,MAAI,EAAV,SACI,eAACiO,EAAA,EAAD,CAAajR,MAAO3J,KAAKH,MAAMqZ,gBAA/B,UACI,cAAC2B,EAAA,EAAD,+BACA,eAACC,EAAA,EAAD,CAAQxa,MAAON,KAAKH,MAAMgZ,cAAejP,SAAU5J,KAAK2Z,uBAAxD,UACI,cAACoB,EAAA,EAAD,CAAUza,MAAO,EAAG+W,SAAkC,IAAxBrX,KAAKH,MAAM8Y,UAAwC,IAAtB3Y,KAAKH,MAAM+Y,OAAtE,uBACA,cAACmC,EAAA,EAAD,CAAUza,MAAO,EAAG+W,SAAkC,IAAxBrX,KAAKH,MAAM8Y,UAAwC,IAAtB3Y,KAAKH,MAAM+Y,OAAtE,wBACA,cAACmC,EAAA,EAAD,CAAUza,MAAO,EAAG+W,SAAkC,IAAxBrX,KAAKH,MAAM8Y,UAAwC,IAAtB3Y,KAAKH,MAAM+Y,OAAtE,wBACA,cAACmC,EAAA,EAAD,CAAUza,MAAO,GAAI+W,SAAkC,KAAxBrX,KAAKH,MAAM8Y,UAAyC,KAAtB3Y,KAAKH,MAAM+Y,OAAxE,yBACA,cAACmC,EAAA,EAAD,CAAUza,MAAO,GAAI+W,SAAkC,KAAxBrX,KAAKH,MAAM8Y,UAAyC,KAAtB3Y,KAAKH,MAAM+Y,OAAxE,yBACA,cAACmC,EAAA,EAAD,CAAUza,MAAO,GAAI+W,SAAkC,KAAxBrX,KAAKH,MAAM8Y,UAAyC,KAAtB3Y,KAAKH,MAAM+Y,OAAxE,yBACA,cAACmC,EAAA,EAAD,CAAUza,MAAO,GAAI+W,SAAkC,KAAxBrX,KAAKH,MAAM8Y,UAAyC,KAAtB3Y,KAAKH,MAAM+Y,OAAxE,yBACA,cAACmC,EAAA,EAAD,CAAUza,MAAO,GAAI+W,SAAkC,KAAxBrX,KAAKH,MAAM8Y,UAAyC,KAAtB3Y,KAAKH,MAAM+Y,OAAxE,yBACA,cAACmC,EAAA,EAAD,CAAUza,MAAO,GAAI+W,SAAkC,KAAxBrX,KAAKH,MAAM8Y,UAAyC,KAAtB3Y,KAAKH,MAAM+Y,OAAxE,yBACA,cAACmC,EAAA,EAAD,CAAUza,MAAO,GAAI+W,SAAkC,KAAxBrX,KAAKH,MAAM8Y,UAAyC,KAAtB3Y,KAAKH,MAAM+Y,OAAxE,yBACA,cAACmC,EAAA,EAAD,CAAUza,MAAO,GAAI+W,SAAkC,KAAxBrX,KAAKH,MAAM8Y,UAAyC,KAAtB3Y,KAAKH,MAAM+Y,OAAxE,iCAKZ,cAACjC,EAAA,EAAD,CAAMhK,MAAI,EAAV,SACI,eAACiO,EAAA,EAAD,CAAajR,MAAO3J,KAAKH,MAAMoZ,SAA/B,UACI,cAAC4B,EAAA,EAAD,kCACA,eAACC,EAAA,EAAD,CAAQxa,MAAON,KAAKH,MAAM+Y,OAAQhP,SAAU5J,KAAK0Z,gBAAjD,UACI,cAACqB,EAAA,EAAD,CAAUza,MAAO,EAAG+W,SAAkC,IAAxBrX,KAAKH,MAAM8Y,UAA+C,IAA7B3Y,KAAKH,MAAMgZ,cAAtE,uBACA,cAACkC,EAAA,EAAD,CAAUza,MAAO,EAAG+W,SAAkC,IAAxBrX,KAAKH,MAAM8Y,UAA+C,IAA7B3Y,KAAKH,MAAMgZ,cAAtE,wBACA,cAACkC,EAAA,EAAD,CAAUza,MAAO,EAAG+W,SAAkC,IAAxBrX,KAAKH,MAAM8Y,UAA+C,IAA7B3Y,KAAKH,MAAMgZ,cAAtE,wBACA,cAACkC,EAAA,EAAD,CAAUza,MAAO,GAAI+W,SAAkC,KAAxBrX,KAAKH,MAAM8Y,UAAgD,KAA7B3Y,KAAKH,MAAMgZ,cAAxE,yBACA,cAACkC,EAAA,EAAD,CAAUza,MAAO,GAAI+W,SAAkC,KAAxBrX,KAAKH,MAAM8Y,UAAgD,KAA7B3Y,KAAKH,MAAMgZ,cAAxE,yBACA,cAACkC,EAAA,EAAD,CAAUza,MAAO,GAAI+W,SAAkC,KAAxBrX,KAAKH,MAAM8Y,UAAgD,KAA7B3Y,KAAKH,MAAMgZ,cAAxE,yBACA,cAACkC,EAAA,EAAD,CAAUza,MAAO,GAAI+W,SAAkC,KAAxBrX,KAAKH,MAAM8Y,UAAgD,KAA7B3Y,KAAKH,MAAMgZ,cAAxE,yBACA,cAACkC,EAAA,EAAD,CAAUza,MAAO,GAAI+W,SAAkC,KAAxBrX,KAAKH,MAAM8Y,UAAgD,KAA7B3Y,KAAKH,MAAMgZ,cAAxE,yBACA,cAACkC,EAAA,EAAD,CAAUza,MAAO,GAAI+W,SAAkC,KAAxBrX,KAAKH,MAAM8Y,UAAgD,KAA7B3Y,KAAKH,MAAMgZ,cAAxE,yBACA,cAACkC,EAAA,EAAD,CAAUza,MAAO,GAAI+W,SAAkC,KAAxBrX,KAAKH,MAAM8Y,UAAgD,KAA7B3Y,KAAKH,MAAMgZ,cAAxE,yBACA,cAACkC,EAAA,EAAD,CAAUza,MAAO,GAAI+W,SAAkC,KAAxBrX,KAAKH,MAAM8Y,UAAgD,KAA7B3Y,KAAKH,MAAMgZ,cAAxE,iCAKZ,cAAClC,EAAA,EAAD,CAAMhK,MAAI,EAAV,SACI,cAACiK,EAAA,EAAD,CACI5M,QAAQ,WACRb,KAAK,SACLtH,MAAM,oBACNvB,MAAON,KAAKH,MAAMsZ,eAClBvP,SAAU5J,KAAK4Z,uBACf3P,QAAS,SAAC9J,GAAD,OAAO,EAAKyV,cAAczV,EAAG,EAAKyZ,uBAAwB,mBACnE1M,MAAO,CAAEC,MAAO,KAChBqL,WAAY,CACR5D,aAAc,cAAC6D,EAAA,EAAD,CAAgBvT,SAAS,MAAzB,6BAMlC,eAACyR,EAAA,EAAD,CAAMhK,MAAI,EAAV,UACI,cAAC8J,EAAA,EAAD,CAAYvJ,MAAO,CAAE8N,cAAe,IAApC,oCAGA,eAACrE,EAAA,EAAD,CAAMlN,WAAS,EAAC8D,QAAS,EAAzB,UACI,cAACoJ,EAAA,EAAD,CAAMhK,MAAI,EAAV,SACI,cAACiK,EAAA,EAAD,CACI5M,QAAQ,WACRb,KAAK,SACLtH,MAAM,kBACNvB,MAAON,KAAKH,MAAMiZ,mBAClBlP,SAAU5J,KAAK6Z,yBACf5P,QAAS,SAAC9J,GAAD,OAAO,EAAKyV,cAAczV,EAAG,EAAK0Z,yBAA0B,uBACrE3M,MAAO,CAAEC,MAAO,KAChBqL,WAAY,CACR5D,aAAc,cAAC6D,EAAA,EAAD,CAAgBvT,SAAS,MAAzB,wBAI1B,cAACyR,EAAA,EAAD,CAAMhK,MAAI,EAAV,SACI,cAACiK,EAAA,EAAD,CACI5M,QAAQ,WACRb,KAAK,SACLtH,MAAM,iBACNvB,MAAON,KAAKH,MAAMkZ,cAClBnP,SAAU5J,KAAK+Z,oBACf9P,QAAS,SAAC9J,GAAD,OAAO,EAAKyV,cAAczV,EAAG,EAAK4Z,oBAAqB,kBAChE7M,MAAO,CAAEC,MAAO,KAChBqL,WAAY,CACR5D,aAAc,cAAC6D,EAAA,EAAD,CAAgBvT,SAAS,MAAzB,0BAOlC,eAACyR,EAAA,EAAD,CAAMhK,MAAI,EAAV,UACI,cAAC8J,EAAA,EAAD,CAAYvJ,MAAO,CAAE8N,cAAe,IAApC,+BAGA,eAACC,EAAA,EAAD,CAAY3a,MAAON,KAAKH,MAAM2Z,wBAAyB5P,SAAU5J,KAAKga,uBAAtE,UACI,cAACkB,EAAA,EAAD,CAAkB5a,MAAM,QAAQ6a,QAAS,cAACC,EAAA,EAAD,CAAOjY,MAAM,YAActB,MAAM,4BAC1E,cAACqZ,EAAA,EAAD,CAAkB5a,MAAM,OAAO6a,QAAS,cAACC,EAAA,EAAD,CAAOjY,MAAM,YAActB,MAAM,sBAIjF,eAAC8U,EAAA,EAAD,CAAMhK,MAAI,EAAV,UACI,eAAC8J,EAAA,EAAD,yBAEI,cAAC4E,EAAA,EAAD,CAAYhE,SAAUrX,KAAKH,MAAM0Z,gBAAiBtP,QAASjK,KAAK8Z,0BAAhE,SAA2F,cAAC,IAAD,SAE/F,eAACrD,EAAA,EAAD,CAAYvJ,MAAO,CAAEzJ,QAAS,SAAWuG,QAAQ,UAAjD,6BACqBhK,KAAKH,MAAMuZ,QADhC,WAGA,eAAC3C,EAAA,EAAD,CAAYvJ,MAAO,CAAEzJ,QAAS,SAAWuG,QAAQ,UAAjD,6BACqBhK,KAAKH,MAAMwZ,QADhC,WAGA,eAAC5C,EAAA,EAAD,CAAYvJ,MAAO,CAAEzJ,QAAS,SAAWuG,QAAQ,UAAjD,yBACiBhK,KAAKH,MAAMyZ,WAD5B,cAKJ,cAAC3C,EAAA,EAAD,CAAMlN,WAAS,EAACC,eAAe,WAAW6D,QAAS,EAAnD,SACI,cAACoJ,EAAA,EAAD,CAAMhK,MAAI,EAAV,SACI,cAACxB,EAAA,EAAD,CAAQnB,QAAQ,YAAY7G,MAAM,UAAUkU,UAAWrX,KAAKH,MAAMsV,aAAclL,QAASjK,KAAKuV,KAA9F,qC,GA7WL/P,aA0XhBC,cAAUiT,G,kBC9RV4C,E,kDA3GX,WAAY9b,GAAQ,IAAD,8BACf,cAAMA,IACDK,MAAQ,CACT8F,SAAU,EAAKnG,MAAMmG,SACrB9E,QAAS,EAAKrB,MAAMqB,QACpBK,UAAW,EAAK1B,MAAM0B,UACtBiU,cAAc,GAElB,EAAKI,KAAO,EAAKA,KAAK7V,KAAV,gBACZ,EAAK6b,iBAAmB,EAAKA,iBAAiB7b,KAAtB,gBACxB,EAAK8b,oBAAsB,EAAKA,oBAAoB9b,KAAzB,gBAC3B,EAAK+b,sBAAwB,EAAKA,sBAAsB/b,KAA3B,gBAXd,E,qDAcnB,c,kBAGA,WAAQ,IAAD,OACCsW,EAAc,GAClBA,EAAYzO,UAAYvH,KAAKH,MAAM8F,SACnCqQ,EAAYxO,cAAgBxH,KAAKH,MAAMgB,QACvCmV,EAAYvO,gBAAkBzH,KAAKH,MAAMqB,UACzCyH,IAAMC,KAAK,2BAA4BoN,GAClCrO,MAAK,SAAAoB,GACsB,MAApBA,EAAIpH,KAAKqH,QACT,EAAK9I,SAAS,CAAEiV,cAAc,S,8BAK9C,SAAiBhV,GACbH,KAAKE,SAAS,CAAEyF,SAAUxF,EAAE+H,OAAOqM,QAASY,cAAc,IAC1DnV,KAAKR,MAAM4G,eAAejG,EAAE+H,OAAOqM,W,iCAGvC,SAAoBpR,EAAOhD,GACvBH,KAAKE,SAAS,CAAEW,QAASsC,EAAMuY,IAAKvG,cAAc,IAClDnV,KAAKR,MAAM6G,gBAAgBlD,EAAMuY,O,mCAGrC,SAAsBvY,EAAOhD,GACzBH,KAAKE,SAAS,CAAEgB,UAAWiC,EAAMuY,IAAKvG,cAAc,IACpDnV,KAAKR,MAAM8G,kBAAkBnD,EAAMuY,O,oBAGvC,WACI,OACI,eAAC5E,EAAA,EAAD,WACI,cAACC,EAAA,EAAD,CACIC,WAAY,cAAC,IAAD,IACZC,gBAAc,mBACdC,GAAG,kBAHP,SAKI,cAACT,EAAA,EAAD,CAAYzM,QAAQ,KAApB,0BAEJ,cAACmN,EAAA,EAAD,UACI,eAACR,EAAA,EAAD,CAAMlN,WAAS,EAAC2H,UAAU,SAAS5D,WAAW,aAAaD,QAAS,EAApE,UACI,eAACoJ,EAAA,EAAD,CAAMhK,MAAI,EAAV,UACI,cAAC8J,EAAA,EAAD,CAAYtR,MAAM,OAAlB,uBAGA,cAACwW,EAAA,EAAD,CAAQpH,QAASvU,KAAKH,MAAM8F,SAAUiE,SAAU5J,KAAKub,iBAAkBpY,MAAM,eAEjF,eAACwT,EAAA,EAAD,CAAMhK,MAAI,EAAV,UACI,cAAC8J,EAAA,EAAD,CAAYtR,MAAM,OAAlB,2BAGA,cAAC,IAAD,CAAchC,MAAOnD,KAAKH,MAAMgB,QAAS+I,SAAU5J,KAAKwb,yBAG5D,eAAC7E,EAAA,EAAD,CAAMhK,MAAI,EAAV,UACI,cAAC8J,EAAA,EAAD,CAAYtR,MAAM,OAAlB,6BAGA,cAAC,IAAD,CAAchC,MAAOnD,KAAKH,MAAMqB,UAAW0I,SAAU5J,KAAKyb,2BAI9D,eAAC9E,EAAA,EAAD,CAAMlN,WAAS,EAACC,eAAe,WAAW6D,QAAS,EAAnD,UACI,cAACoJ,EAAA,EAAD,CAAMhK,MAAI,EAAV,SACI,eAACgK,EAAA,EAAD,CAAMlN,WAAS,EAAC2H,UAAU,SAAS5D,WAAW,SAA9C,UACI,cAACmJ,EAAA,EAAD,CAAMhK,MAAI,EAAV,SACI,eAAC8J,EAAA,EAAD,CAAYzM,QAAQ,UAApB,UACI,sBAAMkD,MAAO,CAAC/J,MAAO,OAArB,uBADJ,2DAIJ,cAACwT,EAAA,EAAD,CAAMhK,MAAI,EAAV,SACI,cAAC8J,EAAA,EAAD,CAAYzM,QAAQ,UAAUvG,QAAQ,SAAtC,+DAMZ,cAACkT,EAAA,EAAD,CAAMhK,MAAI,EAAV,SACI,cAACxB,EAAA,EAAD,CAAQnB,QAAQ,YAAY7G,MAAM,UAAUkU,UAAWrX,KAAKH,MAAMsV,aAAclL,QAASjK,KAAKuV,KAA9F,mC,GA/FC/P,aCJ3BoW,E,4JAEF,WACI,OACI,qCACI,cAACC,EAAA,EAAD,IACA,eAACC,EAAA,EAAD,CAAWrP,UAAU,EAAOS,MAAO,CAACJ,WAAY,QAAhD,UACI,cAAC,EAAD,IACA,cAAC,EAAD,IACA,cAAC,EAAD,IACA,cAAC,EAAD,CACI1G,eAAgBpG,KAAKR,MAAM4G,eAC3BC,gBAAiBrG,KAAKR,MAAM6G,gBAC5BC,kBAAmBtG,KAAKR,MAAM8G,kBAC9BzF,QAASb,KAAKR,MAAMqB,QACpBK,UAAWlB,KAAKR,MAAM0B,UACtByE,SAAU3F,KAAKR,MAAMmG,qB,GAhBtBH,aAwBRoW,O,sDChCf,iGAIaxU,EAJb,OAIsB2U,EAASC,UAClBC,EAAgBC,IAAMC,iB,2ICOpBC,EAZS,SAAAC,GAClBA,GAAeA,aAAuBC,UACxC,8BAAqB3U,MAAK,YAAkD,IAA/C4U,EAA8C,EAA9CA,OAAQC,EAAsC,EAAtCA,OAAQC,EAA8B,EAA9BA,OAAQC,EAAsB,EAAtBA,OAAQC,EAAc,EAAdA,QAC3DJ,EAAOF,GACPG,EAAOH,GACPI,EAAOJ,GACPK,EAAOL,GACPM,EAAQN,O,OCDVrW,GAAU,EACmB,cAA7BC,OAAOC,SAASC,UAAyD,cAA7BF,OAAOC,SAASC,UAAyD,KAA7BF,OAAOC,SAASC,WAC1GH,GAAU,GAGZ4W,IAASC,OACP,cAAC,IAAMC,WAAP,UACE,cAACpX,EAAA,EAAD,CAAKM,QAASA,MAEhB+W,SAASC,eAAe,SAM1BZ,K,qhBCWMP,G,kDACF,WAAYrc,GAAQ,IAAD,8BACf,cAAMA,IA6BV4L,WAAaH,YAAW,CACpBC,KAAM,CACF/I,gBAAiB,UACjB,UAAW,CACPA,gBAAiB,aAJhB8I,CAOVE,KArCgB,EAuCnB8R,QAAUhS,YAAW,CACjBC,KAAM,CACF5J,KAAM,YAFJ2J,CAIPiS,KA3CgB,EA6CnBC,UAAYlS,YAAW,CACnBC,KAAM,CACF5J,KAAM,YAFF2J,CAITmS,KAjDgB,EAmDnBC,aAAepS,YAAW,CACtBC,KAAM,CACF5J,KAAM,YAFC2J,CAIZqS,KArDC,EAAKC,kBAAoB,EAAKA,kBAAkB7d,KAAvB,gBACzB,EAAK8d,qBAAuB,EAAKA,qBAAqB9d,KAA1B,gBAC5B,EAAK+d,aAAe,EAAKA,aAAa/d,KAAlB,gBACpB,EAAK6L,KAAO,EAAKA,KAAK7L,KAAV,gBACZ,EAAKge,UAAY,EAAKA,UAAUhe,KAAf,gBACjB,EAAKie,SAAW,EAAKA,SAASje,KAAd,gBAChB,EAAKke,eAAiB,EAAKA,eAAele,KAApB,gBACtB,EAAK0J,QAAU,KACf,EAAKvJ,MAAQ,CACTge,QAAQ,EACRC,UAAU,EACVC,cAAc,EACdC,WAAY,EACZC,YAAa,EACbjV,OAAQ,QACRkV,QAAS,GACTxS,eAAgB,GAChByS,cAAe,GACfC,sBAAuB,GACvBC,uBAAuB,EACvBC,SAAS,EACTC,cAAc,EACdC,OAAO,EACPC,WAAW,EACXC,UAAU,GA1BC,E,wCA0DnB,WAAQ,IAAD,OACH/V,IAAMC,KAAK,YAAa,CAAEyD,OAAQ,SAC7B1E,MAAK,SAAAoB,GACsB,MAApBA,EAAIpH,KAAKqH,QACT,EAAK9I,SAAS,CAAE8I,OAAQ,e,+BAKxC,WAAqB,IAAD,OAChBtB,MAAM,eACDC,MAAK,SAAAC,GAAQ,OAAIA,EAASC,UAC1BF,MAAK,SAAAG,GACF,EAAK5H,SAAS,CACVge,QAASpW,EAAOoW,QAChBF,WAAYlW,EAAOkB,OAAO2V,QAC1B3V,OAAQlB,EAAOkB,OAAOA,OACtB0C,eAAgB5D,EAAOkB,OAAOgD,qBAG1C5E,IAAOC,GAAG,iBAAiB,SAACC,GACxB,EAAKpH,SAAS,CACV8d,WAAY1W,EAAQqX,QACpBV,YAAa3W,EAAQ2W,YACrBjV,OAAQ1B,EAAQ0B,OAChB0C,eAAgBpE,EAAQ0E,kBAGxB1E,EAAQsX,MAAQ,GAChB,EAAK1e,SAAS,CAAEoe,SAAS,IACrBhX,EAAQsX,MAAQ,KAChBC,YAAW,WACP,EAAK3e,SAAS,CAAEoe,SAAS,MAC1BhX,EAAQsX,QAGf,EAAK1e,SAAS,CAAEoe,SAAS,IAGzBhX,EAAQwX,YAAc,GACtB,EAAK5e,SAAS,CAAEqe,cAAc,IAC1BjX,EAAQwX,YAAc,KACtBD,YAAW,WACP,EAAK3e,SAAS,CAAEqe,cAAc,MAC/BjX,EAAQwX,cAGf,EAAK5e,SAAS,CAAEqe,cAAc,IAG9BjX,EAAQyX,IAAM,GACd,EAAK7e,SAAS,CAAEse,OAAO,IACnBlX,EAAQyX,IAAM,KACdF,YAAW,WACP,EAAK3e,SAAS,CAAEse,OAAO,MACxBlX,EAAQyX,MAGf,EAAK7e,SAAS,CAAEse,OAAO,OAG/BpX,IAAOC,GAAG,kBAAkB,SAACC,GACzB,EAAKpH,SAAS,CACVie,cAAe7W,EAAQA,QACvB8W,sBAAuB9W,EAAQ0X,WAEnC,EAAK9e,SAAS,CACVme,uBAAuB,OAG/BjX,IAAOC,GAAG,cAAc,WACpB,EAAKnH,SAAS,CAAEwe,UAAU,IAC1B,EAAKtV,QAAUyV,YAAW,WACtB,EAAK3e,SAAS,CAAEue,WAAW,MAC5B,QAGPrX,IAAOC,GAAG,WAAW,WACjB4X,aAAa,EAAK7V,SAClB,EAAKlJ,SAAS,CAAEue,WAAW,EAAMC,UAAU,OAE1CtX,IAAOqX,YACRze,KAAKE,SAAS,CAAEwe,UAAU,IAC1B1e,KAAKoJ,QAAUyV,YAAW,WACtB,EAAK3e,SAAS,CAAEue,WAAW,MAC5B,Q,0BAIX,WACQze,KAAKH,MAAMge,OACX7d,KAAKE,SAAS,CAAE2d,QAAQ,IAExB7d,KAAKE,SAAS,CAAE2d,QAAQ,M,kCAIhC,WACIzW,IAAO+E,IAAI,iBACX/E,IAAO+E,IAAI,kBACX/E,IAAO+E,IAAI,cACX/E,IAAO+E,IAAI,a,uBAGf,WACInM,KAAKE,SAAS,CAAE4d,UAAU,M,sBAG9B,WACI9d,KAAKE,SAAS,CAAE4d,UAAU,M,4BAG9B,WACI9d,KAAKE,SAAS,CAACme,uBAAuB,M,oBAG1C,WACI,IAAIa,EAAqBlf,KAAKH,MAAMoe,YAAc,QAC9Cje,KAAKH,MAAMoe,YAAc,IACzBiB,EAAqB,8BAGzB,IAAIC,EAAY,eAAC,IAAD,IACZC,EAAiB,eAAC,IAAD,IACjBC,EAAU,eAAC,IAAD,IAad,OAZIrf,KAAKH,MAAMye,UACXa,EAAY,oBAAMlC,QAAN,KAGZjd,KAAKH,MAAM0e,eACXa,EAAiB,oBAAMjC,UAAN,KAGjBnd,KAAKH,MAAM2e,QACXa,EAAU,oBAAMhC,aAAN,KAIV,uCACI,eAAC,IAAD,CAAUiC,aAAc,CACpBC,SAAU,MACVC,WAAY,SAAUjW,KAAMvJ,KAAKH,MAAMwe,sBAAuBoB,iBAAkB,IAAOjT,QAASxM,KAAK4d,eAFzG,SAGI,eAAC,IAAD,CAAU8B,UAAW,EAAG1V,QAAQ,SAASgV,SAAUhf,KAAKH,MAAMue,sBAAuB5R,QAASxM,KAAK4d,eAAnG,SACK5d,KAAKH,MAAMse,kBAIpB,eAAC,KAAD,CAAUjR,MAAO,CAACyS,OAAQ,IAAKpW,KAAMvJ,KAAKH,MAAM6e,SAAhD,SACI,eAAC,KAAD,CAAkBvb,MAAM,cAG5B,gBAAC,IAAD,CAAQqJ,QAASxM,KAAK2d,SAAUpU,KAAMvJ,KAAKH,MAAMie,SAAUtU,WAAW,EAAOiD,SAAU,KAAvF,UACI,eAAC,IAAD,UACI,eAAC,IAAD,CAAMhD,WAAS,EAACC,eAAe,SAA/B,SACI,eAAC,IAAD,CAAMiD,MAAI,EAAV,SACI,gBAAC,IAAD,CAAY3C,QAAQ,KAApB,oBACYhK,KAAKH,MAAMqe,iBAKnC,eAAC,IAAD,UACI,gBAAC,IAAD,CAAMzU,WAAS,EAAC+D,WAAW,SAAS4D,UAAU,SAA9C,UACI,eAAC,IAAD,CAAMzE,MAAI,EAAV,SACI,eAAC,IAAD,CAAQrM,MAAO,UAAYN,KAAKH,MAAMqe,QAASva,KAAM,QAEzD,eAAC,IAAD,CAAMgJ,MAAI,EAAV,uFAGA,eAAC,IAAD,CAAMA,MAAI,EAAV,SACI,eAAC,IAAD,CAAYuE,aAAW,QAAQjH,QAASjK,KAAK2d,SAA7C,SACI,eAAC,IAAD,gBAOpB,gBAAC,IAAD,CAAQpU,MAAOvJ,KAAKH,MAAM4e,UAA1B,UACI,eAAC,IAAD,UACI,eAAC,IAAD,yCAIJ,eAAC,IAAD,kDAKJ,gBAAC,IAAD,CAAQvZ,SAAS,SAAjB,UACI,gBAAC,IAAD,WACI,eAAC,IAAD,CAAY0a,KAAK,QAAQzc,MAAM,UAAU+N,aAAW,OAAOjH,QAASjK,KAAKyd,aAAzE,SACI,eAAC,IAAD,MAEJ,eAAC,KAAD,CAAQ/Q,QAAM,EAAd,SACI,eAAC,IAAD,CAAY/B,UAAWgD,IAAMC,GAAG,IAAIzK,MAAM,UAA1C,SAAoD,eAAC,IAAD,QAExD,gBAAC,IAAD,CAAMsG,WAAS,EAAC8D,QAAS,EAAGL,MAAO,CAAEwH,YAAa,GAAI5H,WAAY,GAAlE,UACI,eAAC,IAAD,CAAMH,MAAI,EAACO,MAAO,CAAEG,SAAU,KAA9B,SACI,eAAC,IAAD,CAAYlI,MAAM,QAAlB,SACK+Z,MAGT,eAAC,IAAD,CAAMvS,MAAI,EAACO,MAAO,CAAEG,SAAU,KAA9B,SACI,eAAC,IAAD,CAAYlI,MAAM,SAAlB,SACKnF,KAAKH,MAAMmJ,WAGpB,eAAC,KAAD,CAAQ0D,QAAM,EAAd,SACI,eAAC,IAAD,CAAMC,MAAI,EAAV,SACI,gBAAC,IAAD,CAAMlD,WAAS,EAAC8D,QAAS,EAAzB,UACI,eAAC,IAAD,CAAMZ,MAAI,EAAV,SACKwS,IAEL,eAAC,IAAD,CAAMxS,MAAI,EAAV,SACKyS,IAEL,eAAC,IAAD,CAAMzS,MAAI,EAAV,SACK0S,WAKjB,eAAC,IAAD,CAAM1S,MAAI,EAAV,SACI,eAAC,IAAD,CAAYxH,MAAM,SAAS+H,MAAO,CAAC2S,WAAY,QAA/C,SACK7f,KAAKH,MAAM6L,eAAetG,YAIvC,sBAAK8H,MAAO,CAAE4H,WAAY,QAA1B,UAC4B,YAAtB9U,KAAKH,MAAMmJ,QAA8C,YAAtBhJ,KAAKH,MAAMmJ,SAC5C,oBAAMoC,WAAN,CAAiBnB,QAASjK,KAAKuL,KAAMgB,UAAW,eAAC,IAAD,IAAcvC,QAAQ,YAAY7G,MAAM,UAAxF,uBAKZ,eAAC,IAAD,CAAgB+J,MAAO,CAAC4S,OAAQ,GAAI9V,QAAQ,cAAc7G,MAAM,YAAY7C,MAAON,KAAKH,MAAMme,gBAGlG,gBAAC,IAAD,CAAQzU,KAAMvJ,KAAKH,MAAMge,OAAQrR,QAASxM,KAAKyd,aAA/C,UACI,eAAC,IAAD,CAAUtV,QAAM,EAAc8B,QAASjK,KAAKyd,aAAcvQ,MAAO,CAAC6S,UAAW,IAA7E,SACI,eAAC,IAAD,UAAc,eAAC,IAAD,OADI,QAGtB,eAAC,IAAD,IACA,gBAAC,IAAD,CAAU5X,QAAM,EAAcwC,UAAWgD,IAAM1D,QAASjK,KAAKyd,aAAc7P,GAAG,IAA9E,UACI,eAAC,IAAD,UAAc,eAAC,IAAD,MACd,eAAC,IAAD,qBAFkB,QAItB,gBAAC,IAAD,CAAUzF,QAAM,EAAqBwC,UAAWgD,IAAM1D,QAASjK,KAAKyd,aAAc7P,GAAG,eAArF,UACI,eAAC,IAAD,UAAc,eAAC,KAAD,MACd,eAAC,IAAD,6BAFkB,eAItB,gBAAC,IAAD,CAAUzF,QAAM,EAAkBwC,UAAWgD,IAAM1D,QAASjK,KAAKyd,aAAc7P,GAAG,YAAlF,UACI,eAAC,IAAD,UAAc,eAAC,IAAD,MACd,eAAC,IAAD,yBAFkB,YAItB,gBAAC,IAAD,CAAUzF,QAAM,EAAiB8B,QAASjK,KAAK0d,UAA/C,UACI,eAAC,IAAD,UAAc,eAAC,IAAD,MACd,eAAC,IAAD,+BAFkB,qB,GA3TlBlY,aAqUT0M,gBAAW2J,M","file":"static/js/main.6f2cdcb4.chunk.js","sourcesContent":["import React, { Component } from \"react\";\r\nimport { Scatter } from 'react-chartjs-2';\r\n//import { DraggableGraph } from './DraggableGraph';\r\nimport 'chartjs-plugin-dragdata';\r\n//import Keyboard from 'react-simple-keyboard';\r\nimport { withTheme } from '@material-ui/styles';\r\nimport { alpha } from '@material-ui/core/styles/colorManipulator';\r\n\r\nclass Profile extends Component {\r\n    constructor(props) {\r\n        super(props);\r\n        this.dragStart = this.dragStart.bind(this);\r\n        this.drag = this.drag.bind(this);\r\n        this.dragEnd = this.dragEnd.bind(this);\r\n        this.state = {\r\n            hitRadius: 5,\r\n            pointRadius: 3,\r\n        };  \r\n    }\r\n    \r\n    componentDidMount() {\r\n        if (this.props.draggable) {\r\n            //hitradius over 25 ensures that touch devices can drag points\r\n            this.setState({ hitRadius: 30, pointRadius: 8 });\r\n        }\r\n    }\r\n\r\n\r\n    dragStart(e, datasetIndex, index, value) {\r\n        this.props.dragStart(e, datasetIndex, index, value);\r\n    }\r\n\r\n    drag(e, datasetIndex, index, value) {\r\n        this.props.drag(e, datasetIndex, index, value);\r\n    }\r\n\r\n    dragEnd(e, datasetIndex, index, value) {\r\n        this.props.dragEnd(e, datasetIndex, index, value);\r\n    }\r\n\r\n    render() {\r\n        var gridColor = this.props.theme.palette.text.hint;\r\n        var primaryColor = this.props.theme.palette.primary.main;\r\n        var transparentPrimary = alpha(this.props.theme.palette.primary.main, 0.2);\r\n        var secondaryColor = this.props.theme.palette.secondary.main;\r\n        var transparentSecondary = alpha(this.props.theme.palette.secondary.main, 0.2);\r\n        var tempColors = new Array(10).fill(transparentPrimary);\r\n        var historicTempPointSize = 2;\r\n        if (this.props.draggable) {\r\n            tempColors[this.props.activePoint] = secondaryColor;\r\n        }\r\n        if (this.props.historicTemps && this.props.historicTemps.length === 1) {\r\n            historicTempPointSize = 8;\r\n        }\r\n\r\n        return (\r\n            <Scatter data={{\r\n                datasets: [\r\n                    {\r\n                        label: 'Profile',\r\n                        data: this.props.profile.datapoints,\r\n                        pointBackgroundColor: tempColors,\r\n                        showLine: true,\r\n                        lineTension: 0.05,\r\n                        backgroundColor: transparentPrimary,\r\n                        borderColor: primaryColor,\r\n                        borderWidth: 3,\r\n                        pointRadius: this.state.pointRadius,\r\n                        pointHitRadius: this.state.hitRadius,\r\n                        hoverRadius: this.state.pointRadius + 3,\r\n                        dragData: this.props.draggable,\r\n                    },\r\n                    {\r\n                        label: 'Historic Temerature',\r\n                        data: this.props.historicTemps,\r\n                        showLine: true,\r\n                        lineTension: 0.05,\r\n                        backgroundColor: transparentSecondary,\r\n                        borderColor: secondaryColor,\r\n                        borderWidth: 1,\r\n                        pointRadius: historicTempPointSize,\r\n                        hoverRadius: historicTempPointSize + 1,\r\n                        dragData: false,\r\n                        borderDash: [10, 5],\r\n                        fill: 0,\r\n                    },\r\n                ],\r\n            }} options={{\r\n                maintainAspectRatio: true,\r\n                aspectRatio: 1.9,\r\n                responsive: true,\r\n                animation: {\r\n                    duration: 0,\r\n                },\r\n                scales: {\r\n                    y: {\r\n                        grid: {\r\n                            color: gridColor\r\n                        },\r\n                        ticks: {\r\n                            color: gridColor,\r\n                            stepSize: 25\r\n                        },\r\n                        min: 0,\r\n                        max: 300,\r\n                        title: {\r\n                            text: 'Temperature (°C)',\r\n                            display: true,\r\n                            color: gridColor,\r\n                            font: {\r\n                                size: \"15%\",\r\n                            },\r\n                        },\r\n                    },\r\n                    x: {\r\n                        grid: {\r\n                            color: gridColor\r\n                        },\r\n                        ticks: {\r\n                            color: gridColor,\r\n                            stepSize: 25\r\n                        },\r\n                        min: 0,\r\n                        max: this.props.maxTime,\r\n                        title: {\r\n                            text: 'Time (Seconds)',\r\n                            display: true,\r\n                            color: gridColor,\r\n                            font: {\r\n                                size: \"15%\",\r\n                            },\r\n                        },\r\n                    },\r\n                },\r\n\r\n                plugins: {\r\n                    dragData: {\r\n                        round: 0,\r\n                        dragX: true,\r\n                        onDrag: (e, datasetIndex, index, value) => this.drag(e, datasetIndex, index, value),\r\n                        onDragStart: (e, datasetIndex, index, value) => this.dragStart(e, datasetIndex, index, value),\r\n                        onDragEnd: (e, datasetIndex, index, value) => this.dragEnd(e, datasetIndex, index, value)\r\n                    },\r\n                    zoom: {\r\n                        wheel: {\r\n                            enabled: true,\r\n                        },\r\n                        pinch: {\r\n                            enabled: true\r\n                        },\r\n                        mode: 'xy',\r\n                    },\r\n                    tooltip: {\r\n                        xAlign: 'right',\r\n                        yAlign: 'bottom',\r\n                        displayColors: false,\r\n                        caretPadding: 30,\r\n                        caretSize: 10,\r\n                        bodySpacing: 20,\r\n                    },\r\n                    legend: {\r\n                        display: false,\r\n                    },\r\n                    title: {\r\n                        display: false,\r\n                        color: 'white',\r\n                        fullsize: true,\r\n                        position: 'bottom',\r\n                        align: 'start',\r\n                        text: this.props.profile.name,\r\n                        padding: {\r\n                            top: 0,\r\n                            bottom: 0\r\n                        },\r\n                        font: {\r\n                            size: 30,\r\n                        }\r\n                    },\r\n                },\r\n            }} />\r\n        );\r\n    }\r\n}\r\n//this.props.historicTemps\r\nexport default withTheme(Profile);","import React, { Component } from \"react\";\r\nimport { SocketContext, socket } from './helpers/socket';\r\nimport './App.css';\r\nimport Home from './views/home';\r\nimport Settings from './views/settings';\r\nimport ProfileList from './views/profileList';\r\nimport NotFound from './views/notFound';\r\nimport { createTheme } from '@material-ui/core/styles';\r\nimport { ThemeProvider } from '@material-ui/styles';\r\nimport CssBaseline from '@material-ui/core/CssBaseline';\r\nimport {\r\n  BrowserRouter as Router,\r\n  Switch,\r\n  Route,\r\n} from \"react-router-dom\";\r\nimport EditProfile from \"./views/editProfile\";\r\nimport IdleTimer from 'react-idle-timer'\r\nimport Dialog from '@material-ui/core/Dialog';\r\nimport DialogActions from '@material-ui/core/DialogActions';\r\nimport DialogContent from '@material-ui/core/DialogContent';\r\nimport DialogTitle from '@material-ui/core/DialogTitle';\r\nimport TextField from '@material-ui/core/TextField';\r\nimport { Typography, Button, Grid } from \"@material-ui/core\";\r\nimport axios from 'axios';\r\nimport Keyboard from \"react-simple-keyboard\";\r\n//import { RemoveScrollBar } from 'react-remove-scroll-bar';\r\n\r\nclass App extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      darkMode: true,\r\n      primary: '#3f51b5',\r\n      secondary: '#e91e63',\r\n      locked: false,\r\n      passwordError: false,\r\n      password: '',\r\n      keyboardLayout: 'default',\r\n      isLocal: window.location.hostname === \"localhost\" || window.location.hostname === \"127.0.0.1\"\r\n    };\r\n    this.toggleDarkMode = this.toggleDarkMode.bind(this);\r\n    this.setPrimaryColor = this.setPrimaryColor.bind(this);\r\n    this.setSecondaryColor = this.setSecondaryColor.bind(this);\r\n    this.fetchAppearance = this.fetchAppearance.bind(this);\r\n    this.appIdle = this.appIdle.bind(this);\r\n    this.handlePasswordEnter = this.handlePasswordEnter.bind(this);\r\n    this.submitPassword = this.submitPassword.bind(this);\r\n    this.handleKeyboardInput = this.handleKeyboardInput.bind(this);\r\n  }\r\n\r\n  buf2hex(buffer) { // buffer is an ArrayBuffer\r\n  return [...new Uint8Array(buffer)]\r\n    .map(x => x.toString(16).padStart(2, '0'))\r\n    .join('');\r\n  }\r\n\r\n  componentDidMount() {\r\n    if (localStorage.getItem('locked') === 'true') {\r\n      this.setState({ locked: true });\r\n    }\r\n    this.fetchAppearance();\r\n\r\n    socket.on(\"appearance_update\", (message) => {\r\n      this.setState({\r\n        darkMode: message.dark_mode,\r\n        primary: message.primary_color,\r\n        secondary: message.secondary_color\r\n      })\r\n    });\r\n  }\r\n\r\n  fetchAppearance() {\r\n    fetch('/api/settings/appearance')\r\n      .then(response => response.json())\r\n      .then(result => {\r\n        this.setState({ darkMode: result.dark_mode, primary: result.primary_color, secondary: result.secondary_color });\r\n      });\r\n\r\n  }\r\n\r\n  componentWillUnmount() {\r\n    socket.disconnect();\r\n  }\r\n\r\n  toggleDarkMode(isDark) {\r\n    if (isDark) {\r\n      this.setState({ darkMode: true });\r\n    } else {\r\n      this.setState({ darkMode: false });\r\n    }\r\n  }\r\n\r\n  setPrimaryColor(color) {\r\n    this.setState({ primary: color });\r\n  }\r\n\r\n  setSecondaryColor(color) {\r\n    this.setState({ secondary: color });\r\n  }\r\n\r\n  appIdle() {\r\n    if (this.state.isLocal) {\r\n      this.setState({ locked: true });\r\n      localStorage.setItem('locked', 'true');\r\n    }\r\n  }\r\n\r\n  handlePasswordEnter(e) {\r\n    this.setState({ password: e.target.value });\r\n  }\r\n\r\n  handleKeyboardInput(button) {\r\n    if (button === '{lock}') {\r\n      if (this.state.keyboardLayout === 'caps' || this.state.keyboardLayout === 'shift') {\r\n        this.setState({ keyboardLayout: 'default' });\r\n      } else {\r\n        this.setState({ keyboardLayout: 'caps' });\r\n      }\r\n    } else if (button === '{shift}') {\r\n      if (this.state.keyboardLayout === 'caps' || this.state.keyboardLayout === 'shift') {\r\n        this.setState({ keyboardLayout: 'default' });\r\n      } else {\r\n        this.setState({ keyboardLayout: 'shift' });\r\n      }\r\n    } else {\r\n      let tempPassword = this.state.password;\r\n      if (button === '{bksp}') {\r\n        tempPassword = tempPassword.substring(0, tempPassword.length - 1);\r\n      } else if (button === '{space}') {\r\n        tempPassword += ' ';\r\n      } else if (button === '{enter}') {\r\n        this.submitPassword();\r\n        return;\r\n      } else {\r\n        if (button !== '{tab}') {\r\n          tempPassword += button;\r\n        } \r\n      }\r\n      this.setState({ password: tempPassword });\r\n      if (this.state.keyboardLayout === 'shift') {\r\n        this.setState({ keyboardLayout: 'default' });\r\n      }\r\n    }\r\n  }\r\n\r\n  submitPassword() {\r\n    window.crypto.subtle.digest('sha-256', Buffer.from(this.state.password)).then((digest) => {\r\n      axios.post('/api/check_password', { hashed: this.buf2hex(digest) })\r\n        .then(res => {\r\n          if (res.data.status === 200) {\r\n            this.setState({ locked: false, password: '', passwordError: false });\r\n            localStorage.setItem('locked', 'false');\r\n          } else if (res.data.status === 403) {\r\n            this.setState({ passwordError: true, password: '' });\r\n          }\r\n        });\r\n    });\r\n  }\r\n\r\n\r\n  render() {\r\n    var themeType = 'dark';\r\n    if (!this.state.darkMode) {\r\n      themeType = 'light'\r\n    }\r\n    const theme = createTheme({\r\n      palette: {\r\n        type: themeType,\r\n        primary: {\r\n          main: this.state.primary,\r\n        },\r\n        secondary: {\r\n          main: this.state.secondary,\r\n        },\r\n      }\r\n\r\n    });\r\n\r\n    return (\r\n      <ThemeProvider theme={theme}>\r\n        <IdleTimer\r\n          timeout={600000}\r\n          onIdle={this.appIdle}\r\n          debounce={250}\r\n        />\r\n        <CssBaseline />\r\n        <Dialog open={this.state.locked} fullWidth={true}>\r\n          <DialogTitle>\r\n            <Typography align='center'>\r\n              Oven locked. Please enter password:\r\n            </Typography>\r\n          </DialogTitle>\r\n          <DialogContent>\r\n            <Grid container justifyContent='center'>\r\n              <TextField\r\n                error={this.state.passwordError}\r\n                onChange={this.handlePasswordEnter}\r\n                value={this.state.password}\r\n                type='password'\r\n                inputProps={{\r\n                  autocomplete: 'new-password',\r\n                  form: {\r\n                    autocomplete: 'off',\r\n                  },\r\n                }}\r\n              />\r\n            </Grid>\r\n          </DialogContent>\r\n          <DialogActions>\r\n            <Button color='primary' variant='outline' onClick={this.submitPassword}>Enter</Button>\r\n          </DialogActions>\r\n          <Keyboard\r\n            theme={themeType === 'dark' ? 'hg-theme-dark' : 'hg-theme-default'}\r\n            layoutName={this.state.keyboardLayout}\r\n            layout={{\r\n              default: [\r\n                \"` 1 2 3 4 5 6 7 8 9 0 - = {bksp}\",\r\n                \"{tab} q w e r t y u i o p [ ] \\\\\",\r\n                \"{lock} a s d f g h j k l ; ' {enter}\",\r\n                \"{shift} z x c v b n m , . / {shift}\",\r\n                \"{space}\"\r\n              ],\r\n              shift: [\r\n                \"~ ! @ # $ % ^ & * ( ) _ + {bksp}\",\r\n                \"{tab} Q W E R T Y U I O P { } |\",\r\n                '{lock} A S D F G H J K L : \" {enter}',\r\n                \"{shift} Z X C V B N M < > ? {shift}\",\r\n                \"{space}\"\r\n              ],\r\n              caps: [\r\n                \"~ ! @ # $ % ^ & * ( ) _ + {bksp}\",\r\n                \"{tab} Q W E R T Y U I O P { } |\",\r\n                '{lock} A S D F G H J K L : \" {enter}',\r\n                \"{shift} Z X C V B N M < > ? {shift}\",\r\n                \"{space}\"\r\n              ]\r\n            }}\r\n            onKeyPress={this.handleKeyboardInput}\r\n          />\r\n        </Dialog>\r\n        <Router>\r\n\r\n          <SocketContext.Provider value={socket}>\r\n            <Switch>\r\n\r\n              <Route exact path=\"/\" >\r\n                <Home />\r\n              </Route>\r\n              <Route path=\"/editProfile\" >\r\n                <EditProfile />\r\n              </Route>\r\n              <Route path=\"/profileList\" >\r\n                <ProfileList />\r\n              </Route>\r\n              <Route path=\"/settings\" >\r\n                <Settings\r\n                  toggleDarkMode={this.toggleDarkMode}\r\n                  setPrimaryColor={this.setPrimaryColor}\r\n                  setSecondaryColor={this.setSecondaryColor}\r\n                  primary={this.state.primary}\r\n                  secondary={this.state.secondary}\r\n                  darkMode={this.state.darkMode}\r\n                />\r\n              </Route>\r\n              <Route component={NotFound} />\r\n            </Switch>\r\n          </SocketContext.Provider>\r\n        </Router>\r\n      </ThemeProvider>\r\n\r\n\r\n\r\n    );\r\n  }\r\n}\r\n//<h1>{props.isLocal.toString()}</h1>\r\nexport { App };\r\n","import { React, Component } from 'react';\r\nimport Stepper from '@material-ui/core/Stepper';\r\nimport Step from '@material-ui/core/Step';\r\nimport StepLabel from '@material-ui/core/StepLabel';\r\nimport Profile from '../components/Profile';\r\nimport EditIcon from '@material-ui/icons/Edit';\r\nimport { Button, Container, Grid, Typography, Box, Paper } from '@material-ui/core';\r\nimport { Link } from \"react-router-dom\";\r\nimport { socket } from '../helpers/socket';\r\nimport axios from 'axios';\r\nimport PlayArrowIcon from '@material-ui/icons/PlayArrow';\r\nimport StopIcon from '@material-ui/icons/Stop';\r\nimport StatusBar from '../components/StatusBar';\r\nimport { withStyles } from '@material-ui/core/styles';\r\nimport Dialog from '@material-ui/core/Dialog';\r\nimport DialogActions from '@material-ui/core/DialogActions';\r\nimport DialogContent from '@material-ui/core/DialogContent';\r\nimport DialogTitle from '@material-ui/core/DialogTitle';\r\nimport ListAltIcon from '@material-ui/icons/ListAlt';\r\nimport Hidden from '@material-ui/core/Hidden';\r\n\r\nclass Home extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.runProfile = this.runProfile.bind(this);\r\n    this.forceRunProfile = this.forceRunProfile.bind(this);\r\n    this.stop = this.stop.bind(this);\r\n    this.cancelClicked = this.cancelClicked.bind(this);\r\n    this.coolingDialogClose = this.coolingDialogClose.bind(this);\r\n    this.state = ({\r\n      currentProfile: {\r\n        \"name\": \"flat\",\r\n        \"date_created\": 0,\r\n        \"last_run\": 0,\r\n        \"datapoints\": [\r\n          {\r\n            \"x\": 0,\r\n            \"y\": 30\r\n          },\r\n          {\r\n            \"x\": 75,\r\n            \"y\": 30\r\n          },\r\n          {\r\n            \"x\": 150,\r\n            \"y\": 30\r\n          },\r\n          {\r\n            \"x\": 225,\r\n            \"y\": 30\r\n          },\r\n          {\r\n            \"x\": 300,\r\n            \"y\": 30\r\n          },\r\n          {\r\n            \"x\": 375,\r\n            \"y\": 30\r\n          }\r\n        ]\r\n      },\r\n      historicTemperature: [],\r\n      percentDone: 0,\r\n      status: \"Ready\",\r\n      activeStep: 0,\r\n      startWhenCoolingDialog: false,\r\n      coolingDialog: false\r\n    });\r\n\r\n  }\r\n\r\n  steps = [\r\n    {\r\n      label: 'Ready'\r\n    },\r\n    {\r\n      label: 'Preheat',\r\n      description: ''\r\n    },\r\n    {\r\n      label: 'Run Profile',\r\n      description: ''\r\n    },\r\n    {\r\n      label: 'Peak',\r\n      description: ''\r\n    },\r\n    {\r\n      label: 'Cooling',\r\n      description: ''\r\n    }\r\n  ];\r\n\r\n  StartButton = withStyles({\r\n    root: {\r\n      backgroundColor: '#00ba16',\r\n      '&:hover': {\r\n        backgroundColor: '#009612'\r\n      }\r\n    }\r\n  })(Button);\r\n\r\n  StopButton = withStyles({\r\n    root: {\r\n      backgroundColor: '#bf0000',\r\n      '&:hover': {\r\n        backgroundColor: '#870000'\r\n      }\r\n    }\r\n  })(Button);\r\n\r\n  componentDidMount() {\r\n    fetch('/api/current_profile')\r\n      .then(response => response.json())\r\n      .then(result => {\r\n        this.setState({ currentProfile: result.current_profile });\r\n      });\r\n    socket.on(\"status_update\", (message) => {\r\n      this.setState({\r\n        currentProfile: message.current_profile,\r\n        historicTemperature: message.historic_temperature,\r\n        status: message.status\r\n      });\r\n      if (this.state.status === \"Ready\") {\r\n        this.setState({ activeStep: 0 });\r\n      } else if (this.state.status === \"Preheat\") {\r\n        this.setState({ activeStep: 1 });\r\n      } else if (this.state.status === \"Running\") {\r\n        this.setState({ activeStep: 2 });\r\n      } else if (this.state.status === \"Peak\") {\r\n        this.setState({ activeStep: 3 });\r\n      } else if (this.state.status === \"Cooling\") {\r\n        this.setState({ activeStep: 4 });\r\n      }\r\n    });\r\n    socket.on(\"notify_cooling\", (message) => {\r\n      this.setState({\r\n        coolingDialog: true\r\n      });\r\n    });\r\n  }\r\n\r\n  //need to fix\r\n  shouldComponentUpdate(nextState) {\r\n    return true;\r\n  }\r\n\r\n  componentWillUnmount() {\r\n    socket.off(\"status_update\");\r\n    socket.off(\"notify_cooling\");\r\n  }\r\n\r\n  runProfile() {\r\n      axios.post('/api/run', { override: false })\r\n        .then(res => {\r\n          if (res.data.status === 200) {\r\n            this.setState({ status: \"Running\" });\r\n          } else if (res.data.status === 409) {\r\n            this.setState({ startWhenCoolingDialog: true });\r\n          }\r\n        });\r\n  }\r\n\r\n  forceRunProfile() {\r\n    axios.post('/api/run', { override: true })\r\n      .then(res => {\r\n        if (res.data.status === 200) {\r\n          this.setState({ status: \"Running\", startWhenCoolingDialog: false  });\r\n        }\r\n      });\r\n  }\r\n\r\n  stop() {\r\n    axios.post('/api/stop', { reason: \"test\" })\r\n      .then(res => {\r\n        if (res.data.status === 200) {\r\n          this.setState({ status: \"Ready\" });\r\n        }\r\n      });\r\n  }\r\n\r\n  cancelClicked() {\r\n    this.setState({ startWhenCoolingDialog: false });\r\n  }\r\n\r\n  coolingDialogClose() {\r\n    this.setState({ coolingDialog: false });\r\n  }\r\n\r\n  render() {\r\n    const isRunning = this.state.status === \"Preheat\" || this.state.status === \"Running\" || this.state.status === \"Peak\" ;\r\n    let stopStartButton;\r\n    if (isRunning) {\r\n      stopStartButton = <this.StopButton onClick={this.stop} startIcon={<StopIcon />} variant=\"contained\" color=\"primary\">Stop</this.StopButton>;\r\n    } else {\r\n      stopStartButton = <this.StartButton onClick={this.runProfile} startIcon={<PlayArrowIcon />} variant=\"contained\" color=\"primary\">Start</this.StartButton>;\r\n    }\r\n    return (\r\n      <>\r\n        <StatusBar />\r\n\r\n        <Dialog open={this.state.startWhenCoolingDialog} onClose={this.cancelClicked}>\r\n          <DialogTitle>\r\n            Oven still cooling\r\n          </DialogTitle>\r\n          <DialogContent>\r\n            Start profile anyway?\r\n          </DialogContent>\r\n          <DialogActions>\r\n            <Button onClick={this.cancelClicked} color=\"primary\" variant='contained'>\r\n              Cancel\r\n            </Button>\r\n            <Button onClick={this.forceRunProfile} color=\"primary\" variant='contained'>\r\n              Start Anyway\r\n            </Button>\r\n          </DialogActions>\r\n        </Dialog>\r\n\r\n        <Dialog open={this.state.coolingDialog} onClose={this.coolingDialogClose}>\r\n          <DialogTitle>\r\n            Cooling Started\r\n          </DialogTitle>\r\n          <DialogContent>\r\n            Door can be opened\r\n          </DialogContent>\r\n          <DialogActions>\r\n            <Button onClick={this.coolingDialogClose} color=\"primary\" variant='contained'>\r\n              Ok\r\n            </Button>\r\n          </DialogActions>\r\n        </Dialog>\r\n\r\n        <Container maxWidth={false}>\r\n          \r\n          <Grid container>\r\n            <Hidden xsDown>\r\n              <Grid item sm={2}>\r\n                <Box sx={{ paddingTop: 20 }}>\r\n                  <Paper>\r\n                    <Stepper activeStep={this.state.activeStep} orientation='vertical' square={false}>\r\n                      {this.steps.map((step, index) => (\r\n                        <Step key={step.label} >\r\n                          <StepLabel>\r\n                            <Typography variant='subtitle2' align='left'>\r\n                              {step.label}\r\n                            </Typography>\r\n                          </StepLabel>\r\n                        </Step>\r\n                      ))}\r\n                    </Stepper>\r\n                  </Paper>\r\n                </Box>\r\n              </Grid>\r\n            </Hidden>\r\n              \r\n            \r\n            <Grid item sm={10}>\r\n              <div style={{ paddingTop: \"20px\", width: '91%', margin: '0 0 0 auto', minWidth: 350 }}>\r\n                <Paper>\r\n                  <Hidden smDown>\r\n                    <Typography align='center' variant='h5'>\r\n                      <u>{this.state.currentProfile.name}</u>\r\n                    </Typography>\r\n                  </Hidden>\r\n                  <div style={{padding: '10px 10px 6px 10px '}}>\r\n                    <Profile draggable={false} profile={this.state.currentProfile} historicTemps={this.state.historicTemperature}/>\r\n                  </div>\r\n                </Paper>\r\n              </div>\r\n            </Grid>\r\n          </Grid>\r\n\r\n          <Grid container spacing={3} alignItems=\"center\" justifyContent='space-between' style={{ paddingTop: '15px' }}>\r\n            <Grid item xs={4}>\r\n              <Hidden mdUp>\r\n                <Paper style={{ padding: '6px 7px 6px 10px' }}>\r\n                  <Typography>\r\n                    Profile: {this.state.currentProfile.name}\r\n                  </Typography>\r\n                </Paper>\r\n              </Hidden>\r\n            </Grid>\r\n            \r\n            \r\n            <Grid item>\r\n              \r\n              <Grid container spacing={3}>\r\n                <Grid item>\r\n                  <Button component={Link} to={{ pathname: '/profileList' }} startIcon={<ListAltIcon />} variant=\"contained\" color=\"primary\" >Profile List</Button>\r\n                </Grid>\r\n                <Grid item>\r\n                  <Button component={Link} to={{ pathname: '/editProfile', state: { profile: this.state.currentProfile, tempHistory: this.state.historicTemperature } }} startIcon={<EditIcon />} variant=\"contained\" color=\"primary\" >Edit</Button>\r\n                </Grid>\r\n                <Grid item>\r\n                  {stopStartButton}\r\n                </Grid>\r\n              </Grid>\r\n            </Grid>\r\n          </Grid>\r\n        </Container>\r\n      </>\r\n    );\r\n  }\r\n}\r\n\r\nexport default Home;","import { React, Component } from 'react';\r\nimport Profile from '../components/Profile';\r\nimport { Button, Grid, Dialog, DialogTitle, DialogContent, DialogActions, IconButton, Container } from '@material-ui/core';\r\nimport { DataGrid } from '@material-ui/data-grid'\r\nimport { Link, withRouter } from \"react-router-dom\";\r\nimport axios from 'axios';\r\nimport CancelIcon from '@material-ui/icons/Cancel';\r\nimport DoneIcon from '@material-ui/icons/Done';\r\nimport PublishIcon from '@material-ui/icons/Publish';\r\nimport SaveAltIcon from '@material-ui/icons/SaveAlt';\r\nimport { withStyles } from '@material-ui/core/styles';\r\nimport EditIcon from '@material-ui/icons/Edit';\r\nimport CloseIcon from '@material-ui/icons/Close';\r\nimport StatusBar from '../components/StatusBar';\r\nimport DeleteIcon from '@material-ui/icons/Delete';\r\nimport FileSaver from 'file-saver';\r\nimport NoteAddIcon from '@material-ui/icons/NoteAdd';\r\n\r\nclass ProfileList extends Component {\r\n  constructor() {\r\n    super();\r\n    var isLocal = false;\r\n    if (window.location.hostname === \"localhost\" || window.location.hostname === \"127.0.0.1\" || window.location.hostname === \"\") {\r\n      isLocal = true;\r\n    }\r\n    this.state = ({\r\n      profiles: [],\r\n      activeItem: \"\",\r\n      dialog: false,\r\n      forceLoadDialog: false,\r\n      allowUploadDownload: !isLocal,\r\n      deleteDialog: false,\r\n    });\r\n    this.loadClicked = this.loadClicked.bind(this);\r\n    this.forceLoadClicked = this.forceLoadClicked.bind(this);\r\n    this.handleItemClick = this.handleItemClick.bind(this);\r\n    this.handleDialogClose = this.handleDialogClose.bind(this);\r\n    this.downloadProfile = this.downloadProfile.bind(this);\r\n    this.fileChanged = this.fileChanged.bind(this);\r\n    this.handleForceDialogClose = this.handleForceDialogClose.bind(this);\r\n    this.handleDeleteDialogClose = this.handleDeleteDialogClose.bind(this);\r\n    this.deleteClicked = this.deleteClicked.bind(this);\r\n    this.deleteProfile = this.deleteProfile.bind(this);\r\n  }\r\n\r\n  SelectButton = withStyles({\r\n    root: {\r\n      backgroundColor: '#00ba16',\r\n      '&:hover': {\r\n        backgroundColor: '#009612'\r\n      }\r\n    }\r\n  })(Button);\r\n\r\n  DeleteButton = withStyles({\r\n    root: {\r\n      backgroundColor: '#bf0000',\r\n      '&:hover': {\r\n        backgroundColor: '#870000'\r\n      }\r\n    }\r\n  })(Button);\r\n\r\n  columns = [\r\n    {\r\n      field: 'name',\r\n      headerName: 'Profile Name',\r\n      width: 300,\r\n    },\r\n    {\r\n      field: 'last_run',\r\n      headerName: 'Last Loaded',\r\n      type: 'dateTime',\r\n      width: 200,\r\n      editable: false,\r\n      valueFormatter: (params) => {\r\n        if (params.value === 0) {\r\n          return 'never';\r\n        } else {\r\n          return new Date(params.value).toLocaleString();\r\n        }\r\n      }\r\n    },\r\n    {\r\n      field: 'date_created',\r\n      headerName: 'Date Created',\r\n      type: 'dateTime',\r\n      width: 200,\r\n      editable: false,\r\n      valueFormatter: (params) => {\r\n        if (params.value === 0) {\r\n          return 'n/a';\r\n        } else {\r\n          return new Date(params.value).toLocaleString();\r\n        }\r\n      }\r\n    }\r\n  ];\r\n\r\n\r\n  handleItemClick(e) {\r\n    this.setState({ activeItem: e.row })\r\n    this.setState({ dialog: true });\r\n  }\r\n\r\n  handleDialogClose() {\r\n    this.setState({ dialog: false });\r\n  }\r\n\r\n  handleForceDialogClose() {\r\n    this.setState({ forceLoadDialog: false });\r\n  }\r\n\r\n  handleDeleteDialogClose() {\r\n    this.setState({ deleteDialog: false });\r\n  }\r\n\r\n  componentDidMount() {\r\n    this.getData();\r\n  }\r\n\r\n  getData() {\r\n    fetch('/api/reflow_profiles/all')\r\n      .then(response => response.json())\r\n      .then(result => {\r\n        result.forEach(element => {\r\n          element['id'] = element.name;\r\n        });\r\n        this.setState({ profiles: result });\r\n      });\r\n  }\r\n\r\n  loadClicked() {\r\n    axios.post('/api/reflow_profiles/load', { profile_name: this.state.activeItem.name, force_load: false })\r\n      .then(res => {\r\n        //check if response is ok or if validation failed\r\n        if (res.data.status === 200) {\r\n          //go to home page\r\n          const { history } = this.props;\r\n          if (history) history.push('/');\r\n        }\r\n        else if (res.data.status === 409) {\r\n          console.log('got 409')\r\n          this.setState({ forceLoadDialog: true });\r\n        }\r\n      });\r\n  }\r\n\r\n  forceLoadClicked() {\r\n    axios.post('/api/reflow_profiles/load', { profile_name: this.state.activeItem.name, force_load: true })\r\n      .then(res => {\r\n        //check if response is ok or if validation failed\r\n        if (res.data.status === 200) {\r\n          //go to home page\r\n          const { history } = this.props;\r\n          if (history) history.push('/');\r\n        }\r\n      });\r\n  }\r\n\r\n  downloadProfile() {\r\n    var downloadableProfile = this.state.activeItem;\r\n    delete downloadableProfile['id'];\r\n    var blob = new Blob([JSON.stringify(downloadableProfile, null, 3)], { type: \"text/plain;charset=utf-8\" });\r\n    FileSaver.saveAs(blob, downloadableProfile.name + \".json\");\r\n  }\r\n\r\n  fileChanged(e) {\r\n    const fileReader = new FileReader();\r\n    fileReader.readAsText(e.target.files[0], \"UTF-8\");\r\n    fileReader.onload = (e) => {\r\n      var uploadedFile = JSON.parse(e.target.result);\r\n      axios.post('/api/reflow_profiles/save', uploadedFile)\r\n        .then(res => {\r\n          this.getData();\r\n        });\r\n    };\r\n  }\r\n\r\n  deleteProfile() {\r\n    axios.post('/api/reflow_profiles/delete', { profile_name: this.state.activeItem.name })\r\n      .then(res => {\r\n        this.getData();\r\n        this.setState({ deleteDialog: false, dialog: false });\r\n      });\r\n  }\r\n\r\n  deleteClicked() {\r\n    this.setState({ deleteDialog: true });\r\n  }\r\n\r\n  render() {\r\n    return (\r\n      <>\r\n        <StatusBar />\r\n        <Dialog onClose={this.handleDialogClose} open={this.state.dialog} fullWidth={true}>\r\n          <DialogTitle>\r\n            <Grid container justifyContent='space-between'>\r\n              <Grid item>\r\n                {this.state.activeItem.name}\r\n              </Grid>\r\n              <Grid item>\r\n                <IconButton aria-label=\"close\" onClick={this.handleDialogClose}>\r\n                  <CloseIcon />\r\n                </IconButton>\r\n              </Grid>\r\n            </Grid>\r\n          </DialogTitle>\r\n          <DialogContent>\r\n            <div style={{width: '91%'}}>\r\n              <Profile draggable={false} profile={this.state.activeItem} historicTemps={[]} />\r\n            </div>\r\n          </DialogContent>\r\n          <DialogActions>\r\n            <Grid container justifyContent='space-between'>\r\n              <Grid item>\r\n                <this.DeleteButton startIcon={<DeleteIcon />} variant='contained' color='primary' onClick={this.deleteClicked}>Delete</this.DeleteButton>\r\n              </Grid>\r\n              <Grid item>\r\n                <Grid container spacing={2}>\r\n                  <Grid item>\r\n                    {this.state.allowUploadDownload &&\r\n                      <Button startIcon={<SaveAltIcon />} variant=\"contained\" color=\"primary\" onClick={this.downloadProfile}>Download</Button>\r\n                    }\r\n                  </Grid>\r\n                  <Grid item>\r\n                    <Button component={Link} to={{ pathname: '/editProfile', state: { profile: this.state.activeItem } }} startIcon={<EditIcon />} variant=\"contained\" color=\"primary\">Edit</Button>\r\n                  </Grid>\r\n                  <Grid item>\r\n                    <this.SelectButton onClick={this.loadClicked} startIcon={<DoneIcon />} variant=\"contained\" color='primary'>Load</this.SelectButton>\r\n                  </Grid>\r\n                </Grid>\r\n              </Grid>\r\n            </Grid>\r\n          </DialogActions>\r\n        </Dialog>\r\n\r\n        <Dialog open={this.state.forceLoadDialog}>\r\n          <DialogTitle>\r\n            Oven Currently Running\r\n          </DialogTitle>\r\n          <DialogContent>\r\n            Stop oven and load profile?\r\n          </DialogContent>\r\n          <DialogActions>\r\n            <Button onClick={this.handleForceDialogClose} color=\"primary\">\r\n              Cancel\r\n            </Button>\r\n            <Button onClick={this.forceLoadClicked} color=\"primary\" autoFocus>\r\n              Force Load\r\n            </Button>\r\n          </DialogActions>\r\n        </Dialog>\r\n\r\n        <Dialog open={this.state.deleteDialog} onClose={this.handleDeleteDialogClose}>\r\n          <DialogTitle>\r\n            Delete Profile\r\n          </DialogTitle>\r\n          <DialogContent>\r\n            Are you sure you want to delete \"{this.state.activeItem.name}\"?\r\n          </DialogContent>\r\n          <DialogActions>\r\n            <Button onClick={this.handleDeleteDialogClose} color=\"primary\">\r\n              Cancel\r\n            </Button>\r\n            <Button onClick={this.deleteProfile} color=\"primary\" autoFocus>\r\n              Yes\r\n            </Button>\r\n          </DialogActions>\r\n        </Dialog>\r\n\r\n        <Container maxWidth={false}>\r\n          <Grid container direction={\"row\"} align={\"center\"} justifyContent={\"center\"} spacing={2}>\r\n            <Grid item xs={12} lg={12} style={{paddingTop: '20px'}}>\r\n              <DataGrid\r\n                rows={this.state.profiles}\r\n                rowHeight={45}\r\n                columns={this.columns}\r\n                pageSize={5}\r\n                checkboxSelection={false}\r\n                disableMultipleSelection={true}\r\n                onRowClick={this.handleItemClick}\r\n                autoHeight={true}\r\n              />\r\n            </Grid>\r\n          </Grid>\r\n        </Container>\r\n        \r\n        <Container maxWidth={false}>\r\n          <Grid container spacing={3} justifyContent=\"flex-end\">\r\n            <Grid item>\r\n              <Button component={Link} to=\"/\" startIcon={<CancelIcon />} variant=\"contained\" color=\"primary\">Cancel</Button>\r\n            </Grid>\r\n              {this.state.allowUploadDownload &&\r\n                <Grid item>\r\n              <Button startIcon={<PublishIcon />} variant=\"contained\" color=\"primary\" component=\"label\" >Upload<input type=\"file\" accept=\"application/JSON\" hidden onChange={this.fileChanged} /></Button>\r\n                </Grid>\r\n              }\r\n            <Grid item>\r\n              <Button component={Link} to={{\r\n                pathname: '/editProfile', state: {\r\n                  profile: {\r\n                    name: \"new_profile\",\r\n                    date_created: Date.now(),\r\n                    last_run: 0,\r\n                    datapoints: [\r\n                      {\r\n                        x: 0,\r\n                        y: 30\r\n                      },\r\n                      {\r\n                        x: 75,\r\n                        y: 30\r\n                      },\r\n                      {\r\n                        x: 150,\r\n                        y: 30\r\n                      },\r\n                      {\r\n                        x: 225,\r\n                        y: 30\r\n                      },\r\n                      {\r\n                        x: 300,\r\n                        y: 30\r\n                      },\r\n                      {\r\n                        x: 375,\r\n                        y: 30\r\n                      }\r\n                    ]\r\n              } } }} startIcon={<NoteAddIcon />} variant=\"contained\" color=\"primary\" >Create New</Button>\r\n            </Grid>\r\n          </Grid>\r\n        </Container>\r\n\r\n\r\n        \r\n      </>\r\n    );\r\n  }\r\n}\r\n\r\nexport default withRouter(ProfileList);","import React, { Component } from \"react\";\r\nimport Typography from '@material-ui/core/Typography';\r\nimport StatusBar from '../components/StatusBar';\r\n\r\nclass NotFound extends Component {\r\n\r\n\r\n    render() {\r\n        return (\r\n            <>\r\n                <StatusBar />\r\n                <Typography variant='h5' align='center'>404. Hope you find your way back!</Typography>\r\n            </>\r\n            \r\n        );\r\n    }\r\n}\r\n\r\nexport default NotFound;","import { React, Component } from 'react';\r\nimport Profile from '../components/Profile';\r\nimport { Button, Input, Grid, Container, InputAdornment, IconButton, Typography, Switch } from '@material-ui/core';\r\nimport Keyboard from 'react-simple-keyboard';\r\nimport { withRouter } from \"react-router-dom\";\r\nimport 'react-simple-keyboard/build/css/index.css';\r\nimport axios from 'axios';\r\nimport CancelIcon from '@material-ui/icons/Cancel';\r\nimport Dialog from '@material-ui/core/Dialog';\r\nimport DialogActions from '@material-ui/core/DialogActions';\r\nimport DialogContent from '@material-ui/core/DialogContent';\r\nimport DialogTitle from '@material-ui/core/DialogTitle';\r\nimport StatusBar from '../components/StatusBar';\r\nimport ClearIcon from '@material-ui/icons/Clear';\r\nimport SaveIcon from '@material-ui/icons/Save';\r\nimport AddIcon from '@material-ui/icons/Add';\r\nimport RemoveIcon from '@material-ui/icons/Remove';\r\nimport ArrowUpwardIcon from '@material-ui/icons/ArrowUpward';\r\nimport ArrowDownwardIcon from '@material-ui/icons/ArrowDownward';\r\nimport ArrowBackIcon from '@material-ui/icons/ArrowBack';\r\nimport ArrowForwardIcon from '@material-ui/icons/ArrowForward';\r\nimport Paper from '@material-ui/core/Paper';\r\nimport Hidden from '@material-ui/core/Hidden';\r\nimport './keyboard.css';\r\nimport { withTheme } from '@material-ui/styles';\r\n\r\n\r\nclass EditProfile extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = ({\r\n      loadDialog: false,\r\n      forceLoadDialog: false,\r\n      enterNameDialog: false,\r\n      newName: this.props.location.state.profile.name,\r\n      newDatapoints: this.props.location.state.profile.datapoints,\r\n      newProfile: this.props.location.state.profile,\r\n      currentX: this.props.location.state.profile.datapoints[0].x,\r\n      currentY: this.props.location.state.profile.datapoints[0].y,\r\n      maxTime: 400,\r\n      maxNodes: 6,\r\n      currentPoint: 0,\r\n      showHistory: false,\r\n      keyboardLayout: 'default',\r\n      tempHistory: this.props.location.state.tempHistory || [],\r\n      isLocal: window.location.hostname === \"localhost\" || window.location.hostname === \"127.0.0.1\"\r\n    });\r\n    this.saveProfile = this.saveProfile.bind(this);\r\n    this.handleInputChange = this.handleInputChange.bind(this);\r\n    this.goBack = this.goBack.bind(this);\r\n    this.loadClicked = this.loadClicked.bind(this);\r\n    this.forceLoadClicked = this.forceLoadClicked.bind(this);\r\n    this.cancelClicked = this.cancelClicked.bind(this);\r\n    this.saveClicked = this.saveClicked.bind(this);\r\n    this.handleKeyboardInput = this.handleKeyboardInput.bind(this);\r\n    this.cancelEnterName = this.cancelEnterName.bind(this);\r\n    this.clearName = this.clearName.bind(this);\r\n    this.dragStart = this.dragStart.bind(this);\r\n    this.drag = this.drag.bind(this);\r\n    this.dragEnd = this.dragEnd.bind(this);\r\n    this.addX = this.addX.bind(this);\r\n    this.subtractX = this.subtractX.bind(this);\r\n    this.addY = this.addY.bind(this);\r\n    this.subtractY = this.subtractY.bind(this);\r\n    this.addTime = this.addTime.bind(this);\r\n    this.subtractTime = this.subtractTime.bind(this);\r\n    this.addNode = this.addNode.bind(this);\r\n    this.subtractNode = this.subtractNode.bind(this);\r\n    this.showHistoryClicked = this.showHistoryClicked.bind(this);\r\n  }\r\n\r\n  addX() {\r\n    if (this.state.currentX < this.state.maxTime) {\r\n      var tempProfile = this.state.newProfile;\r\n      tempProfile.datapoints[this.state.currentPoint].x += 1;\r\n      this.setState({ newProfile: tempProfile, currentX: this.state.currentX + 1 });\r\n    }\r\n  }\r\n\r\n  subtractX() {\r\n    if (this.state.currentX > 0) {\r\n      var tempProfile = this.state.newProfile;\r\n      tempProfile.datapoints[this.state.currentPoint].x -= 1;\r\n      this.setState({ newProfile: tempProfile, currentX: this.state.currentX - 1 });\r\n    }\r\n  }\r\n\r\n  addY() {\r\n    if (this.state.currentY < 300) {\r\n      var tempProfile = this.state.newProfile;\r\n      tempProfile.datapoints[this.state.currentPoint].y += 1;\r\n      this.setState({ newProfile: tempProfile, currentY: this.state.currentY + 1 });\r\n    }\r\n  }\r\n\r\n  subtractY() {\r\n    if (this.state.currentY > 0) {\r\n      var tempProfile = this.state.newProfile;\r\n      tempProfile.datapoints[this.state.currentPoint].y -= 1;\r\n      this.setState({ newProfile: tempProfile, currentY: this.state.currentY - 1 });\r\n    }\r\n  }\r\n\r\n  addTime() {\r\n    if (this.state.maxTime < 2000) {\r\n      this.setState({maxTime: this.state.maxTime + 100})\r\n    }\r\n  }\r\n\r\n  subtractTime() {\r\n    if (this.state.maxTime > 0 && this.state.maxTime - 100 >= this.state.newProfile.datapoints[this.state.newProfile.datapoints.length - 1].x) {\r\n      this.setState({ maxTime: this.state.maxTime - 100 })\r\n    }\r\n  }\r\n\r\n  addNode() {\r\n    if (this.state.newProfile.datapoints.length < 10) {\r\n      var tempProfile = this.state.newProfile;\r\n      var newPoint = {};\r\n      if (this.state.currentPoint === this.state.newProfile.datapoints.length - 1) {\r\n        if (this.state.newProfile.datapoints[this.state.currentPoint].x <= this.state.maxTime - 50) {\r\n          newPoint.x = tempProfile.datapoints[this.state.currentPoint].x + 25;\r\n          newPoint.y = tempProfile.datapoints[this.state.currentPoint].y;\r\n          tempProfile.datapoints.splice(this.state.currentPoint + 1, 0, newPoint);\r\n          this.setState({ currentPoint: this.state.currentPoint + 1, currentX: newPoint.x, currentY: newPoint.y });\r\n        } else {\r\n          newPoint.x = Math.floor((tempProfile.datapoints[this.state.currentPoint].x + tempProfile.datapoints[this.state.currentPoint - 1].x) / 2);\r\n          newPoint.y = Math.floor((tempProfile.datapoints[this.state.currentPoint].y + tempProfile.datapoints[this.state.currentPoint - 1].y) / 2)\r\n          tempProfile.datapoints.splice(this.state.currentPoint, 0, newPoint);\r\n          this.setState({ currentX: newPoint.x, currentY: newPoint.y });\r\n        }\r\n      } else {\r\n        newPoint.x = Math.floor((tempProfile.datapoints[this.state.currentPoint].x + tempProfile.datapoints[this.state.currentPoint + 1].x) / 2);\r\n        newPoint.y = Math.floor((tempProfile.datapoints[this.state.currentPoint].y + tempProfile.datapoints[this.state.currentPoint + 1].y) / 2)\r\n        tempProfile.datapoints.splice(this.state.currentPoint + 1, 0, newPoint);\r\n        this.setState({ currentPoint: this.state.currentPoint + 1, currentX: newPoint.x, currentY: newPoint.y });\r\n      }\r\n      this.setState({ newProfile: tempProfile, maxNodes: this.state.maxNodes + 1});\r\n    }\r\n  }\r\n\r\n  subtractNode() {\r\n    if (this.state.newProfile.datapoints.length > 2) {\r\n      var tempProfile = this.state.newProfile;\r\n      if (this.state.currentPoint === 0) {\r\n        tempProfile.datapoints.splice(this.state.currentPoint, 1);\r\n        this.setState({\r\n          currentX: this.state.newProfile.datapoints[this.state.currentPoint].x,\r\n          currentY: this.state.newProfile.datapoints[this.state.currentPoint].y\r\n        });\r\n      } else {\r\n        tempProfile.datapoints.splice(this.state.currentPoint, 1);\r\n        this.setState({\r\n          currentPoint: this.state.currentPoint - 1,\r\n          currentX: this.state.newProfile.datapoints[this.state.currentPoint - 1].x,\r\n          currentY: this.state.newProfile.datapoints[this.state.currentPoint - 1].y\r\n        });\r\n      }\r\n      this.setState({ newProfile: tempProfile, maxNodes: this.state.maxNodes - 1 });\r\n    }\r\n  }\r\n\r\n  dragStart(e, datasetIndex, index, value) {\r\n    this.setState({ currentPoint: index });\r\n  }\r\n\r\n  drag(e, datasetIndex, index, value) {\r\n    var tempProfile = this.state.newProfile;\r\n    tempProfile.datapoints[index] = value;\r\n    this.setState({ currentX: value.x, currentY: value.y, newProfile: tempProfile });\r\n  }\r\n\r\n  dragEnd(e, datasetIndex, index, value) {\r\n    var tempProfile = this.state.newProfile;\r\n    tempProfile.datapoints[index] = value;\r\n\r\n    //sort datapoints so that lines don't overlap\r\n    for (let i = 0; i < tempProfile.datapoints.length; i++) {\r\n      for (let j = i; j < tempProfile.datapoints.length; j++) {\r\n        if (tempProfile.datapoints[j].x < tempProfile.datapoints[i].x) {\r\n          //keep track of index/current point\r\n          if (i === index) {\r\n            index = j;\r\n          } else if (j === index) {\r\n            index = i;\r\n          }\r\n          var tempPoint = tempProfile.datapoints[i];\r\n          tempProfile.datapoints[i] = tempProfile.datapoints[j];\r\n          tempProfile.datapoints[j] = tempPoint;\r\n        }\r\n      }\r\n    }\r\n    this.setState({ currentX: value.x, currentY: value.y, currentPoint: index, newProfile: tempProfile });\r\n  }\r\n\r\n  handleInputChange(e) {\r\n    var tempProfile = this.state.newProfile;\r\n    tempProfile.name = e.target.value;\r\n    this.setState({ newProfile: tempProfile });\r\n  }\r\n  \r\n  componentDidMount() {\r\n    this.setState({\r\n      maxTime: Math.ceil(this.state.newProfile.datapoints[this.state.newProfile.datapoints.length - 1].x / 100) * 100,\r\n      maxNodes: this.state.newProfile.datapoints.length\r\n    });\r\n  }\r\n\r\n  goBack() {\r\n    this.props.history.goBack();\r\n  }\r\n\r\n  loadClicked() {\r\n    axios.post('/api/reflow_profiles/load', { profile_name: this.state.newProfile.name, force_load: false })\r\n      .then(res => {\r\n        //check if response is ok or if validation failed\r\n        if (res.data.status === 200) {\r\n          //go to home page\r\n          const { history } = this.props;\r\n          if (history) history.push('/');\r\n        }\r\n        else if (res.data.status === 409) {\r\n          this.setState({ loadDialog: false });\r\n          this.setState({ forceLoadDialog: true });\r\n        }\r\n      });\r\n  }\r\n\r\n  forceLoadClicked() {\r\n    axios.post('/api/reflow_profiles/load', { profile_name: this.state.newProfile.name, force_load: true })\r\n      .then(res => {\r\n        //check if response is ok or if validation failed\r\n        if (res.data.status === 200) {\r\n          //go to home page\r\n          const { history } = this.props;\r\n          if (history) history.push('/');\r\n        }\r\n      });\r\n  }\r\n\r\n  cancelClicked() {\r\n    this.setState({ loadDialog: false, forceLoadDialog: false});\r\n  }\r\n\r\n  saveProfile() {\r\n    this.setState({enterNameDialog: false});\r\n    var tempProfile = this.state.newProfile;\r\n    tempProfile.date_created = Date.now();\r\n    tempProfile.last_run = 0;\r\n    this.setState({ newProfile: tempProfile });\r\n    axios.post('/api/reflow_profiles/save', this.state.newProfile)\r\n      .then(res => {\r\n        var tempProfile = this.state.newProfile;\r\n        tempProfile.name = res.data.new_name;\r\n        this.setState({ newProfile: tempProfile });\r\n        this.setState({ loadDialog: true });\r\n      });\r\n\r\n  }\r\n\r\n  saveClicked() {\r\n    this.setState({ enterNameDialog: true });\r\n  }\r\n\r\n  handleKeyboardInput(button) {\r\n    if (button === '{lock}') {\r\n      if (this.state.keyboardLayout === 'caps' || this.state.keyboardLayout === 'shift') {\r\n        this.setState({ keyboardLayout: 'default' });\r\n      } else {\r\n        this.setState({ keyboardLayout: 'caps' });\r\n      }\r\n    } else if (button === '{shift}') {\r\n      if (this.state.keyboardLayout === 'caps' || this.state.keyboardLayout === 'shift') {\r\n        this.setState({ keyboardLayout: 'default' });\r\n      } else {\r\n        this.setState({ keyboardLayout: 'shift' });\r\n      }\r\n    } else {\r\n      let newName = this.state.newProfile.name;\r\n      if (button === '{bksp}') {\r\n        newName = newName.substring(0, newName.length - 1);\r\n      } else if (button === '{space}') {\r\n        newName += ' ';\r\n      } else if (button === '{enter}') {\r\n        this.saveProfile();\r\n        return;\r\n      } else {\r\n        if (button !== '{tab}') {\r\n          newName += button;\r\n        }\r\n      }\r\n      var tempProfile = this.state.newProfile;\r\n      tempProfile.name = newName;\r\n      this.setState({ newProfile: tempProfile });\r\n      if (this.state.keyboardLayout === 'shift') {\r\n        this.setState({ keyboardLayout: 'default' });\r\n      }\r\n    }\r\n  }\r\n\r\n  cancelEnterName() {\r\n    this.setState({ enterNameDialog: false });\r\n  }\r\n\r\n  clearName() {\r\n    var tempProfile = this.state.newProfile;\r\n    tempProfile.name = \"\";\r\n    this.setState({ newProfile: tempProfile });\r\n  }\r\n\r\n  showHistoryClicked(e) {\r\n    this.setState({ showHistory: e.target.checked });\r\n  }\r\n\r\n  render() {\r\n    var keyboard = <></>;\r\n    if (this.state.isLocal) {\r\n      keyboard = <Keyboard\r\n        theme={this.props.theme.palette.type === 'dark' ? 'hg-theme-dark' : 'hg-theme-default'}\r\n        layoutName={this.state.keyboardLayout}\r\n        layout={{\r\n          default: [\r\n            \"` 1 2 3 4 5 6 7 8 9 0 - = {bksp}\",\r\n            \"{tab} q w e r t y u i o p [ ] \\\\\",\r\n            \"{lock} a s d f g h j k l ; ' {enter}\",\r\n            \"{shift} z x c v b n m , . / {shift}\",\r\n            \"{space}\"\r\n          ],\r\n          shift: [\r\n            \"~ ! @ # $ % ^ & * ( ) _ + {bksp}\",\r\n            \"{tab} Q W E R T Y U I O P { } |\",\r\n            '{lock} A S D F G H J K L : \" {enter}',\r\n            \"{shift} Z X C V B N M < > ? {shift}\",\r\n            \"{space}\"\r\n          ],\r\n          caps: [\r\n            \"~ ! @ # $ % ^ & * ( ) _ + {bksp}\",\r\n            \"{tab} Q W E R T Y U I O P { } |\",\r\n            '{lock} A S D F G H J K L : \" {enter}',\r\n            \"{shift} Z X C V B N M < > ? {shift}\",\r\n            \"{space}\"\r\n          ]\r\n        }}\r\n        onKeyPress={this.handleKeyboardInput}\r\n      />;\r\n    }\r\n\r\n    var historySwitch = <></>;\r\n    if (this.state.tempHistory.length > 1) {\r\n      historySwitch = <Grid item>\r\n        <Paper>\r\n          <Grid container justifyContent=\"space-evenly\">\r\n            <Grid item>\r\n              <Typography style={{ paddingLeft: 10 }}>History</Typography>\r\n            </Grid>\r\n            <Grid item>\r\n              <Switch\r\n                checked={this.state.showHistory}\r\n                onChange={this.showHistoryClicked}\r\n                size='small'\r\n                color='secondary'\r\n              />\r\n            </Grid>\r\n          </Grid>\r\n        </Paper>\r\n      </Grid>;\r\n    }\r\n\r\n    var historicDatapoints = []\r\n    if (this.state.showHistory) {\r\n      historicDatapoints = this.state.tempHistory;\r\n    }\r\n\r\n    return (\r\n      <>\r\n        <StatusBar />\r\n        <Dialog open={this.state.loadDialog} onClose={this.cancelClicked}>\r\n          <DialogTitle>\r\n            Profile saved\r\n          </DialogTitle>\r\n          <DialogContent>\r\n            Would you like to load the profile now?\r\n          </DialogContent>\r\n          <DialogActions>\r\n            <Button onClick={this.cancelClicked} color=\"primary\" variant='contained'>\r\n              Don't Load\r\n            </Button>\r\n            <Button onClick={this.loadClicked} color=\"primary\" variant='contained' autoFocus>\r\n              Load\r\n            </Button>\r\n          </DialogActions>\r\n        </Dialog>\r\n\r\n        <Dialog open={this.state.forceLoadDialog} onClose={this.cancelClicked}>\r\n          <DialogTitle>\r\n            Oven Currently Running\r\n          </DialogTitle>\r\n          <DialogContent>\r\n            Stop oven and load profile?\r\n          </DialogContent>\r\n          <DialogActions>\r\n            <Button onClick={this.cancelClicked} color=\"primary\" variant='contained'>\r\n              Cancel\r\n            </Button>\r\n            <Button onClick={this.forceLoadClicked} color=\"primary\" variant='contained' autoFocus>\r\n              Force Load\r\n            </Button>\r\n          </DialogActions>\r\n        </Dialog>\r\n\r\n        <Dialog open={this.state.enterNameDialog} maxWidth={'md'} fullWidth onClose={this.cancelEnterName}>\r\n          <DialogTitle align='center'>\r\n            Name your profile:\r\n          </DialogTitle>\r\n          <DialogContent>\r\n            <Grid container justifyContent='center'>\r\n              <Input onChange={this.handleInputChange} label='Profile Name' value={this.state.newProfile.name}\r\n                endAdornment={\r\n                  <InputAdornment position=\"end\">\r\n                    <IconButton onClick={this.clearName}><ClearIcon /></IconButton>\r\n                  </InputAdornment>\r\n                }\r\n              />\r\n            </Grid>\r\n          </DialogContent>\r\n          <DialogActions>\r\n            <Button onClick={this.cancelEnterName} color=\"primary\" variant='contained'>\r\n              Cancel\r\n            </Button>\r\n            <Button onClick={this.saveProfile} color=\"primary\" variant='contained' autoFocus>\r\n              OK\r\n            </Button>\r\n          </DialogActions>\r\n          {keyboard}\r\n        </Dialog>\r\n\r\n        <Container maxWidth={false}>\r\n          <Grid container >\r\n            <Grid item sm={2} lg={2}>\r\n\r\n              <Hidden xsDown>\r\n                <Grid container spacing={1} direction=\"column\" style={{ paddingTop: '20px' }} >\r\n                  <Grid item align='center'>\r\n                    <Typography variant='h5'>\r\n                      ({this.state.currentX}, {this.state.currentY})\r\n                    </Typography>\r\n                  </Grid>\r\n\r\n                  <Grid item>\r\n                    <Paper>\r\n                      <Grid item align='center'>\r\n                      </Grid>\r\n                      <Grid item align='center'>\r\n                        <IconButton color='primary' size='small' onClick={this.addY}><ArrowUpwardIcon /></IconButton>\r\n                      </Grid>\r\n                      <Grid item>\r\n                        <Grid container justifyContent='space-evenly' wrap='nowrap'>\r\n                          <Grid item>\r\n                            <IconButton color='primary' size='small' onClick={this.subtractX}><ArrowBackIcon /></IconButton>\r\n                          </Grid>\r\n                          <Grid item align='center' style={{ minWidth: 10 }}>\r\n\r\n                          </Grid>\r\n                          <Grid item>\r\n                            <IconButton color='primary' size='small' onClick={this.addX}><ArrowForwardIcon /></IconButton>\r\n                          </Grid>\r\n                        </Grid>\r\n                      </Grid>\r\n\r\n                      <Grid item align='center'>\r\n                        <IconButton color='primary' size='small' onClick={this.subtractY}><ArrowDownwardIcon /></IconButton>\r\n                      </Grid>\r\n                    </Paper>\r\n                  </Grid>\r\n\r\n                  <Grid item>\r\n                    <Paper>\r\n                      <Grid item align='center'>\r\n                        <Typography variant='subtitle1'>Nodes</Typography>\r\n                      </Grid>\r\n                      <Grid container spacing={1} justifyContent='space-evenly'>\r\n                        <Grid item>\r\n                          <IconButton color='primary' size='small' onClick={this.subtractNode}><RemoveIcon /></IconButton>\r\n                        </Grid>\r\n                        <Grid item align='center'>\r\n                          <Typography variant='h6' >{this.state.maxNodes}</Typography>\r\n                        </Grid>\r\n                        <Grid item>\r\n                          <IconButton color='primary' size='small' onClick={this.addNode}><AddIcon /></IconButton>\r\n                        </Grid>\r\n                      </Grid>\r\n                    </Paper>\r\n                  </Grid>\r\n\r\n                  <Grid item>\r\n                    <Paper>\r\n                      <Grid item align='center'>\r\n                        <Typography variant='subtitle1' >Max Time</Typography>\r\n                      </Grid>\r\n                      <Grid container spacing={1} justifyContent='space-evenly'>\r\n                        <Grid item>\r\n                          <IconButton color='primary' size='small' onClick={this.subtractTime}><RemoveIcon /></IconButton>\r\n                        </Grid>\r\n                        <Grid item align='center'>\r\n                          <Typography variant='h6' >{this.state.maxTime}</Typography>\r\n                        </Grid>\r\n                        <Grid item>\r\n                          <IconButton color='primary' size='small' onClick={this.addTime}><AddIcon /></IconButton>\r\n                        </Grid>\r\n                      </Grid>\r\n                    </Paper>\r\n                  </Grid>\r\n\r\n                  {historySwitch}\r\n\r\n                </Grid>\r\n              </Hidden>\r\n              \r\n            </Grid>\r\n\r\n            <Grid item sm={10}>\r\n              <Hidden smDown>\r\n                <Typography align='center' variant='h5'>\r\n                  <u>{this.state.newProfile.name}</u>\r\n                </Typography>\r\n              </Hidden>\r\n              <div style={{ paddingTop: \"20px\", width: '91%', marginLeft: 'auto', minWidth: 350 }}>\r\n                <Profile\r\n                  draggable={true}\r\n                  profile={this.state.newProfile}\r\n                  dragStart={this.dragStart}\r\n                  drag={this.drag}\r\n                  dragEnd={this.dragEnd}\r\n                  maxTime={this.state.maxTime}\r\n                  activePoint={this.state.currentPoint}\r\n                  historicTemps={historicDatapoints}\r\n                />\r\n              </div>\r\n            </Grid>\r\n          </Grid>\r\n        </Container>\r\n        \r\n        <Container maxWidth={false}>\r\n          <Grid container spacing={3} alignItems=\"center\" justifyContent=\"space-between\" style={{ paddingTop: '15px' }}>\r\n            <Grid item xs={4}>\r\n              <Hidden mdUp>\r\n                <Paper style={{ padding: '6px 7px 6px 10px' }}>\r\n                  <Typography>\r\n                    Profile: {this.state.newProfile.name}\r\n                  </Typography>\r\n                </Paper>\r\n              </Hidden>\r\n            </Grid>\r\n            <Grid item>\r\n              <Grid container spacing={3}>\r\n                <Grid item>\r\n                  <Button onClick={this.goBack} startIcon={<CancelIcon />} variant=\"contained\" color=\"primary\">Cancel</Button>\r\n                </Grid>\r\n                <Grid item>\r\n                  <Button onClick={this.saveClicked} startIcon={<SaveIcon />} variant=\"contained\" color=\"primary\">Save</Button>\r\n                </Grid>\r\n              </Grid>\r\n            </Grid>\r\n          </Grid>\r\n        </Container>\r\n        \r\n        {/*<Keyboard theme={\"hg-theme-default\"} />*/}\r\n      </>\r\n    );\r\n  }\r\n}\r\n\r\nexport default withRouter(withTheme(EditProfile));","import React, { Component } from \"react\";\r\nimport Accordion from '@material-ui/core/Accordion';\r\nimport AccordionDetails from '@material-ui/core/AccordionDetails';\r\nimport AccordionSummary from '@material-ui/core/AccordionSummary';\r\nimport Typography from '@material-ui/core/Typography';\r\nimport ExpandMoreIcon from '@material-ui/icons/ExpandMore';\r\nimport Grid from '@material-ui/core/Grid';\r\nimport TextField from '@material-ui/core/TextField';\r\nimport Checkbox from '@material-ui/core/Checkbox';\r\nimport Button from '@material-ui/core/Button';\r\nimport axios from 'axios';\r\nimport Dialog from '@material-ui/core/Dialog';\r\nimport DialogActions from '@material-ui/core/DialogActions';\r\nimport DialogContent from '@material-ui/core/DialogContent';\r\nimport DialogTitle from '@material-ui/core/DialogTitle';\r\nimport './keyboard.css';\r\nimport Keyboard from \"react-simple-keyboard\";\r\nimport { withTheme } from '@material-ui/styles';\r\n\r\nclass NetworkSettings extends Component {\r\n    constructor(props) {\r\n        super(props);\r\n        this.state = {\r\n            port: 3001,\r\n            remoteConnections: true,\r\n            messageToSend: \"\",\r\n            inputChanged: false,\r\n            focused: false,\r\n            currentFocused: null,\r\n            focusInputChange: null,\r\n            isLocal: window.location.hostname === \"localhost\" || window.location.hostname === \"127.0.0.1\"\r\n        };\r\n        this.save = this.save.bind(this);\r\n        this.handleSwitch = this.handleSwitch.bind(this);\r\n        this.handlePortChange = this.handlePortChange.bind(this);\r\n        this.handleMessageChange = this.handleMessageChange.bind(this);\r\n        this.sendMessage = this.sendMessage.bind(this);\r\n        this.handleOnFocus = this.handleOnFocus.bind(this);\r\n        this.handleKeyboardInput = this.handleKeyboardInput.bind(this);\r\n        this.handleInputClose = this.handleInputClose.bind(this);\r\n        this.handleDialogInput = this.handleDialogInput.bind(this);\r\n    }\r\n\r\n    componentDidMount() {\r\n        fetch('/api/settings/network')\r\n            .then(response => response.json())\r\n            .then(result => {\r\n                this.setState({ port: result.port, remoteConnections: result.remote_connections });\r\n            });\r\n    }\r\n\r\n    save() {\r\n        var newSettings = {};\r\n        newSettings.port = this.state.port;\r\n        newSettings.remote_connections = this.state.remoteConnections;\r\n        axios.post('/api/settings/network', newSettings)\r\n            .then(res => {\r\n                if (res.data.status === 200) {\r\n                    this.setState({ inputChanged: false });\r\n                }\r\n            });\r\n    }\r\n\r\n    handleSwitch(e) {\r\n        this.setState({ remoteConnections: e.target.checked, inputChanged: true });\r\n    }\r\n\r\n    handlePortChange(e) {\r\n        this.setState({ port: e.target.value, inputChanged: true });\r\n    }\r\n\r\n    handleMessageChange(e) {\r\n        this.setState({ messageToSend: e.target.value });\r\n    }\r\n\r\n    sendMessage() {\r\n        axios.post('/api/send_message', { message: this.state.messageToSend })\r\n            .then(res => {});\r\n    }\r\n\r\n    handleOnFocus(e, changeFunction, name) {\r\n        if (this.state.isLocal) {\r\n            this.setState({ focusInputChange: changeFunction, currentFocused: name, focused: true });\r\n        }\r\n    }\r\n\r\n    handleInputClose() {\r\n        //get rid of trailing '.' if needed\r\n        var tempString = this.state[this.state.currentFocused].toString();\r\n        if (tempString === '') {\r\n            tempString = '3001'\r\n        } else if (tempString.charAt(tempString.length - 1) === '.') {\r\n\r\n            tempString = tempString.substring(0, tempString.length - 1);\r\n        }\r\n\r\n        //this is super bad code but idk how else to do this\r\n        //i am making a 'fake' event and setting the value so that the method can access it\r\n        var e = {};\r\n        e.target = {};\r\n        e.target.value = tempString;\r\n\r\n        this.state.focusInputChange(e);\r\n        this.setState({ focused: false, inputValue: '' });\r\n    }\r\n\r\n    handleKeyboardInput(button) {\r\n        var tempInput = this.state[this.state.currentFocused].toString();\r\n        if (button === '{bksp}') {\r\n            tempInput = tempInput.substring(0, tempInput.length - 1);\r\n        } else {\r\n            tempInput += button;\r\n        }\r\n\r\n        //again, really bad code. Maybe you can fix it somehow\r\n        var e = {};\r\n        e.target = {};\r\n        e.target.value = tempInput;\r\n        this.state.focusInputChange(e);\r\n    }\r\n\r\n    handleDialogInput(e) {\r\n        this.state.focusInputChange(e);\r\n    }\r\n\r\n    render() {\r\n        var inputDialog = <></>;\r\n        if (this.state.focused) {\r\n            inputDialog = <Dialog open={this.state.focused} onClose={this.handleInputClose} fullWidth>\r\n                <DialogTitle>\r\n                    <Typography>\r\n                        Enter value\r\n                    </Typography>\r\n                </DialogTitle>\r\n                <DialogContent>\r\n                    <Grid container spacing={1} justifyContent='space-between'>\r\n                        <Grid item>\r\n                            <TextField\r\n                                variant=\"outlined\"\r\n                                value={this.state[this.state.currentFocused]}\r\n                                onChange={this.handleDialogInput}\r\n                            />\r\n                        </Grid>\r\n                        <Grid item xs={6}>\r\n                            <Keyboard\r\n                                onKeyPress={this.handleKeyboardInput}\r\n                                layout={{\r\n                                    default: [\r\n                                        \"7 8 9\",\r\n                                        \"4 5 6\",\r\n                                        \"1 2 3\",\r\n                                        \"0 {bksp}\"\r\n                                    ]\r\n                                }}\r\n                                display={{\r\n                                    '{bksp}': \"<\"\r\n                                }}\r\n                                theme={this.props.theme.palette.type === 'dark' ? 'hg-theme-dark' : 'hg-theme-default'}\r\n                            />\r\n                        </Grid>\r\n                    </Grid>\r\n                </DialogContent>\r\n                <DialogActions>\r\n                    <Button color='primary' variant='contained' onClick={this.handleInputClose}>OK</Button>\r\n                </DialogActions>\r\n            </Dialog>;\r\n        }\r\n        return (\r\n            <>\r\n                {inputDialog}\r\n                <Accordion >\r\n                    <AccordionSummary\r\n                        expandIcon={<ExpandMoreIcon />}\r\n                        aria-controls=\"panel1bh-content\"\r\n                        id=\"panel1bh-header\"\r\n                    >\r\n                        <Typography variant='h6'>Network</Typography>\r\n                    </AccordionSummary>\r\n                    <AccordionDetails>\r\n                        <Grid container direction='column' alignItems=\"flex-start\" spacing={3}>\r\n                            <Grid item>\r\n                                <Typography align='left'>\r\n                                    Server Port\r\n                                </Typography>\r\n                                <TextField\r\n                                    variant=\"outlined\"\r\n                                    type='number'\r\n                                    onChange={this.handlePortChange}\r\n                                    onClick={(e) => this.handleOnFocus(e, this.handlePortChange, 'port')}\r\n                                    value={this.state.port} />\r\n                            </Grid>\r\n                            <Grid item>\r\n                                <Typography align='left'>\r\n                                    Allow Remote Connections\r\n                                </Typography>\r\n                                <Checkbox checked={this.state.remoteConnections} onChange={this.handleSwitch} color='primary' />\r\n                            </Grid>\r\n\r\n                            {/*\r\n                            <Grid item>\r\n                                <Typography align='left'>\r\n                                    Send message to all connections\r\n                                </Typography>\r\n                                <TextField variant=\"outlined\" onChange={this.handleMessageChange} value={this.state.messageToSend} />\r\n                                <Button variant='contained' color='primary' onClick={this.sendMessage}>\r\n                                    Send\r\n                                </Button>\r\n                            </Grid>\r\n                            */}\r\n                            \r\n                            <Grid container justifyContent='flex-end' spacing={3}>\r\n                                <Grid item>\r\n                                    <Typography variant='caption'>\r\n                                        Changes will be applied after a manual restart of the server.\r\n                                    </Typography>\r\n                                </Grid>\r\n                                <Grid item>\r\n                                    <Button variant='contained' color='primary' disabled={!this.state.inputChanged} onClick={this.save}>\r\n                                        Save\r\n                                    </Button>\r\n                                </Grid>\r\n                            </Grid>\r\n                        </Grid>\r\n                    </AccordionDetails>\r\n                </Accordion>\r\n            </>\r\n        );\r\n    }\r\n}\r\n\r\nexport default withTheme(NetworkSettings);","import React, { Component } from \"react\";\r\nimport Accordion from '@material-ui/core/Accordion';\r\nimport AccordionDetails from '@material-ui/core/AccordionDetails';\r\nimport AccordionSummary from '@material-ui/core/AccordionSummary';\r\nimport Typography from '@material-ui/core/Typography';\r\nimport { Button, TextField, Grid } from \"@material-ui/core\";\r\nimport ExpandMoreIcon from '@material-ui/icons/ExpandMore';\r\nimport Checkbox from '@material-ui/core/Checkbox';\r\nimport InputAdornment from '@material-ui/core/InputAdornment';\r\nimport axios from 'axios';\r\nimport Dialog from '@material-ui/core/Dialog';\r\nimport DialogActions from '@material-ui/core/DialogActions';\r\nimport DialogContent from '@material-ui/core/DialogContent';\r\nimport DialogTitle from '@material-ui/core/DialogTitle';\r\nimport './keyboard.css';\r\nimport Keyboard from \"react-simple-keyboard\";\r\nimport { withTheme } from '@material-ui/styles';\r\n\r\nclass PidSettings extends Component {\r\n    constructor(props) {\r\n        super(props);\r\n        this.state = {\r\n            p: 0,\r\n            i: 0,\r\n            d: 0,\r\n            lookAhead: 0,\r\n            preheat: false,\r\n            preheatPower: 0,\r\n            alwaysHitPeak: false,\r\n            inputChanged: false,\r\n            focused: false,\r\n            currentFocused: null,\r\n            focusInputChange: null,\r\n            isLocal: window.location.hostname === \"localhost\" || window.location.hostname === \"127.0.0.1\"\r\n        };\r\n        this.save = this.save.bind(this);\r\n        this.handlePChange = this.handlePChange.bind(this);\r\n        this.handleIChange = this.handleIChange.bind(this);\r\n        this.handleDChange = this.handleDChange.bind(this);\r\n        this.handlePreheatChange = this.handlePreheatChange.bind(this);\r\n        this.handleLookAheadChange = this.handleLookAheadChange.bind(this);\r\n        this.handlePreheatPowerChange = this.handlePreheatPowerChange.bind(this);\r\n        this.handleAlwaysHitPeakChange = this.handleAlwaysHitPeakChange.bind(this);\r\n        this.handleOnFocus = this.handleOnFocus.bind(this);\r\n        this.handleKeyboardInput = this.handleKeyboardInput.bind(this);\r\n        this.handleInputClose = this.handleInputClose.bind(this);\r\n        this.handleDialogInput = this.handleDialogInput.bind(this);\r\n    }\r\n\r\n    componentDidMount() {\r\n        fetch('/api/settings/pid')\r\n            .then(response => response.json())\r\n            .then(result => {\r\n                this.setState({\r\n                    p: result.p,\r\n                    i: result.i,\r\n                    d: result.d,\r\n                    lookAhead: result.look_ahead,\r\n                    preheat: result.preheat,\r\n                    preheatPower: result.preheat_power,\r\n                    alwaysHitPeak: result.always_hit_peak\r\n                });\r\n            });\r\n    }\r\n\r\n    save() {\r\n        var newSettings = {};\r\n        newSettings.p = this.state.p;\r\n        newSettings.i = this.state.i;\r\n        newSettings.d = this.state.d;\r\n        newSettings.look_ahead = this.state.lookAhead;\r\n        newSettings.preheat = this.state.preheat;\r\n        newSettings.preheat_power = this.state.preheatPower;\r\n        newSettings.always_hit_peak = this.state.alwaysHitPeak;\r\n        axios.post('/api/settings/pid', newSettings)\r\n            .then(res => {\r\n                if (res.data.status === 200) {\r\n                    this.setState({ inputChanged: false });\r\n                }\r\n            });\r\n    }\r\n\r\n    handlePChange(e) {\r\n        this.setState({ p: e.target.value, inputChanged: true });\r\n    }\r\n\r\n    handleIChange(e) {\r\n        this.setState({ i: e.target.value, inputChanged: true });\r\n    }\r\n\r\n    handleDChange(e) {\r\n        this.setState({ d: e.target.value, inputChanged: true });\r\n    }\r\n\r\n    handleLookAheadChange(e) {\r\n        if (e.target.value >= 0) {\r\n            this.setState({ lookAhead: parseInt(e.target.value), inputChanged: true });\r\n        }\r\n    }\r\n\r\n    handlePreheatChange(e) {\r\n        this.setState({ preheat: e.target.checked, inputChanged: true });\r\n    }\r\n\r\n    handlePreheatPowerChange(e) {\r\n        if (e.target.value >= 0 && e.target.value <= 100) {\r\n            this.setState({ preheatPower: e.target.value, inputChanged: true });\r\n        }\r\n    }\r\n\r\n    handleAlwaysHitPeakChange(e) {\r\n        this.setState({ alwaysHitPeak: e.target.checked, inputChanged: true });\r\n    }\r\n\r\n    handleOnFocus(e, changeFunction, name) {\r\n        if (this.state.isLocal) {\r\n            this.setState({ focusInputChange: changeFunction, currentFocused: name, focused: true });\r\n        }\r\n    }\r\n\r\n    handleInputClose() {\r\n        //get rid of trailing '.' if needed\r\n        var tempString = this.state[this.state.currentFocused].toString();\r\n        if (tempString === '') {\r\n            tempString = '0'\r\n        } else if (tempString.charAt(tempString.length - 1) === '.') {\r\n\r\n            tempString = tempString.substring(0, tempString.length - 1);\r\n        }\r\n\r\n        //this is super bad code but idk how else to do this\r\n        //i am making a 'fake' event and setting the value so that the method can access it\r\n        var e = {};\r\n        e.target = {};\r\n        e.target.value = tempString;\r\n\r\n        this.state.focusInputChange(e);\r\n        this.setState({ focused: false, inputValue: '' });\r\n    }\r\n\r\n    handleKeyboardInput(button) {\r\n        var tempInput = this.state[this.state.currentFocused].toString();\r\n        if (button === '{bksp}') {\r\n            tempInput = tempInput.substring(0, tempInput.length - 1);\r\n        } else {\r\n            tempInput += button;\r\n        }\r\n\r\n        //again, really bad code. Maybe you can fix it somehow\r\n        var e = {};\r\n        e.target = {};\r\n        e.target.value = tempInput;\r\n        this.state.focusInputChange(e);\r\n    }\r\n\r\n    handleDialogInput(e) {\r\n        this.state.focusInputChange(e);\r\n    }\r\n\r\n    render() {\r\n        var inputDialog = <></>;\r\n        if (this.state.focused) {\r\n            inputDialog = <Dialog open={this.state.focused} onClose={this.handleInputClose} fullWidth>\r\n                <DialogTitle>\r\n                    <Typography>\r\n                        Enter value\r\n                    </Typography>\r\n                </DialogTitle>\r\n                <DialogContent>\r\n                    <Grid container spacing={1} justifyContent='space-between'>\r\n                        <Grid item>\r\n                            <TextField\r\n                                variant=\"outlined\"\r\n                                value={this.state[this.state.currentFocused]}\r\n                                onChange={this.handleDialogInput}\r\n                            />\r\n                        </Grid>\r\n                        <Grid item xs={6}>\r\n                            <Keyboard\r\n                                onKeyPress={this.handleKeyboardInput}\r\n                                layout={{\r\n                                    default: [\r\n                                        \"7 8 9\",\r\n                                        \"4 5 6\",\r\n                                        \"1 2 3\",\r\n                                        \"0 . {bksp}\"\r\n                                    ]\r\n                                }}\r\n                                display={{\r\n                                    '{bksp}': \"<\"\r\n                                }}\r\n                                theme={this.props.theme.palette.type === 'dark' ? 'hg-theme-dark' : 'hg-theme-default'}\r\n                            />\r\n                        </Grid>\r\n                    </Grid>\r\n                </DialogContent>\r\n                <DialogActions>\r\n                    <Button color='primary' variant='contained' onClick={this.handleInputClose}>OK</Button>\r\n                </DialogActions>\r\n            </Dialog>;\r\n        }\r\n\r\n        return (\r\n            <>\r\n                {inputDialog}\r\n                <Accordion >\r\n                    <AccordionSummary\r\n                        expandIcon={<ExpandMoreIcon />}\r\n                        aria-controls=\"panel2bh-content\"\r\n                        id=\"panel2bh-header\"\r\n                    >\r\n                        <Typography variant='h6'>PID</Typography>\r\n                    </AccordionSummary>\r\n                    <AccordionDetails>\r\n                        <Grid container spacing={3} direction='column' alignItems=\"flex-start\" >\r\n\r\n                            <Grid item>\r\n                                <Grid container spacing={2}>\r\n                                    <Grid item>\r\n                                        <TextField id='p' variant=\"outlined\" type='number' label='Proportional' value={this.state.p} onChange={this.handlePChange} onClick={(e) => this.handleOnFocus(e, this.handlePChange, 'p')} style={{ width: 150 }} />\r\n                                    </Grid>\r\n                                    <Grid item>\r\n                                        <TextField variant=\"outlined\" type='number' label='Integral' value={this.state.i} onChange={this.handleIChange} onClick={(e) => this.handleOnFocus(e, this.handleIChange, 'i')} style={{ width: 150 }} />\r\n                                    </Grid>\r\n                                    <Grid item>\r\n                                        <TextField variant=\"outlined\" type='number' label='Derivative' value={this.state.d} onChange={this.handleDChange} onClick={(e) => this.handleOnFocus(e, this.handleDChange, 'd')} style={{ width: 150 }} />\r\n                                    </Grid>\r\n                                </Grid>\r\n                            </Grid>\r\n                            <Grid item>\r\n                                <Typography align='left'>\r\n                                    Look Ahead\r\n                                </Typography>\r\n                                <TextField\r\n                                    variant=\"outlined\"\r\n                                    type='number'\r\n                                    value={this.state.lookAhead}\r\n                                    onChange={this.handleLookAheadChange}\r\n                                    onClick={(e) => this.handleOnFocus(e, this.handleLookAheadChange, 'lookAhead')}\r\n                                    style={{ width: 150 }}\r\n                                    InputProps={{\r\n                                        endAdornment: <InputAdornment position=\"end\">Seconds</InputAdornment>,\r\n                                    }}\r\n                                />\r\n                            </Grid>\r\n                            <Grid item>\r\n                                <Grid container spacing={3}>\r\n                                    <Grid item>\r\n                                        <Typography align='left'>\r\n                                            Enable Preheat\r\n                                        </Typography>\r\n                                        <Checkbox checked={this.state.preheat} onChange={this.handlePreheatChange} color='primary' />\r\n                                    </Grid>\r\n                                    <Grid item>\r\n                                        <TextField\r\n                                            variant=\"outlined\"\r\n                                            type='number'\r\n                                            label='Preheat Power'\r\n                                            value={this.state.preheatPower}\r\n                                            onChange={this.handlePreheatPowerChange}\r\n                                            onClick={(e) => this.handleOnFocus(e, this.handlePreheatPowerChange, 'preheatPower')}\r\n                                            style={{ width: 150 }}\r\n                                            InputProps={{\r\n                                                endAdornment: <InputAdornment position=\"end\">%</InputAdornment>,\r\n                                            }}\r\n                                        />\r\n                                    </Grid>\r\n                                </Grid>\r\n                            </Grid>\r\n                            <Grid item>\r\n                                <Typography align='left'>\r\n                                    Always Hit Peak\r\n                                </Typography>\r\n                                <Checkbox checked={this.state.alwaysHitPeak} onChange={this.handleAlwaysHitPeakChange} color='primary' />\r\n                            </Grid>\r\n\r\n                            <Grid container justifyContent='flex-end' spacing={3}>\r\n                                <Grid item>\r\n                                    <Button variant='contained' color='primary' disabled={!this.state.inputChanged} onClick={this.save}>\r\n                                        Save\r\n                                    </Button>\r\n                                </Grid>\r\n                            </Grid>\r\n                        </Grid>\r\n                    </AccordionDetails>\r\n                </Accordion>\r\n            </>\r\n        );\r\n    }\r\n}\r\n\r\nexport default withTheme(PidSettings);","import React, { Component } from \"react\";\r\nimport Accordion from '@material-ui/core/Accordion';\r\nimport AccordionDetails from '@material-ui/core/AccordionDetails';\r\nimport AccordionSummary from '@material-ui/core/AccordionSummary';\r\nimport Typography from '@material-ui/core/Typography';\r\nimport { InputLabel, Grid, FormControlLabel } from \"@material-ui/core\";\r\nimport ExpandMoreIcon from '@material-ui/icons/ExpandMore';\r\nimport MenuItem from '@material-ui/core/MenuItem';\r\nimport FormControl from '@material-ui/core/FormControl';\r\nimport Select from '@material-ui/core/Select';\r\nimport Snackbar from '@material-ui/core/Snackbar';\r\nimport Button from '@material-ui/core/Button';\r\nimport TextField from '@material-ui/core/TextField';\r\nimport IconButton from '@material-ui/core/IconButton';\r\nimport RefreshIcon from '@material-ui/icons/Refresh';\r\nimport MuiAlert from '@material-ui/lab/Alert';\r\nimport InputAdornment from '@material-ui/core/InputAdornment';\r\nimport Radio from '@material-ui/core/Radio';\r\nimport RadioGroup from '@material-ui/core/RadioGroup';\r\nimport axios from 'axios';\r\nimport Dialog from '@material-ui/core/Dialog';\r\nimport DialogActions from '@material-ui/core/DialogActions';\r\nimport DialogContent from '@material-ui/core/DialogContent';\r\nimport DialogTitle from '@material-ui/core/DialogTitle';\r\nimport './keyboard.css';\r\nimport Keyboard from \"react-simple-keyboard\";\r\nimport { withTheme } from '@material-ui/styles';\r\n\r\nclass HardwareSettings extends Component {\r\n    constructor(props) {\r\n        super(props);\r\n        this.state = {\r\n            relayPin: 5,\r\n            fanPin: 6,\r\n            coolingFanPin: 16,\r\n            thermocoupleOffset: 0,\r\n            percentOffset: 0,\r\n            inputChanged: false,\r\n            relayError: false,\r\n            fanError: false,\r\n            coolingFanError: false,\r\n            fanTurnoffTemp: 0,\r\n            thermo1: \"n/a\",\r\n            thermo2: \"n/a\",\r\n            calculated: \"n/a\",\r\n            refreshDisabled: false,\r\n            thermocoupleAverageMode: 'false',\r\n            focused: false,\r\n            currentFocused: null,\r\n            focusInputChange: null,\r\n            isLocal: window.location.hostname === \"localhost\" || window.location.hostname === \"127.0.0.1\"\r\n        };\r\n        this.handleRelayChange = this.handleRelayChange.bind(this);\r\n        this.handleFanChange = this.handleFanChange.bind(this);\r\n        this.handleCoolingFanChange = this.handleCoolingFanChange.bind(this);\r\n        this.handleFanTurnoffChange = this.handleFanTurnoffChange.bind(this);\r\n        this.handleThermocoupleOffset = this.handleThermocoupleOffset.bind(this);\r\n        this.handleThermocoupleRefresh = this.handleThermocoupleRefresh.bind(this);\r\n        this.handlePercentOffset = this.handlePercentOffset.bind(this);\r\n        this.handleThermocoupleMode = this.handleThermocoupleMode.bind(this);\r\n        this.errorClose = this.errorClose.bind(this);\r\n        this.save = this.save.bind(this);\r\n        this.handleOnFocus = this.handleOnFocus.bind(this);\r\n        this.handleKeyboardInput = this.handleKeyboardInput.bind(this);\r\n        this.handleInputClose = this.handleInputClose.bind(this);\r\n        this.handleDialogInput = this.handleDialogInput.bind(this);\r\n    }\r\n\r\n    componentDidMount() {\r\n        fetch('/api/settings/hardware')\r\n            .then(response => response.json())\r\n            .then(result => {\r\n                this.setState({\r\n                    relayPin: result.relay_pin,\r\n                    fanPin: result.fan_pin,\r\n                    coolingFanPin: result.cooling_fan_pin,\r\n                    fanTurnoffTemp: result.fan_turnoff_temp,\r\n                    thermocoupleOffset: result.thermocouple_offset,\r\n                    percentOffset: result.percent_offset\r\n                });\r\n                if (result.thermocouple_average_mode === true) {\r\n                    this.setState({ thermocoupleAverageMode: 'true' });\r\n                } else {\r\n                    this.setState({ thermocoupleAverageMode: 'false' });\r\n                }\r\n            });\r\n    }\r\n\r\n    handleRelayChange(e) {\r\n        this.setState({ relayPin: e.target.value, inputChanged: true });\r\n    }\r\n\r\n    handleFanChange(e) {\r\n        this.setState({ fanPin: e.target.value, inputChanged: true });\r\n    }\r\n\r\n    handleCoolingFanChange(e) {\r\n        this.setState({ coolingFanPin: e.target.value, inputChanged: true });\r\n    }\r\n\r\n    handleFanTurnoffChange(e) {\r\n        if (e.target.value >= 0) {\r\n            this.setState({ fanTurnoffTemp: e.target.value, inputChanged: true });\r\n        }\r\n    }\r\n\r\n    handleThermocoupleOffset(e) {\r\n        this.setState({ thermocoupleOffset: e.target.value, inputChanged: true });\r\n    }\r\n\r\n    handlePercentOffset(e) {\r\n        this.setState({ percentOffset: e.target.value, inputChanged: true });\r\n    }\r\n\r\n    handleThermocoupleMode(e) {\r\n        this.setState({ thermocoupleAverageMode: e.target.value, inputChanged: true });\r\n    }\r\n\r\n    handleThermocoupleRefresh() {\r\n        this.setState({ refreshDisabled: true });\r\n        fetch('/api/all_temperatures')\r\n            .then(response => response.json())\r\n            .then(result => {\r\n                this.setState({\r\n                    thermo1: result.sensor_1,\r\n                    thermo2: result.sensor_2,\r\n                    calculated: result.current,\r\n                    refreshDisabled: false\r\n                });\r\n            });\r\n    }\r\n\r\n    errorClose() {\r\n        this.setState({ relayError: false, fanError: false, coolingFanError: false });\r\n    }\r\n\r\n    save() {\r\n        var newSettings = {};\r\n        newSettings.relay_pin = this.state.relayPin;\r\n        newSettings.fan_pin = this.state.fanPin;\r\n        newSettings.cooling_fan_pin = this.state.coolingFanPin;\r\n        newSettings.fan_turnoff_temp = this.state.fanTurnoffTemp;\r\n        newSettings.thermocouple_offset = this.state.thermocoupleOffset;\r\n        newSettings.percent_offset = this.state.percentOffset;\r\n        newSettings.thermocouple_average_mode = this.state.thermocoupleAverageMode === 'true';\r\n        axios.post('/api/settings/hardware', newSettings)\r\n            .then(res => {\r\n                if (res.data.status === 200) {\r\n                    this.setState({ inputChanged: false });\r\n                }\r\n            });\r\n    }\r\n\r\n    handleOnFocus(e, changeFunction, name) {\r\n        if (this.state.isLocal) {\r\n            this.setState({ focusInputChange: changeFunction, currentFocused: name, focused: true });\r\n        }\r\n    }\r\n\r\n    handleInputClose() {\r\n        //get rid of trailing '.' if needed\r\n        var tempString = this.state[this.state.currentFocused].toString();\r\n        if (tempString === '') {\r\n            tempString = '0'\r\n        } else if (tempString.charAt(tempString.length - 1) === '.') {\r\n\r\n            tempString = tempString.substring(0, tempString.length - 1);\r\n        }\r\n\r\n        //this is super bad code but idk how else to do this\r\n        //i am making a 'fake' event and setting the value so that the method can access it\r\n        var e = {};\r\n        e.target = {};\r\n        e.target.value = tempString;\r\n\r\n        this.state.focusInputChange(e);\r\n        this.setState({ focused: false, inputValue: '' });\r\n    }\r\n\r\n    handleKeyboardInput(button) {\r\n        var tempInput = this.state[this.state.currentFocused].toString();\r\n        if (button === '{bksp}') {\r\n            tempInput = tempInput.substring(0, tempInput.length - 1);\r\n        } else {\r\n            tempInput += button;\r\n        }\r\n\r\n        //again, really bad code. Maybe you can fix it somehow\r\n        var e = {};\r\n        e.target = {};\r\n        e.target.value = tempInput;\r\n        this.state.focusInputChange(e);\r\n    }\r\n\r\n    handleDialogInput(e) {\r\n        this.state.focusInputChange(e);\r\n    }\r\n\r\n    render() {\r\n        var inputDialog = <></>;\r\n        if (this.state.focused) {\r\n            inputDialog = <Dialog open={this.state.focused} onClose={this.handleInputClose} fullWidth>\r\n                <DialogTitle>\r\n                    <Typography>\r\n                        Enter value\r\n                    </Typography>\r\n                </DialogTitle>\r\n                <DialogContent>\r\n                    <Grid container spacing={1} justifyContent='space-between'>\r\n                        <Grid item>\r\n                            <TextField\r\n                                variant=\"outlined\"\r\n                                value={this.state[this.state.currentFocused]}\r\n                                onChange={this.handleDialogInput}\r\n                            />\r\n                        </Grid>\r\n                        <Grid item xs={6}>\r\n                            <Keyboard\r\n                                onKeyPress={this.handleKeyboardInput}\r\n                                layout={{\r\n                                    default: [\r\n                                        \"7 8 9\",\r\n                                        \"4 5 6\",\r\n                                        \"1 2 3\",\r\n                                        \"0 . {bksp}\"\r\n                                    ]\r\n                                }}\r\n                                display={{\r\n                                    '{bksp}': \"<\"\r\n                                }}\r\n                                theme={this.props.theme.palette.type === 'dark' ? 'hg-theme-dark' : 'hg-theme-default'}\r\n                            />\r\n                        </Grid>\r\n                    </Grid>\r\n                </DialogContent>\r\n                <DialogActions>\r\n                    <Button color='primary' variant='contained' onClick={this.handleInputClose}>OK</Button>\r\n                </DialogActions>\r\n            </Dialog>;\r\n        }\r\n        return (\r\n            <>\r\n                {inputDialog}\r\n                <Accordion >\r\n                    <AccordionSummary\r\n                        expandIcon={<ExpandMoreIcon />}\r\n                        aria-controls=\"panel3bh-content\"\r\n                        id=\"panel3bh-header\"\r\n                    >\r\n                        <Typography variant='h6' >Hardware</Typography>\r\n                    </AccordionSummary>\r\n                    <AccordionDetails>\r\n\r\n                        <Grid container spacing={3} direction='column'>\r\n                            <Grid item>\r\n                                <Grid container spacing={3}>\r\n                                    <Grid item>\r\n                                        <FormControl error={this.state.relayError}>\r\n                                            <InputLabel>Relay GPIO</InputLabel>\r\n                                            <Select value={this.state.relayPin} onChange={this.handleRelayChange}>\r\n                                                <MenuItem value={4} disabled={this.state.fanPin === 4 || this.state.coolingFanPin === 4}>4 (pin 7)</MenuItem>\r\n                                                <MenuItem value={5} disabled={this.state.fanPin === 5 || this.state.coolingFanPin === 5}>5 (pin 29)</MenuItem>\r\n                                                <MenuItem value={6} disabled={this.state.fanPin === 6 || this.state.coolingFanPin === 6}>6 (pin 31)</MenuItem>\r\n                                                <MenuItem value={16} disabled={this.state.fanPin === 16 || this.state.coolingFanPin === 16}>16 (pin 36)</MenuItem>\r\n                                                <MenuItem value={17} disabled={this.state.fanPin === 17 || this.state.coolingFanPin === 17}>17 (pin 11)</MenuItem>\r\n                                                <MenuItem value={22} disabled={this.state.fanPin === 22 || this.state.coolingFanPin === 22}>22 (pin 15)</MenuItem>\r\n                                                <MenuItem value={23} disabled={this.state.fanPin === 23 || this.state.coolingFanPin === 23}>23 (pin 16)</MenuItem>\r\n                                                <MenuItem value={24} disabled={this.state.fanPin === 24 || this.state.coolingFanPin === 24}>24 (pin 18)</MenuItem>\r\n                                                <MenuItem value={25} disabled={this.state.fanPin === 25 || this.state.coolingFanPin === 25}>25 (pin 22)</MenuItem>\r\n                                                <MenuItem value={26} disabled={this.state.fanPin === 26 || this.state.coolingFanPin === 26}>26 (pin 37)</MenuItem>\r\n                                                <MenuItem value={27} disabled={this.state.fanPin === 27 || this.state.coolingFanPin === 27}>27 (pin 13)</MenuItem>\r\n                                            </Select>\r\n                                        </FormControl>\r\n                                    </Grid>\r\n\r\n                                    <Grid item>\r\n                                        <FormControl error={this.state.coolingFanError}>\r\n                                            <InputLabel>Cooling Fan GPIO</InputLabel>\r\n                                            <Select value={this.state.coolingFanPin} onChange={this.handleCoolingFanChange}>\r\n                                                <MenuItem value={4} disabled={this.state.relayPin === 4 || this.state.fanPin === 4}>4 (pin 7)</MenuItem>\r\n                                                <MenuItem value={5} disabled={this.state.relayPin === 5 || this.state.fanPin === 5}>5 (pin 29)</MenuItem>\r\n                                                <MenuItem value={6} disabled={this.state.relayPin === 6 || this.state.fanPin === 6}>6 (pin 31)</MenuItem>\r\n                                                <MenuItem value={16} disabled={this.state.relayPin === 16 || this.state.fanPin === 16}>16 (pin 36)</MenuItem>\r\n                                                <MenuItem value={17} disabled={this.state.relayPin === 17 || this.state.fanPin === 17}>17 (pin 11)</MenuItem>\r\n                                                <MenuItem value={22} disabled={this.state.relayPin === 22 || this.state.fanPin === 22}>22 (pin 15)</MenuItem>\r\n                                                <MenuItem value={23} disabled={this.state.relayPin === 23 || this.state.fanPin === 23}>23 (pin 16)</MenuItem>\r\n                                                <MenuItem value={24} disabled={this.state.relayPin === 24 || this.state.fanPin === 24}>24 (pin 18)</MenuItem>\r\n                                                <MenuItem value={25} disabled={this.state.relayPin === 25 || this.state.fanPin === 25}>25 (pin 22)</MenuItem>\r\n                                                <MenuItem value={26} disabled={this.state.relayPin === 26 || this.state.fanPin === 26}>26 (pin 37)</MenuItem>\r\n                                                <MenuItem value={27} disabled={this.state.relayPin === 27 || this.state.fanPin === 27}>27 (pin 13)</MenuItem>\r\n                                            </Select>\r\n                                        </FormControl>\r\n                                    </Grid>\r\n\r\n                                    <Grid item>\r\n                                        <FormControl error={this.state.fanError}>\r\n                                            <InputLabel>Convection Fan GPIO</InputLabel>\r\n                                            <Select value={this.state.fanPin} onChange={this.handleFanChange}>\r\n                                                <MenuItem value={4} disabled={this.state.relayPin === 4 || this.state.coolingFanPin === 4}>4 (pin 7)</MenuItem>\r\n                                                <MenuItem value={5} disabled={this.state.relayPin === 5 || this.state.coolingFanPin === 5}>5 (pin 29)</MenuItem>\r\n                                                <MenuItem value={6} disabled={this.state.relayPin === 6 || this.state.coolingFanPin === 6}>6 (pin 31)</MenuItem>\r\n                                                <MenuItem value={16} disabled={this.state.relayPin === 16 || this.state.coolingFanPin === 16}>16 (pin 36)</MenuItem>\r\n                                                <MenuItem value={17} disabled={this.state.relayPin === 17 || this.state.coolingFanPin === 17}>17 (pin 11)</MenuItem>\r\n                                                <MenuItem value={22} disabled={this.state.relayPin === 22 || this.state.coolingFanPin === 22}>22 (pin 15)</MenuItem>\r\n                                                <MenuItem value={23} disabled={this.state.relayPin === 23 || this.state.coolingFanPin === 23}>23 (pin 16)</MenuItem>\r\n                                                <MenuItem value={24} disabled={this.state.relayPin === 24 || this.state.coolingFanPin === 24}>24 (pin 18)</MenuItem>\r\n                                                <MenuItem value={25} disabled={this.state.relayPin === 25 || this.state.coolingFanPin === 25}>25 (pin 22)</MenuItem>\r\n                                                <MenuItem value={26} disabled={this.state.relayPin === 26 || this.state.coolingFanPin === 26}>26 (pin 37)</MenuItem>\r\n                                                <MenuItem value={27} disabled={this.state.relayPin === 27 || this.state.coolingFanPin === 27}>27 (pin 13)</MenuItem>\r\n                                            </Select>\r\n                                        </FormControl>\r\n                                    </Grid>\r\n\r\n                                    <Grid item>\r\n                                        <TextField\r\n                                            variant=\"outlined\"\r\n                                            type='number'\r\n                                            label='Fan off threshold'\r\n                                            value={this.state.fanTurnoffTemp}\r\n                                            onChange={this.handleFanTurnoffChange}\r\n                                            onClick={(e) => this.handleOnFocus(e, this.handleFanTurnoffChange, 'fanTurnoffTemp')}\r\n                                            style={{ width: 150 }}\r\n                                            InputProps={{\r\n                                                endAdornment: <InputAdornment position=\"end\">°C</InputAdornment>,\r\n                                            }} />\r\n                                    </Grid>\r\n                                </Grid>\r\n                            </Grid>\r\n\r\n                            <Grid item>\r\n                                <Typography style={{ paddingBottom: 10 }}>\r\n                                    Temperature Adjustment\r\n                                </Typography>\r\n                                <Grid container spacing={3}>\r\n                                    <Grid item>\r\n                                        <TextField\r\n                                            variant=\"outlined\"\r\n                                            type='number'\r\n                                            label='Constant offset'\r\n                                            value={this.state.thermocoupleOffset}\r\n                                            onChange={this.handleThermocoupleOffset}\r\n                                            onClick={(e) => this.handleOnFocus(e, this.handleThermocoupleOffset, 'thermocoupleOffset')}\r\n                                            style={{ width: 150 }}\r\n                                            InputProps={{\r\n                                                endAdornment: <InputAdornment position=\"end\">°C</InputAdornment>,\r\n                                            }}\r\n                                        />\r\n                                    </Grid>\r\n                                    <Grid item>\r\n                                        <TextField\r\n                                            variant=\"outlined\"\r\n                                            type='number'\r\n                                            label='Percent offset'\r\n                                            value={this.state.percentOffset}\r\n                                            onChange={this.handlePercentOffset}\r\n                                            onClick={(e) => this.handleOnFocus(e, this.handlePercentOffset, 'percentOffset')}\r\n                                            style={{ width: 150 }}\r\n                                            InputProps={{\r\n                                                endAdornment: <InputAdornment position=\"end\">%</InputAdornment>,\r\n                                            }}\r\n                                        />\r\n                                    </Grid>\r\n                                </Grid>\r\n                            </Grid>\r\n\r\n                            <Grid item>\r\n                                <Typography style={{ paddingBottom: 10 }}>\r\n                                    Dual Thermocouple\r\n                                </Typography>\r\n                                <RadioGroup value={this.state.thermocoupleAverageMode} onChange={this.handleThermocoupleMode} >\r\n                                    <FormControlLabel value='false' control={<Radio color=\"primary\" />} label='Use Highest Temperature' />\r\n                                    <FormControlLabel value='true' control={<Radio color=\"primary\" />} label='Use Average' />\r\n                                </RadioGroup>\r\n                            </Grid>\r\n\r\n                            <Grid item>\r\n                                <Typography>\r\n                                    Diagnostics\r\n                                    <IconButton disabled={this.state.refreshDisabled} onClick={this.handleThermocoupleRefresh}><RefreshIcon /></IconButton>\r\n                                </Typography>\r\n                                <Typography style={{ display: 'block' }} variant='caption'>\r\n                                    Thermocouple 1: {this.state.thermo1}°C\r\n                                </Typography>\r\n                                <Typography style={{ display: 'block' }} variant='caption'>\r\n                                    Thermocouple 2: {this.state.thermo2}°C\r\n                                </Typography>\r\n                                <Typography style={{ display: 'block' }} variant='caption'>\r\n                                    Calculated: {this.state.calculated}°C\r\n                                </Typography>\r\n                            </Grid>\r\n\r\n                            <Grid container justifyContent='flex-end' spacing={3}>\r\n                                <Grid item>\r\n                                    <Button variant='contained' color='primary' disabled={!this.state.inputChanged} onClick={this.save}>\r\n                                        Save\r\n                                    </Button>\r\n                                </Grid>\r\n                            </Grid>\r\n                        </Grid>\r\n                    </AccordionDetails>\r\n                </Accordion>\r\n            </>\r\n        );\r\n    }\r\n}\r\n\r\nexport default withTheme(HardwareSettings);","import React, { Component } from \"react\";\r\nimport Accordion from '@material-ui/core/Accordion';\r\nimport AccordionDetails from '@material-ui/core/AccordionDetails';\r\nimport AccordionSummary from '@material-ui/core/AccordionSummary';\r\nimport Typography from '@material-ui/core/Typography';\r\nimport ExpandMoreIcon from '@material-ui/icons/ExpandMore';\r\nimport Grid from '@material-ui/core/Grid';\r\nimport Switch from '@material-ui/core/Switch';\r\nimport Button from '@material-ui/core/Button';\r\nimport axios from 'axios';\r\nimport { CirclePicker } from 'react-color'\r\n\r\nclass AppearanceSettings extends Component {\r\n    constructor(props) {\r\n        super(props);\r\n        this.state = {\r\n            darkMode: this.props.darkMode,\r\n            primary: this.props.primary,\r\n            secondary: this.props.secondary,\r\n            inputChanged: false\r\n        };\r\n        this.save = this.save.bind(this);\r\n        this.handleDarkSwitch = this.handleDarkSwitch.bind(this);\r\n        this.handlePrimaryChange = this.handlePrimaryChange.bind(this);\r\n        this.handleSecondaryChange = this.handleSecondaryChange.bind(this);\r\n    }\r\n\r\n    componentDidMount() {\r\n    }\r\n\r\n    save() {\r\n        var newSettings = {};\r\n        newSettings.dark_mode = this.state.darkMode;\r\n        newSettings.primary_color = this.state.primary;\r\n        newSettings.secondary_color = this.state.secondary;\r\n        axios.post('/api/settings/appearance', newSettings)\r\n            .then(res => {\r\n                if (res.data.status === 200) {\r\n                    this.setState({ inputChanged: false });\r\n                }\r\n            });\r\n    }\r\n\r\n    handleDarkSwitch(e) {\r\n        this.setState({ darkMode: e.target.checked, inputChanged: true });\r\n        this.props.toggleDarkMode(e.target.checked);\r\n    }\r\n\r\n    handlePrimaryChange(color, e) {\r\n        this.setState({ primary: color.hex, inputChanged: true });\r\n        this.props.setPrimaryColor(color.hex);\r\n    }\r\n\r\n    handleSecondaryChange(color, e) {\r\n        this.setState({ secondary: color.hex, inputChanged: true });\r\n        this.props.setSecondaryColor(color.hex);\r\n    }\r\n\r\n    render() {\r\n        return (\r\n            <Accordion >\r\n                <AccordionSummary\r\n                    expandIcon={<ExpandMoreIcon />}\r\n                    aria-controls=\"panel1bh-content\"\r\n                    id=\"panel1bh-header\"\r\n                >\r\n                    <Typography variant='h6'>Appearance</Typography>\r\n                </AccordionSummary>\r\n                <AccordionDetails>\r\n                    <Grid container direction='column' alignItems=\"flex-start\" spacing={3}>\r\n                        <Grid item>\r\n                            <Typography align='left'>\r\n                                Dark Mode\r\n                            </Typography>\r\n                            <Switch checked={this.state.darkMode} onChange={this.handleDarkSwitch} color='primary' />\r\n                        </Grid>\r\n                        <Grid item>\r\n                            <Typography align='left'>\r\n                                Primary Color\r\n                            </Typography>\r\n                            <CirclePicker color={this.state.primary} onChange={this.handlePrimaryChange}/>\r\n                        </Grid>\r\n\r\n                        <Grid item>\r\n                            <Typography align='left'>\r\n                                Secondary Color\r\n                            </Typography>\r\n                            <CirclePicker color={this.state.secondary} onChange={this.handleSecondaryChange} />\r\n                        </Grid>\r\n                        \r\n\r\n                        <Grid container justifyContent='flex-end' spacing={3}>\r\n                            <Grid item>\r\n                                <Grid container direction='column' alignItems='center'>\r\n                                    <Grid item>\r\n                                        <Typography variant='caption' >\r\n                                            <span style={{color: 'red'}}>WARNING: </span>If saved, theme will be applied to all connections.\r\n                                        </Typography>\r\n                                    </Grid>\r\n                                    <Grid item>\r\n                                        <Typography variant='caption' display='inline' >\r\n                                            (useful for differentiating between ovens)\r\n                                        </Typography>\r\n                                    </Grid>\r\n                                </Grid>\r\n                            </Grid>\r\n                            <Grid item>\r\n                                <Button variant='contained' color='primary' disabled={!this.state.inputChanged} onClick={this.save}>\r\n                                    Save\r\n                                </Button>\r\n                            </Grid>\r\n                        </Grid>\r\n                    </Grid>\r\n\r\n                </AccordionDetails>\r\n            </Accordion>\r\n        );\r\n    }\r\n}\r\n\r\nexport default AppearanceSettings;","import React, { Component } from \"react\";\r\nimport StatusBar from '../components/StatusBar';\r\nimport Container from '@material-ui/core/Container';\r\nimport NetworkSettings from '../components/NetworkSettings';\r\nimport PidSettings from '../components/PidSettings';\r\nimport HardwareSettings from \"../components/HardwareSettings\";\r\nimport AppearanceSettings from '../components/AppearanceSettings';\r\n\r\nclass Settings extends Component {\r\n\r\n    render() {\r\n        return (\r\n            <>\r\n                <StatusBar />\r\n                <Container maxWidth={false} style={{paddingTop: '20px'}} >\r\n                    <PidSettings />\r\n                    <HardwareSettings />\r\n                    <NetworkSettings />\r\n                    <AppearanceSettings\r\n                        toggleDarkMode={this.props.toggleDarkMode}\r\n                        setPrimaryColor={this.props.setPrimaryColor}\r\n                        setSecondaryColor={this.props.setSecondaryColor}\r\n                        primary={this.props.primary}\r\n                        secondary={this.props.secondary}\r\n                        darkMode={this.props.darkMode}\r\n                    />\r\n                </Container>\r\n            </>\r\n        );\r\n    }\r\n}\r\n\r\nexport default Settings;","import React from \"react\";\r\nimport socketio from \"socket.io-client\";\r\n\r\n//no url since backend is hosted on the same domain\r\nexport const socket = socketio.connect();\r\nexport const SocketContext = React.createContext();","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport {App} from './App';\nimport reportWebVitals from './reportWebVitals';\n\nvar isLocal = false;\nif (window.location.hostname === \"localhost\" || window.location.hostname === \"127.0.0.1\" || window.location.hostname === \"\") {\n  isLocal = true;\n}\n\nReactDOM.render(\n  <React.StrictMode>\n    <App isLocal={isLocal}/>\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n","import { React, Component } from 'react';\r\nimport { socket } from '../helpers/socket';\r\nimport AppBar from '@material-ui/core/AppBar';\r\nimport Toolbar from '@material-ui/core/Toolbar';\r\nimport Button from '@material-ui/core/Button';\r\nimport Typography from '@material-ui/core/Typography';\r\nimport IconButton from '@material-ui/core/IconButton';\r\nimport MenuIcon from '@material-ui/icons/Menu';\r\nimport HomeIcon from '@material-ui/icons/Home';\r\nimport MenuOpenIcon from '@material-ui/icons/MenuOpen';\r\nimport SettingsIcon from '@material-ui/icons/Settings';\r\nimport { Link } from \"react-router-dom\";\r\nimport axios from 'axios';\r\nimport StopIcon from '@material-ui/icons/Stop';\r\nimport QRCode from \"qrcode.react\";\r\nimport CloseIcon from '@material-ui/icons/Close';\r\nimport WhatshotIcon from '@material-ui/icons/Whatshot';\r\nimport AcUnitIcon from '@material-ui/icons/AcUnit';\r\nimport ToysIcon from '@material-ui/icons/Toys';\r\nimport Snackbar from '@material-ui/core/Snackbar';\r\nimport MuiAlert from '@material-ui/lab/Alert';\r\nimport WifiTetheringIcon from '@material-ui/icons/WifiTethering';\r\nimport { ListItem, Drawer, ListItemText, ListItemIcon, Divider, Dialog, DialogTitle, DialogContent } from '@material-ui/core';\r\nimport { LinearProgress, Grid } from '@material-ui/core';\r\nimport { withStyles } from '@material-ui/core/styles';\r\nimport { withRouter } from \"react-router-dom\";\r\nimport ListAltIcon from '@material-ui/icons/ListAlt';\r\nimport Hidden from '@material-ui/core/Hidden';\r\nimport Backdrop from '@material-ui/core/Backdrop';\r\nimport CircularProgress from '@material-ui/core/CircularProgress';\r\n\r\n\r\nclass StatusBar extends Component {\r\n    constructor(props) {\r\n        super(props);\r\n        this.componentDidMount = this.componentDidMount.bind(this);\r\n        this.componentWillUnmount = this.componentWillUnmount.bind(this);\r\n        this.drawerChange = this.drawerChange.bind(this);\r\n        this.stop = this.stop.bind(this);\r\n        this.qrClicked = this.qrClicked.bind(this);\r\n        this.qrClosed = this.qrClosed.bind(this);\r\n        this.snackbarClosed = this.snackbarClosed.bind(this);\r\n        this.timeout = null;\r\n        this.state = {\r\n            drawer: false,\r\n            qrDialog: false,\r\n            thermoDialog: false,\r\n            percentage: 0,\r\n            temperature: 0,\r\n            status: \"Ready\",\r\n            address: \"\",\r\n            currentProfile: \"\",\r\n            serverMessage: \"\",\r\n            serverMessageSeverity: \"\",\r\n            serverMessageSnackbar: false,\r\n            relayOn: false,\r\n            coolingFanOn: false,\r\n            fanOn: false,\r\n            connected: true,\r\n            backdrop: false\r\n        };\r\n    }\r\n\r\n    StopButton = withStyles({\r\n        root: {\r\n            backgroundColor: '#bf0000',\r\n            '&:hover': {\r\n                backgroundColor: '#870000'\r\n            }\r\n        }\r\n    })(Button);\r\n\r\n    RelayOn = withStyles({\r\n        root: {\r\n            fill: '#c70000',\r\n        }\r\n    })(WhatshotIcon);\r\n\r\n    CoolingOn = withStyles({\r\n        root: {\r\n            fill: '#009cc7',\r\n        }\r\n    })(AcUnitIcon);\r\n\r\n    ConvectionOn = withStyles({\r\n        root: {\r\n            fill: '#00ba16',\r\n        }\r\n    })(ToysIcon);\r\n    \r\n\r\n    stop() {\r\n        axios.post('/api/stop', { reason: \"test\" })\r\n            .then(res => {\r\n                if (res.data.status === 200) {\r\n                    this.setState({ status: \"Ready\" });\r\n                }\r\n            });\r\n    }\r\n\r\n    componentDidMount() {\r\n        fetch('/api/status')\r\n            .then(response => response.json())\r\n            .then(result => {\r\n                this.setState({\r\n                    address: result.address,\r\n                    percentage: result.status.percent,\r\n                    status: result.status.status,\r\n                    currentProfile: result.status.current_profile\r\n                });\r\n            });\r\n        socket.on(\"status_update\", (message) => {\r\n            this.setState({\r\n                percentage: message.percent,\r\n                temperature: message.temperature,\r\n                status: message.status,\r\n                currentProfile: message.current_profile\r\n            });\r\n\r\n            if (message.relay > 0) {\r\n                this.setState({ relayOn: true });\r\n                if (message.relay < 1000) {\r\n                    setTimeout(() => {\r\n                        this.setState({ relayOn: false });\r\n                    }, message.relay);\r\n                }   \r\n            } else {\r\n                this.setState({ relayOn: false });\r\n            }\r\n\r\n            if (message.cooling_fan > 0) {\r\n                this.setState({ coolingFanOn: true });\r\n                if (message.cooling_fan < 1000) {\r\n                    setTimeout(() => {\r\n                        this.setState({ coolingFanOn: false });\r\n                    }, message.cooling_fan);\r\n                }\r\n            } else {\r\n                this.setState({ coolingFanOn: false });\r\n            }\r\n\r\n            if (message.fan > 0) {\r\n                this.setState({ fanOn: true });\r\n                if (message.fan < 1000) {\r\n                    setTimeout(() => {\r\n                        this.setState({ fanOn: false });\r\n                    }, message.fan);\r\n                } \r\n            } else {\r\n                this.setState({ fanOn: false });\r\n            }\r\n        });\r\n        socket.on(\"server_message\", (message) => {\r\n            this.setState({\r\n                serverMessage: message.message,\r\n                serverMessageSeverity: message.severity,\r\n            });\r\n            this.setState({\r\n                serverMessageSnackbar: true\r\n            });\r\n        });\r\n        socket.on(\"disconnect\", () => {\r\n            this.setState({ backdrop: true });\r\n            this.timeout = setTimeout(() => {\r\n                this.setState({ connected: false });\r\n            }, 3000);\r\n            \r\n        });\r\n        socket.on(\"connect\", () => {\r\n            clearTimeout(this.timeout);\r\n            this.setState({ connected: true, backdrop: false });\r\n        });\r\n        if (!socket.connected) {\r\n            this.setState({ backdrop: true });\r\n            this.timeout = setTimeout(() => {\r\n                this.setState({ connected: false });\r\n            }, 3000);\r\n        }\r\n    }\r\n\r\n    drawerChange() {\r\n        if (this.state.drawer) {\r\n            this.setState({ drawer: false });\r\n        } else {\r\n            this.setState({ drawer: true });\r\n        }\r\n    }\r\n\r\n    componentWillUnmount() {\r\n        socket.off(\"status_update\");\r\n        socket.off(\"server_message\");\r\n        socket.off(\"disconnect\");\r\n        socket.off(\"connect\");\r\n    }\r\n\r\n    qrClicked() {\r\n        this.setState({ qrDialog: true });\r\n    }\r\n\r\n    qrClosed() {\r\n        this.setState({ qrDialog: false });\r\n    }\r\n\r\n    snackbarClosed() {\r\n        this.setState({serverMessageSnackbar: false})\r\n    }\r\n\r\n    render() {\r\n        var temperatureDisplay = this.state.temperature + \"°C\";\r\n        if (this.state.temperature < 0) {\r\n            temperatureDisplay = \"Thermocouple Disconnected!\";\r\n        }\r\n\r\n        var relayIcon = <WhatshotIcon />;\r\n        var coolingFanIcon = <AcUnitIcon />;\r\n        var fanIcon = <ToysIcon />;\r\n        if (this.state.relayOn) {\r\n            relayIcon = <this.RelayOn />;\r\n        }\r\n\r\n        if (this.state.coolingFanOn) {\r\n            coolingFanIcon = <this.CoolingOn />\r\n        }\r\n\r\n        if (this.state.fanOn) {\r\n            fanIcon = <this.ConvectionOn />\r\n        }\r\n\r\n        return (\r\n            <>\r\n                <Snackbar anchorOrigin={{\r\n                    vertical: 'top',\r\n                    horizontal: 'right'}} open={this.state.serverMessageSnackbar} autoHideDuration={10000} onClose={this.snackbarClosed}>\r\n                    <MuiAlert elevation={6} variant=\"filled\" severity={this.state.serverMessageSeverity} onClose={this.snackbarClosed}>\r\n                        {this.state.serverMessage}\r\n                    </MuiAlert>\r\n                </Snackbar>\r\n\r\n                <Backdrop style={{zIndex: 10}} open={this.state.backdrop}>\r\n                    <CircularProgress color='primary' />\r\n                </Backdrop>\r\n\r\n                <Dialog onClose={this.qrClosed} open={this.state.qrDialog} fullWidth={false} maxWidth={\"sm\"}>\r\n                    <DialogTitle>\r\n                        <Grid container justifyContent='center'>\r\n                            <Grid item>\r\n                                <Typography variant='h5'>\r\n                                    http://{this.state.address}\r\n                                </Typography>\r\n                            </Grid>\r\n                        </Grid>\r\n                    </DialogTitle>\r\n                    <DialogContent>\r\n                        <Grid container alignItems='center' direction='column'>\r\n                            <Grid item>\r\n                                <QRCode value={\"http://\" + this.state.address} size={200} />\r\n                            </Grid>\r\n                            <Grid item>\r\n                                Note: this control panel can only be accessed by the 12 EE lab computers.\r\n                            </Grid>\r\n                            <Grid item>\r\n                                <IconButton aria-label=\"close\" onClick={this.qrClosed}>\r\n                                    <CloseIcon />\r\n                                </IconButton>\r\n                            </Grid>\r\n                        </Grid>\r\n                    </DialogContent>\r\n                </Dialog>\r\n\r\n                <Dialog open={!this.state.connected}>\r\n                    <DialogTitle>\r\n                        <Typography>\r\n                            Disconnected from server\r\n                        </Typography>\r\n                    </DialogTitle>\r\n                    <DialogContent>\r\n                        Please ensure server is running.\r\n                    </DialogContent>\r\n                </Dialog>\r\n\r\n                <AppBar position=\"static\" >\r\n                    <Toolbar >\r\n                        <IconButton edge=\"start\" color=\"inherit\" aria-label=\"menu\" onClick={this.drawerChange}>\r\n                            <MenuIcon />\r\n                        </IconButton>\r\n                        <Hidden xsDown>\r\n                            <IconButton component={Link} to='/' color=\"inherit\"><HomeIcon /></IconButton>\r\n                        </Hidden>\r\n                        <Grid container spacing={5} style={{ paddingLeft: 20, paddingTop: 5 }}>\r\n                            <Grid item style={{ minWidth: 150 }}>\r\n                                <Typography align='right'>\r\n                                    {temperatureDisplay}\r\n                                </Typography>\r\n                            </Grid>\r\n                            <Grid item style={{ minWidth: 100 }}>\r\n                                <Typography align='center' >\r\n                                    {this.state.status}\r\n                                </Typography>\r\n                            </Grid>\r\n                            <Hidden xsDown>\r\n                                <Grid item>\r\n                                    <Grid container spacing={1}>\r\n                                        <Grid item>\r\n                                            {relayIcon}\r\n                                        </Grid>\r\n                                        <Grid item>\r\n                                            {coolingFanIcon}\r\n                                        </Grid>\r\n                                        <Grid item>\r\n                                            {fanIcon}\r\n                                        </Grid>\r\n                                    </Grid>\r\n                                </Grid>\r\n                            </Hidden>\r\n                            <Grid item>\r\n                                <Typography align='center' style={{fontWeight: 'bold'}} >\r\n                                    {this.state.currentProfile.name}\r\n                                </Typography>\r\n                            </Grid>\r\n                        </Grid>\r\n                        <div style={{ marginLeft: 'auto' }}>\r\n                            {(this.state.status === \"Preheat\" || this.state.status === \"Running\") &&\r\n                                <this.StopButton onClick={this.stop} startIcon={<StopIcon />} variant=\"contained\" color=\"primary\">Stop</this.StopButton>\r\n                            }\r\n                        </div>\r\n\r\n                    </Toolbar>\r\n                    <LinearProgress style={{height: 5}} variant=\"determinate\" color='secondary' value={this.state.percentage} />\r\n                </AppBar>\r\n\r\n                <Drawer open={this.state.drawer} onClose={this.drawerChange} >\r\n                    <ListItem button key={\"menu\"} onClick={this.drawerChange} style={{minHeight: 50}}>\r\n                        <ListItemIcon><MenuOpenIcon /></ListItemIcon>\r\n                    </ListItem>\r\n                    <Divider />\r\n                    <ListItem button key={\"Home\"} component={Link} onClick={this.drawerChange} to='/'>\r\n                        <ListItemIcon><HomeIcon /></ListItemIcon>\r\n                        <ListItemText>Home</ListItemText>\r\n                    </ListItem>\r\n                    <ListItem button key={\"ProfileList\"} component={Link} onClick={this.drawerChange} to='/profileList'>\r\n                        <ListItemIcon><ListAltIcon /></ListItemIcon>\r\n                        <ListItemText>Profile List</ListItemText>\r\n                    </ListItem>\r\n                    <ListItem button key={\"Settings\"} component={Link} onClick={this.drawerChange} to='/settings'>\r\n                        <ListItemIcon><SettingsIcon /></ListItemIcon>\r\n                        <ListItemText>Settings</ListItemText>\r\n                    </ListItem>\r\n                    <ListItem button key={\"Address\"} onClick={this.qrClicked}>\r\n                        <ListItemIcon><WifiTetheringIcon /></ListItemIcon>\r\n                        <ListItemText>Server Address</ListItemText>\r\n                    </ListItem>\r\n                </Drawer>\r\n            </>\r\n        );\r\n    }\r\n}\r\n\r\nexport default withRouter(StatusBar);\r\n\r\n"],"sourceRoot":""}