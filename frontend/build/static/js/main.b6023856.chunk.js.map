{"version":3,"sources":["components/Profile.js","App.js","views/home.js","views/profileList.js","views/notFound.js","views/editProfile.js","components/NetworkSettings.js","components/PidSettings.js","components/HardwareSettings.js","components/AppearanceSettings.js","views/settings.js","helpers/socket.js","reportWebVitals.js","index.js","components/StatusBar.js"],"names":["Profile","props","dragStart","bind","drag","dragEnd","state","hitRadius","pointRadius","this","draggable","setState","e","datasetIndex","index","value","gridColor","theme","palette","text","hint","primaryColor","primary","main","transparentPrimary","alpha","secondaryColor","secondary","transparentSecondary","tempColors","Array","fill","historicTempPointSize","activePoint","historicTemps","length","data","datasets","label","profile","datapoints","pointBackgroundColor","showLine","backgroundColor","borderColor","borderWidth","pointHitRadius","hoverRadius","dragData","borderDash","options","maintainAspectRatio","aspectRatio","responsive","animation","duration","scales","y","grid","color","ticks","stepSize","min","max","title","display","font","size","x","maxTime","plugins","round","dragX","onDrag","onDragStart","onDragEnd","zoom","wheel","enabled","pinch","mode","tooltip","xAlign","yAlign","displayColors","caretPadding","caretSize","bodySpacing","legend","fullsize","position","align","name","padding","top","bottom","Component","withTheme","App","darkMode","locked","passwordError","password","keyboardLayout","isLocal","window","location","hostname","toggleDarkMode","setPrimaryColor","setSecondaryColor","fetchAppearance","appIdle","handlePasswordEnter","submitPassword","handleKeyboardInput","buffer","Uint8Array","map","toString","padStart","join","localStorage","getItem","socket","on","message","dark_mode","primary_color","secondary_color","fetch","then","response","json","result","off","disconnect","isDark","target","button","tempPassword","substring","crypto","subtle","digest","Buffer","from","axios","post","hashed","buf2hex","res","status","setItem","themeType","createTheme","type","timeout","onIdle","debounce","open","fullWidth","container","justifyContent","error","onChange","inputProps","autocomplete","form","variant","onClick","layoutName","layout","default","shift","caps","onKeyPress","Provider","exact","path","component","NotFound","Home","steps","description","StartButton","withStyles","root","Button","StopButton","runProfile","forceRunProfile","stop","cancelClicked","coolingDialogClose","currentProfile","historicTemperature","percentDone","activeStep","startWhenCoolingDialog","coolingDialog","current_profile","historic_temperature","nextState","override","reason","stopStartButton","startIcon","onClose","maxWidth","xsDown","item","sm","sx","paddingTop","orientation","square","step","style","width","margin","minWidth","smDown","spacing","alignItems","xs","mdUp","noWrap","Link","to","pathname","tempHistory","ProfileList","SelectButton","DeleteButton","columns","field","headerName","editable","valueFormatter","params","Date","toLocaleString","profiles","activeItem","dialog","forceLoadDialog","allowUploadDownload","deleteDialog","saveProfileError","saveProfileErrorDialog","loadClicked","forceLoadClicked","handleItemClick","handleDialogClose","downloadProfile","fileChanged","handleForceDialogClose","handleDeleteDialogClose","deleteClicked","deleteProfile","saveProfileErrorClose","row","getData","forEach","element","profile_name","force_load","history","push","console","log","downloadableProfile","blob","Blob","JSON","stringify","FileSaver","saveAs","fileReader","FileReader","readAsText","files","onload","uploadedFile","parse","deleteButton","downloadButton","hasOwnProperty","is_default","aria-label","height","innerHeight","paddingBottom","rows","rowHeight","pagination","autoPageSize","checkboxSelection","disableMultipleSelection","onRowClick","sortingOrder","sortModel","sort","accept","hidden","date_created","now","last_run","withRouter","EditProfile","loadDialog","enterNameDialog","newName","newDatapoints","newProfile","currentX","currentY","maxNodes","currentPoint","slope","showHistory","saveProfile","handleInputChange","goBack","saveClicked","cancelEnterName","clearName","addX","subtractX","addY","subtractY","addTime","subtractTime","addNode","subtractNode","showHistoryClicked","calculateSlopeAtPoint","rise","run","Number","parseFloat","toFixed","tempProfile","newPoint","splice","Math","floor","i","j","tempPoint","ceil","new_profile","checked","keyboard","historySwitch","paddingLeft","historicDatapoints","formattedTime","abs","sign","autoFocus","endAdornment","lg","direction","fontSize","wrap","marginLeft","NetworkSettings","port","remoteConnections","messageToSend","inputChanged","focused","currentFocused","focusInputChange","save","handleSwitch","handlePortChange","handleMessageChange","sendMessage","handleOnFocus","handleInputClose","handleDialogInput","remote_connections","newSettings","changeFunction","tempString","charAt","inputValue","tempInput","inputDialog","Dialog","DialogTitle","Typography","DialogContent","Grid","TextField","DialogActions","Accordion","AccordionSummary","expandIcon","aria-controls","id","AccordionDetails","Checkbox","disabled","PidSettings","p","d","useCoolingFan","lookAhead","preheat","preheatPower","alwaysHitPeak","handlePChange","handleIChange","handleDChange","handleCoolingFanChange","handlePreheatChange","handleLookAheadChange","handlePreheatPowerChange","handleAlwaysHitPeakChange","use_cooling_fan","look_ahead","preheat_power","always_hit_peak","isNaN","parseInt","InputProps","InputAdornment","HardwareSettings","relayPin","fanPin","coolingFanPin","buzzerPin","thermocoupleOffset","percentOffset","relayError","fanError","coolingFanError","buzzerError","fanTurnoffTemp","thermo1","thermo2","calculated","refreshDisabled","thermocoupleAverageMode","handleRelayChange","handleFanChange","handleBuzzerChange","handleFanTurnoffChange","handleThermocoupleOffset","handleThermocoupleRefresh","handlePercentOffset","handleThermocoupleMode","errorClose","relay_pin","fan_pin","cooling_fan_pin","buzzer_pin","fan_turnoff_temp","thermocouple_offset","percent_offset","thermocouple_average_mode","sensor_1","sensor_2","current","FormControl","InputLabel","Select","MenuItem","RadioGroup","FormControlLabel","control","Radio","IconButton","AppearanceSettings","handleDarkSwitch","handlePrimaryChange","handleSecondaryChange","hex","Switch","Settings","StatusBar","Container","socketio","connect","SocketContext","React","createContext","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","StrictMode","document","getElementById","RelayOn","WhatshotIcon","CoolingOn","AcUnitIcon","ConvectionOn","ToysIcon","drawerChange","qrClicked","qrClosed","snackbarClosed","drawer","qrDialog","thermoDialog","percentage","temperature","address","serverMessage","serverMessageSeverity","serverMessageSnackbar","relayOn","coolingFanOn","fanOn","connected","backdrop","percent","relay","setTimeout","cooling_fan","fan","severity","clearTimeout","temperatureDisplay","relayIcon","coolingFanIcon","fanIcon","iOS","process","browser","test","navigator","userAgent","anchorOrigin","vertical","horizontal","autoHideDuration","elevation","zIndex","edge","fontWeight","innerWidth","disableDiscovery","disableBackdropTransition","minHeight"],"mappings":"mMAQMA,E,kDACF,WAAYC,GAAQ,IAAD,8BACf,cAAMA,IACDC,UAAY,EAAKA,UAAUC,KAAf,gBACjB,EAAKC,KAAO,EAAKA,KAAKD,KAAV,gBACZ,EAAKE,QAAU,EAAKA,QAAQF,KAAb,gBACf,EAAKG,MAAQ,CACTC,UAAW,EACXC,YAAa,GAPF,E,qDAWnB,WACQC,KAAKR,MAAMS,WAEXD,KAAKE,SAAS,CAAEJ,UAAW,GAAIC,YAAa,M,uBAKpD,SAAUI,EAAGC,EAAcC,EAAOC,GAC9BN,KAAKR,MAAMC,UAAUU,EAAGC,EAAcC,EAAOC,K,kBAGjD,SAAKH,EAAGC,EAAcC,EAAOC,GACzBN,KAAKR,MAAMG,KAAKQ,EAAGC,EAAcC,EAAOC,K,qBAG5C,SAAQH,EAAGC,EAAcC,EAAOC,GAC5BN,KAAKR,MAAMI,QAAQO,EAAGC,EAAcC,EAAOC,K,oBAG/C,WAAU,IAAD,OACDC,EAAYP,KAAKR,MAAMgB,MAAMC,QAAQC,KAAKC,KAC1CC,EAAeZ,KAAKR,MAAMgB,MAAMC,QAAQI,QAAQC,KAChDC,EAAqBC,gBAAMhB,KAAKR,MAAMgB,MAAMC,QAAQI,QAAQC,KAAM,IAClEG,EAAiBjB,KAAKR,MAAMgB,MAAMC,QAAQS,UAAUJ,KACpDK,EAAuBH,gBAAMhB,KAAKR,MAAMgB,MAAMC,QAAQS,UAAUJ,KAAM,IACtEM,EAAa,IAAIC,MAAM,IAAIC,KAAKP,GAChCQ,EAAwB,EAQ5B,OAPIvB,KAAKR,MAAMS,YACXmB,EAAWpB,KAAKR,MAAMgC,aAAeP,GAErCjB,KAAKR,MAAMiC,eAAqD,IAApCzB,KAAKR,MAAMiC,cAAcC,SACrDH,EAAwB,GAIxB,cAAC,IAAD,CAASI,KAAM,CACXC,SAAU,CACN,CACIC,MAAO,UACPF,KAAM3B,KAAKR,MAAMsC,QAAQC,WACzBC,qBAAsBZ,EACtBa,UAAU,EACVC,gBAAiBnB,EACjBoB,YAAavB,EACbwB,YAAa,EACbrC,YAAaC,KAAKH,MAAME,YACxBsC,eAAgBrC,KAAKH,MAAMC,UAC3BwC,YAAatC,KAAKH,MAAME,YAAc,EACtCwC,SAAUvC,KAAKR,MAAMS,WAEzB,CACI4B,MAAO,sBACPF,KAAM3B,KAAKR,MAAMiC,cACjBQ,UAAU,EACVC,gBAAiBf,EACjBgB,YAAalB,EACbmB,YAAa,EACbrC,YAAawB,EACbe,YAAaf,EAAwB,EACrCgB,UAAU,EACVC,WAAY,CAAC,GAAI,GACjBlB,KAAM,KAGfmB,QAAS,CACRC,qBAAqB,EACrBC,YAAa,IACbC,YAAY,EACZC,UAAW,CACPC,SAAU,GAEdC,OAAQ,CACJC,EAAG,CACCC,KAAM,CACFC,MAAO3C,GAEX4C,MAAO,CACHD,MAAO3C,EACP6C,SAAU,IAEdC,IAAK,EACLC,IAAK,IACLC,MAAO,CACH7C,KAAM,sBACN8C,SAAS,EACTN,MAAO3C,EACPkD,KAAM,CACFC,KAAM,SAIlBC,EAAG,CACCV,KAAM,CACFC,MAAO3C,GAEX4C,MAAO,CACHD,MAAO3C,EACP6C,SAAU,IAEdC,IAAK,EACLC,IAAKtD,KAAKR,MAAMoE,QAChBL,MAAO,CACH7C,KAAM,iBACN8C,SAAS,EACTN,MAAO3C,EACPkD,KAAM,CACFC,KAAM,UAMtBG,QAAS,CACLtB,SAAU,CACNuB,MAAO,EACPC,OAAO,EACPC,OAAQ,SAAC7D,EAAGC,EAAcC,EAAOC,GAAzB,OAAmC,EAAKX,KAAKQ,EAAGC,EAAcC,EAAOC,IAC7E2D,YAAa,SAAC9D,EAAGC,EAAcC,EAAOC,GAAzB,OAAmC,EAAKb,UAAUU,EAAGC,EAAcC,EAAOC,IACvF4D,UAAW,SAAC/D,EAAGC,EAAcC,EAAOC,GAAzB,OAAmC,EAAKV,QAAQO,EAAGC,EAAcC,EAAOC,KAEvF6D,KAAM,CACFC,MAAO,CACHC,SAAS,GAEbC,MAAO,CACHD,SAAS,GAEbE,KAAM,MAEVC,QAAS,CACLC,OAAQ,QACRC,OAAQ,SACRC,eAAe,EACfC,aAAc,GACdC,UAAW,GACXC,YAAa,IAEjBC,OAAQ,CACJvB,SAAS,GAEbD,MAAO,CACHC,SAAS,EACTN,MAAO,QACP8B,UAAU,EACVC,SAAU,SACVC,MAAO,QACPxE,KAAMV,KAAKR,MAAMsC,QAAQqD,KACzBC,QAAS,CACLC,IAAK,EACLC,OAAQ,GAEZ7B,KAAM,CACFC,KAAM,a,GArKZ6B,aA8KPC,gBAAUjG,I,2XC3JnBkG,E,kDACJ,WAAYjG,GAAQ,IAAD,8BACjB,cAAMA,IACDK,MAAQ,CACX6F,UAAU,EACV7E,QAAS,UACTK,UAAW,UACXyE,QAAQ,EACRC,eAAe,EACfC,SAAU,GACVC,eAAgB,UAChBC,QAAsC,cAA7BC,OAAOC,SAASC,UAAyD,cAA7BF,OAAOC,SAASC,UAEvE,EAAKC,eAAiB,EAAKA,eAAezG,KAApB,gBACtB,EAAK0G,gBAAkB,EAAKA,gBAAgB1G,KAArB,gBACvB,EAAK2G,kBAAoB,EAAKA,kBAAkB3G,KAAvB,gBACzB,EAAK4G,gBAAkB,EAAKA,gBAAgB5G,KAArB,gBACvB,EAAK6G,QAAU,EAAKA,QAAQ7G,KAAb,gBACf,EAAK8G,oBAAsB,EAAKA,oBAAoB9G,KAAzB,gBAC3B,EAAK+G,eAAiB,EAAKA,eAAe/G,KAApB,gBACtB,EAAKgH,oBAAsB,EAAKA,oBAAoBhH,KAAzB,gBAnBV,E,2CAsBnB,SAAQiH,GACR,OAAO,YAAI,IAAIC,WAAWD,IACvBE,KAAI,SAAAlD,GAAC,OAAIA,EAAEmD,SAAS,IAAIC,SAAS,EAAG,QACpCC,KAAK,M,+BAGR,WAAqB,IAAD,OACqB,SAAnCC,aAAaC,QAAQ,WACvBlH,KAAKE,SAAS,CAAEyF,QAAQ,IAE1B3F,KAAKsG,kBAELa,IAAOC,GAAG,qBAAqB,SAACC,GAC9B,EAAKnH,SAAS,CACZwF,SAAU2B,EAAQC,UAClBzG,QAASwG,EAAQE,cACjBrG,UAAWmG,EAAQG,uB,6BAKzB,WAAmB,IAAD,OAChBC,MAAM,4BACHC,MAAK,SAAAC,GAAQ,OAAIA,EAASC,UAC1BF,MAAK,SAAAG,GACJ,EAAK3H,SAAS,CAAEwF,SAAUmC,EAAOP,UAAWzG,QAASgH,EAAON,cAAerG,UAAW2G,EAAOL,uB,kCAKnG,WACEL,IAAOW,IAAI,qBACXX,IAAOY,e,4BAGT,SAAeC,GACTA,EACFhI,KAAKE,SAAS,CAAEwF,UAAU,IAE1B1F,KAAKE,SAAS,CAAEwF,UAAU,M,6BAI9B,SAAgBxC,GACdlD,KAAKE,SAAS,CAAEW,QAASqC,M,+BAG3B,SAAkBA,GAChBlD,KAAKE,SAAS,CAAEgB,UAAWgC,M,qBAG7B,c,iCASA,SAAoB/C,GAClBH,KAAKE,SAAS,CAAE2F,SAAU1F,EAAE8H,OAAO3H,U,iCAGrC,SAAoB4H,GAClB,GAAe,WAAXA,EACgC,SAA9BlI,KAAKH,MAAMiG,gBAA2D,UAA9B9F,KAAKH,MAAMiG,eACrD9F,KAAKE,SAAS,CAAE4F,eAAgB,YAEhC9F,KAAKE,SAAS,CAAE4F,eAAgB,cAE7B,GAAe,YAAXoC,EACyB,SAA9BlI,KAAKH,MAAMiG,gBAA2D,UAA9B9F,KAAKH,MAAMiG,eACrD9F,KAAKE,SAAS,CAAE4F,eAAgB,YAEhC9F,KAAKE,SAAS,CAAE4F,eAAgB,cAE7B,CACL,IAAIqC,EAAenI,KAAKH,MAAMgG,SAC9B,GAAe,WAAXqC,EACFC,EAAeA,EAAaC,UAAU,EAAGD,EAAazG,OAAS,QAC1D,GAAe,YAAXwG,EACTC,GAAgB,QACX,IAAe,YAAXD,EAET,YADAlI,KAAKyG,iBAGU,UAAXyB,IACFC,GAAgBD,GAGpBlI,KAAKE,SAAS,CAAE2F,SAAUsC,IACQ,UAA9BnI,KAAKH,MAAMiG,gBACb9F,KAAKE,SAAS,CAAE4F,eAAgB,e,4BAKtC,WAAkB,IAAD,OACfE,OAAOqC,OAAOC,OAAOC,OAAO,UAAWC,EAAOC,KAAKzI,KAAKH,MAAMgG,WAAW6B,MAAK,SAACa,GAC7EG,IAAMC,KAAK,sBAAuB,CAAEC,OAAQ,EAAKC,QAAQN,KACtDb,MAAK,SAAAoB,GACoB,MAApBA,EAAInH,KAAKoH,QACX,EAAK7I,SAAS,CAAEyF,QAAQ,EAAOE,SAAU,GAAID,eAAe,IAC5DqB,aAAa+B,QAAQ,SAAU,UACF,MAApBF,EAAInH,KAAKoH,QAClB,EAAK7I,SAAS,CAAE0F,eAAe,EAAMC,SAAU,a,oBAOzD,WACE,IAAIoD,EAAY,OACXjJ,KAAKH,MAAM6F,WACduD,EAAY,SAEd,IAAMzI,EAAQ0I,YAAY,CACxBzI,QAAS,CACP0I,KAAMF,EACNpI,QAAS,CACPC,KAAMd,KAAKH,MAAMgB,SAEnBK,UAAW,CACTJ,KAAMd,KAAKH,MAAMqB,cAMvB,OACE,eAAC,IAAD,CAAeV,MAAOA,EAAtB,UAEE,cAAC,IAAD,CACE4I,QAAS,MACTC,OAAQrJ,KAAKuG,QACb+C,SAAU,MAEZ,cAAC,IAAD,IACA,eAAC,IAAD,CAAQC,KAAMvJ,KAAKH,MAAM8F,OAAQ6D,WAAW,EAA5C,UACE,cAAC,IAAD,UACE,cAAC,IAAD,CAAYtE,MAAM,SAAlB,mDAIF,cAAC,IAAD,UACE,cAAC,IAAD,CAAMuE,WAAS,EAACC,eAAe,SAA/B,SACE,cAAC,IAAD,CACEC,MAAO3J,KAAKH,MAAM+F,cAClBgE,SAAU5J,KAAKwG,oBACflG,MAAON,KAAKH,MAAMgG,SAClBsD,KAAK,WACLU,WAAY,CACVC,aAAc,eACdC,KAAM,CACJD,aAAc,cAMxB,cAAC,IAAD,UACE,cAAC,IAAD,CAAQ5G,MAAM,UAAU8G,QAAQ,UAAUC,QAASjK,KAAKyG,eAAxD,qBAEF,cAAC,IAAD,CACEjG,MAAqB,SAAdyI,EAAuB,gBAAkB,mBAChDiB,WAAYlK,KAAKH,MAAMiG,eACvBqE,OAAQ,CACNC,QAAS,CACP,mCACA,mCACA,uCACA,sCACA,WAEFC,MAAO,CACL,mCACA,kCACA,uCACA,sCACA,WAEFC,KAAM,CACJ,mCACA,kCACA,uCACA,sCACA,YAGJC,WAAYvK,KAAK0G,yBAIrB,cAAC,IAAD,UACE,cAAC,IAAc8D,SAAf,CAAwBlK,MAAO6G,IAA/B,SAEE,eAAC,IAAD,WAEE,cAAC,IAAD,CAAOsD,OAAK,EAACC,KAAK,IAAlB,SACE,cAAC,IAAD,MAEF,cAAC,IAAD,CAAOA,KAAK,eAAZ,SACE,cAAC,IAAD,MAEF,cAAC,IAAD,CAAOA,KAAK,eAAZ,SACE,cAAC,IAAD,MAEF,cAAC,IAAD,CAAOA,KAAK,YAAZ,SACE,cAAC,IAAD,CACEvE,eAAgBnG,KAAKmG,eACrBC,gBAAiBpG,KAAKoG,gBACtBC,kBAAmBrG,KAAKqG,kBACxBxF,QAASb,KAAKH,MAAMgB,QACpBK,UAAWlB,KAAKH,MAAMqB,UACtBwE,SAAU1F,KAAKH,MAAM6F,aAGzB,cAAC,IAAD,CAAOiF,UAAWC,oB,GAlPdrF,e,0WCNZsF,E,kDACJ,WAAYrL,GAAQ,IAAD,8BACjB,cAAMA,IAgDRsL,MAAQ,CACN,CACEjJ,MAAO,SAET,CACEA,MAAO,UACPkJ,YAAa,IAEf,CACElJ,MAAO,cACPkJ,YAAa,IAEf,CACElJ,MAAO,OACPkJ,YAAa,IAEf,CACElJ,MAAO,UACPkJ,YAAa,KAnEE,EAuEnBC,YAAcC,YAAW,CACvBC,KAAM,CACJhJ,gBAAiB,UACjB,UAAW,CACTA,gBAAiB,aAJT+I,CAOXE,KA9EgB,EAgFnBC,WAAaH,YAAW,CACtBC,KAAM,CACJhJ,gBAAiB,UACjB,UAAW,CACTA,gBAAiB,aAJV+I,CAOVE,KArFD,EAAKE,WAAa,EAAKA,WAAW3L,KAAhB,gBAClB,EAAK4L,gBAAkB,EAAKA,gBAAgB5L,KAArB,gBACvB,EAAK6L,KAAO,EAAKA,KAAK7L,KAAV,gBACZ,EAAK8L,cAAgB,EAAKA,cAAc9L,KAAnB,gBACrB,EAAK+L,mBAAqB,EAAKA,mBAAmB/L,KAAxB,gBAC1B,EAAKG,MAAS,CACZ6L,eAAgB,CACd,KAAQ,OACR,aAAgB,EAChB,SAAY,EACZ,WAAc,CACZ,CACE,EAAK,EACL,EAAK,IAEP,CACE,EAAK,GACL,EAAK,IAEP,CACE,EAAK,IACL,EAAK,IAEP,CACE,EAAK,IACL,EAAK,IAEP,CACE,EAAK,IACL,EAAK,IAEP,CACE,EAAK,IACL,EAAK,MAIXC,oBAAqB,GACrBC,YAAa,EACb7C,OAAQ,QACR8C,WAAY,EACZC,wBAAwB,EACxBC,eAAe,GA5CA,E,qDAyFnB,WAAqB,IAAD,OAClBtE,MAAM,wBACHC,MAAK,SAAAC,GAAQ,OAAIA,EAASC,UAC1BF,MAAK,SAAAG,GACJ,EAAK3H,SAAS,CAAEwL,eAAgB7D,EAAOmE,qBAE3C7E,IAAOC,GAAG,iBAAiB,SAACC,GAC1B,EAAKnH,SAAS,CACZwL,eAAgBrE,EAAQ2E,gBACxBL,oBAAqBtE,EAAQ4E,qBAC7BlD,OAAQ1B,EAAQ0B,SAEQ,UAAtB,EAAKlJ,MAAMkJ,OACb,EAAK7I,SAAS,CAAE2L,WAAY,IACG,YAAtB,EAAKhM,MAAMkJ,OACpB,EAAK7I,SAAS,CAAE2L,WAAY,IACG,YAAtB,EAAKhM,MAAMkJ,OACpB,EAAK7I,SAAS,CAAE2L,WAAY,IACG,SAAtB,EAAKhM,MAAMkJ,OACpB,EAAK7I,SAAS,CAAE2L,WAAY,IACG,YAAtB,EAAKhM,MAAMkJ,QACpB,EAAK7I,SAAS,CAAE2L,WAAY,OAGhC1E,IAAOC,GAAG,kBAAkB,SAACC,GAC3B,EAAKnH,SAAS,CACZ6L,eAAe,S,mCAMrB,SAAsBG,GACpB,OAAO,I,kCAGT,WACE/E,IAAOW,IAAI,iBACXX,IAAOW,IAAI,oB,wBAGb,WAAc,IAAD,OACTY,IAAMC,KAAK,WAAY,CAAEwD,UAAU,IAChCzE,MAAK,SAAAoB,GACoB,MAApBA,EAAInH,KAAKoH,OACX,EAAK7I,SAAS,CAAE6I,OAAQ,YACK,MAApBD,EAAInH,KAAKoH,QAClB,EAAK7I,SAAS,CAAE4L,wBAAwB,S,6BAKlD,WAAmB,IAAD,OAChBpD,IAAMC,KAAK,WAAY,CAAEwD,UAAU,IAChCzE,MAAK,SAAAoB,GACoB,MAApBA,EAAInH,KAAKoH,QACX,EAAK7I,SAAS,CAAE6I,OAAQ,UAAW+C,wBAAwB,S,kBAKnE,WAAQ,IAAD,OACLpD,IAAMC,KAAK,YAAa,CAAEyD,OAAQ,SAC/B1E,MAAK,SAAAoB,GACoB,MAApBA,EAAInH,KAAKoH,QACX,EAAK7I,SAAS,CAAE6I,OAAQ,e,2BAKhC,WACE/I,KAAKE,SAAS,CAAE4L,wBAAwB,M,gCAG1C,WACE9L,KAAKE,SAAS,CAAE6L,eAAe,M,oBAGjC,WACE,IACIM,EAMJ,OAJEA,EAHsC,YAAtBrM,KAAKH,MAAMkJ,QAA8C,YAAtB/I,KAAKH,MAAMkJ,QAA8C,SAAtB/I,KAAKH,MAAMkJ,OAG/E,mBAAMqC,WAAN,CAAiBnB,QAASjK,KAAKuL,KAAMe,UAAW,cAAC,IAAD,IAActC,QAAQ,YAAY9G,MAAM,UAAxF,kBAEA,mBAAM8H,YAAN,CAAkBf,QAASjK,KAAKqL,WAAYiB,UAAW,cAAC,IAAD,IAAmBtC,QAAQ,YAAY9G,MAAM,UAApG,mBAGlB,qCACE,cAAC,IAAD,IAEA,eAAC,IAAD,CAAQqG,KAAMvJ,KAAKH,MAAMiM,uBAAwBS,QAASvM,KAAKwL,cAAegB,SAAS,KAAKhD,WAAS,EAArG,UACE,cAAC,IAAD,iCAGA,cAAC,IAAD,oCAGA,eAAC,IAAD,WACE,cAAC,IAAD,CAAQS,QAASjK,KAAKwL,cAAetI,MAAM,UAAU8G,QAAQ,YAA7D,oBAGA,cAAC,IAAD,CAAQC,QAASjK,KAAKsL,gBAAiBpI,MAAM,UAAU8G,QAAQ,YAA/D,gCAMJ,eAAC,IAAD,CAAQT,KAAMvJ,KAAKH,MAAMkM,cAAeQ,QAASvM,KAAKyL,mBAAoBe,SAAS,KAAKhD,WAAS,EAAjG,UACE,cAAC,IAAD,8BAGA,cAAC,IAAD,qCAGA,cAAC,IAAD,UACE,cAAC,IAAD,CAAQS,QAASjK,KAAKyL,mBAAoBvI,MAAM,UAAU8G,QAAQ,YAAlE,qBAMJ,eAAC,IAAD,CAAWwC,UAAU,EAArB,UAEE,eAAC,IAAD,CAAM/C,WAAS,EAAf,UACE,cAAC,IAAD,CAAQgD,QAAM,EAAd,SACE,cAAC,IAAD,CAAMC,MAAI,EAACC,GAAI,EAAf,SACE,cAAC,IAAD,CAAKC,GAAI,CAAEC,WAAY,IAAvB,SACE,cAAC,IAAD,UACE,cAAC,IAAD,CAAShB,WAAY7L,KAAKH,MAAMgM,WAAYiB,YAAY,WAAWC,QAAQ,EAA3E,SACG/M,KAAK8K,MAAMjE,KAAI,SAACmG,EAAM3M,GAAP,OACd,cAAC,IAAD,UACE,cAAC,IAAD,UACE,cAAC,IAAD,CAAY2J,QAAQ,YAAY9E,MAAM,OAAtC,SACG8H,EAAKnL,WAHDmL,EAAKnL,oBAe5B,cAAC,IAAD,CAAM6K,MAAI,EAACC,GAAI,GAAf,SACE,qBAAKM,MAAO,CAAEJ,WAAY,OAAQK,MAAO,MAAOC,OAAQ,aAAcC,SAAU,KAAhF,SACE,eAAC,IAAD,WACE,cAAC,IAAD,CAAQC,QAAM,EAAd,SACE,cAAC,IAAD,CAAYnI,MAAM,SAAS8E,QAAQ,KAAnC,SACE,4BAAIhK,KAAKH,MAAM6L,eAAevG,WAGlC,qBAAK8H,MAAO,CAAC7H,QAAS,wBAAtB,SACE,cAAC,IAAD,CAASnF,WAAW,EAAO6B,QAAS9B,KAAKH,MAAM6L,eAAgBjK,cAAezB,KAAKH,MAAM8L,kCAOnG,eAAC,IAAD,CAAMlC,WAAS,EAAC6D,QAAS,EAAGC,WAAW,SAAS7D,eAAe,gBAAgBuD,MAAO,CAAEJ,WAAY,QAApG,UACE,cAAC,IAAD,CAAMH,MAAI,EAACc,GAAI,EAAf,SACE,cAAC,IAAD,CAAQC,MAAI,EAAZ,SACE,cAAC,IAAD,CAAOR,MAAO,CAAE7H,QAAS,mBAAoBgI,SAAU,KAAvD,SACE,eAAC,IAAD,CAAYM,QAAM,EAACT,MAAO,CAACC,MAAO,KAAlC,sBACYlN,KAAKH,MAAM6L,eAAevG,cAO5C,cAAC,IAAD,CAAMuH,MAAI,EAAV,SACE,eAAC,IAAD,CAAMjD,WAAS,EAAC6D,QAAS,EAAzB,UACE,cAAC,IAAD,CAAMZ,MAAI,EAAV,SACE,cAAC,IAAD,CAAQ/B,UAAWgD,IAAMC,GAAI,CAAEC,SAAU,gBAAkBvB,UAAW,cAAC,IAAD,IAAiBtC,QAAQ,YAAY9G,MAAM,UAAjH,4BAEF,cAAC,IAAD,CAAMwJ,MAAI,EAAV,SACE,cAAC,IAAD,CAAQ/B,UAAWgD,IAAMC,GAAI,CAAEC,SAAU,eAAgBhO,MAAO,CAAEiC,QAAS9B,KAAKH,MAAM6L,eAAgBoC,YAAa9N,KAAKH,MAAM8L,sBAAyBW,UAAW,cAAC,IAAD,IAActC,QAAQ,YAAY9G,MAAM,UAA1M,oBAEF,cAAC,IAAD,CAAMwJ,MAAI,EAAV,SACGL,sB,GAhRA9G,aA2RJsF,O,gZC9RTkD,E,kDACJ,aAAe,IAAD,uBACZ,gBA4BFC,aAAe/C,YAAW,CACxBC,KAAM,CACJhJ,gBAAiB,UACjB,UAAW,CACTA,gBAAiB,aAJR+I,CAOZE,KApCW,EAsCd8C,aAAehD,YAAW,CACxBC,KAAM,CACJhJ,gBAAiB,UACjB,UAAW,CACTA,gBAAiB,aAJR+I,CAOZE,KA7CW,EA+Cd+C,QAAU,CACR,CACEC,MAAO,OACPC,WAAY,eACZlB,MAAO,KAET,CACEiB,MAAO,WACPC,WAAY,cACZjF,KAAM,WACN+D,MAAO,IACPmB,UAAU,EACVC,eAAgB,SAACC,GACf,OAAqB,IAAjBA,EAAOjO,MACF,QAEA,IAAIkO,KAAKD,EAAOjO,OAAOmO,mBAIpC,CACEN,MAAO,eACPC,WAAY,eACZjF,KAAM,WACN+D,MAAO,IACPmB,UAAU,EACVC,eAAgB,SAACC,GACf,OAAqB,IAAjBA,EAAOjO,MACF,MAEA,IAAIkO,KAAKD,EAAOjO,OAAOmO,mBAIpC,CACEN,MAAO,aACPC,WAAY,UACZlB,MAAO,IACPoB,eAAgB,SAACC,GACf,OAAKA,EAAOjO,OAGW,IAAjBiO,EAAOjO,MACF,WADT,EAFO,MArFb,IAAIyF,GAAU,EAFF,MAGqB,cAA7BC,OAAOC,SAASC,UAAyD,cAA7BF,OAAOC,SAASC,UAAyD,KAA7BF,OAAOC,SAASC,WAC1GH,GAAU,GAEZ,EAAKlG,MAAS,CACZ6O,SAAU,GACVC,WAAY,GACZC,QAAQ,EACRC,iBAAiB,EACjBC,qBAAsB/I,EACtBgJ,cAAc,EACdC,iBAAkB,GAClBC,wBAAwB,GAE1B,EAAKC,YAAc,EAAKA,YAAYxP,KAAjB,gBACnB,EAAKyP,iBAAmB,EAAKA,iBAAiBzP,KAAtB,gBACxB,EAAK0P,gBAAkB,EAAKA,gBAAgB1P,KAArB,gBACvB,EAAK2P,kBAAoB,EAAKA,kBAAkB3P,KAAvB,gBACzB,EAAK4P,gBAAkB,EAAKA,gBAAgB5P,KAArB,gBACvB,EAAK6P,YAAc,EAAKA,YAAY7P,KAAjB,gBACnB,EAAK8P,uBAAyB,EAAKA,uBAAuB9P,KAA5B,gBAC9B,EAAK+P,wBAA0B,EAAKA,wBAAwB/P,KAA7B,gBAC/B,EAAKgQ,cAAgB,EAAKA,cAAchQ,KAAnB,gBACrB,EAAKiQ,cAAgB,EAAKA,cAAcjQ,KAAnB,gBACrB,EAAKkQ,sBAAwB,EAAKA,sBAAsBlQ,KAA3B,gBA1BjB,E,mDAkGd,SAAgBS,GACdH,KAAKE,SAAS,CAAEyO,WAAYxO,EAAE0P,MAC9B7P,KAAKE,SAAS,CAAE0O,QAAQ,M,+BAG1B,WACE5O,KAAKE,SAAS,CAAE0O,QAAQ,M,oCAG1B,WACE5O,KAAKE,SAAS,CAAE2O,iBAAiB,M,qCAGnC,WACE7O,KAAKE,SAAS,CAAE6O,cAAc,M,+BAGhC,WACE/O,KAAK8P,Y,qBAGP,WAAW,IAAD,OACRrI,MAAM,4BACHC,MAAK,SAAAC,GAAQ,OAAIA,EAASC,UAC1BF,MAAK,SAAAG,GACJA,EAAOkI,SAAQ,SAAAC,GACbA,EAAO,GAASA,EAAQ7K,QAE1B,EAAKjF,SAAS,CAAEwO,SAAU7G,S,yBAIhC,WAAe,IAAD,OACZa,IAAMC,KAAK,4BAA6B,CAAEsH,aAAcjQ,KAAKH,MAAM8O,WAAWxJ,KAAM+K,YAAY,IAC7FxI,MAAK,SAAAoB,GAEJ,GAAwB,MAApBA,EAAInH,KAAKoH,OAAgB,CAE3B,IAAQoH,EAAY,EAAK3Q,MAAjB2Q,QACJA,GAASA,EAAQC,KAAK,UAEC,MAApBtH,EAAInH,KAAKoH,SAChBsH,QAAQC,IAAI,WACZ,EAAKpQ,SAAS,CAAE2O,iBAAiB,U,8BAKzC,WAAoB,IAAD,OACjBnG,IAAMC,KAAK,4BAA6B,CAAEsH,aAAcjQ,KAAKH,MAAM8O,WAAWxJ,KAAM+K,YAAY,IAC7FxI,MAAK,SAAAoB,GAEJ,GAAwB,MAApBA,EAAInH,KAAKoH,OAAgB,CAE3B,IAAQoH,EAAY,EAAK3Q,MAAjB2Q,QACJA,GAASA,EAAQC,KAAK,W,6BAKlC,WACE,IAAIG,EAAsBvQ,KAAKH,MAAM8O,kBAC9B4B,EAAmB,UACnBA,EAAmB,WAC1B,IAAIC,EAAO,IAAIC,KAAK,CAACC,KAAKC,UAAUJ,EAAqB,KAAM,IAAK,CAAEpH,KAAM,6BAC5EyH,IAAUC,OAAOL,EAAMD,EAAoBpL,KAAO,W,yBAGpD,SAAYhF,GAAI,IAAD,OACP2Q,EAAa,IAAIC,WACvBD,EAAWE,WAAW7Q,EAAE8H,OAAOgJ,MAAM,GAAI,SACzCH,EAAWI,OAAS,SAAC/Q,GACnB,IAAIgR,EAAeT,KAAKU,MAAMjR,EAAE8H,OAAOJ,QACvCa,IAAMC,KAAK,4BAA6BwI,GACrCzJ,MAAK,SAAAoB,GACoB,MAApBA,EAAInH,KAAKoH,OACX,EAAK+G,UAEL,EAAK5P,SAAS,CAAE8O,iBAAkBlG,EAAInH,KAAK0F,QAAS4H,wBAAwB,U,2BAMtF,WAAiB,IAAD,OACdvG,IAAMC,KAAK,8BAA+B,CAAEsH,aAAcjQ,KAAKH,MAAM8O,WAAWxJ,OAC7EuC,MAAK,SAAAoB,GACJ,EAAKgH,UACL,EAAK5P,SAAS,CAAE6O,cAAc,EAAOH,QAAQ,S,2BAInD,WACE5O,KAAKE,SAAS,CAAE6O,cAAc,M,mCAGhC,WACE/O,KAAKE,SAAS,CAAE+O,wBAAwB,M,oBAG1C,WACE,IAAIoC,EAAe,mBAAMpD,aAAN,CAAmB3B,UAAW,cAAC,IAAD,IAAgBtC,QAAQ,YAAY9G,MAAM,UAAU+G,QAASjK,KAAK0P,cAAhG,oBACf4B,EAAiB,cAAC,IAAD,CAAQhF,UAAW,cAAC,IAAD,IAAiBtC,QAAQ,YAAY9G,MAAM,UAAU+G,QAASjK,KAAKsP,gBAAtF,sBASrB,OARItP,KAAKH,MAAM8O,YACT3O,KAAKH,MAAM8O,WAAW4C,eAAe,gBACE,IAArCvR,KAAKH,MAAM8O,WAAW6C,aACxBH,EAAe,8BAMnB,qCACE,cAAC,IAAD,IACA,eAAC,IAAD,CAAQ9E,QAASvM,KAAKqP,kBAAmB9F,KAAMvJ,KAAKH,MAAM+O,OAAQpC,SAAS,KAAKhD,WAAS,EAAzF,UACE,cAAC,IAAD,UACE,eAAC,IAAD,CAAMC,WAAS,EAACC,eAAe,gBAA/B,UACE,cAAC,IAAD,CAAMgD,MAAI,EAAV,SACE,cAAC,IAAD,CAAYgB,QAAM,EAACT,MAAO,CAACC,MAAO,IAAKL,WAAY,IAAnD,SACG7M,KAAKH,MAAM8O,WAAWxJ,SAG3B,cAAC,IAAD,CAAMuH,MAAI,EAAV,SACE,cAAC,IAAD,CAAY+E,aAAW,QAAQxH,QAASjK,KAAKqP,kBAA7C,SACE,cAAC,IAAD,aAKR,cAAC,IAAD,UACE,cAAC,IAAD,CAAM5F,WAAS,EAACC,eAAe,SAA/B,SACE,cAAC,IAAD,CAAKwD,MAAM,MAAMK,WAAW,SAA5B,SACE,cAAC,IAAD,CAAStN,WAAW,EAAO6B,QAAS9B,KAAKH,MAAM8O,WAAYlN,cAAe,WAIhF,cAAC,IAAD,UACE,eAAC,IAAD,CAAMgI,WAAS,EAACC,eAAe,gBAA/B,UACE,cAAC,IAAD,CAAMgD,MAAI,EAAV,SACG2E,IAEH,cAAC,IAAD,CAAM3E,MAAI,EAAV,SACE,eAAC,IAAD,CAAMjD,WAAS,EAAC6D,QAAS,EAAzB,UACE,cAAC,IAAD,CAAMZ,MAAI,EAAV,SACG1M,KAAKH,MAAMiP,qBAAuBwC,IAErC,cAAC,IAAD,CAAM5E,MAAI,EAAV,SACE,cAAC,IAAD,CAAQ/B,UAAWgD,IAAMC,GAAI,CAAEC,SAAU,eAAgBhO,MAAO,CAAEiC,QAAS9B,KAAKH,MAAM8O,aAAgBrC,UAAW,cAAC,IAAD,IAActC,QAAQ,YAAY9G,MAAM,UAAzJ,oBAEF,cAAC,IAAD,CAAMwJ,MAAI,EAAV,SACE,mBAAMsB,aAAN,CAAmB/D,QAASjK,KAAKkP,YAAa5C,UAAW,cAAC,IAAD,IAActC,QAAQ,YAAY9G,MAAM,UAAjG,iCAQZ,eAAC,IAAD,CAAQqG,KAAMvJ,KAAKH,MAAMgP,gBAAzB,UACE,cAAC,IAAD,qCAGA,cAAC,IAAD,0CAGA,eAAC,IAAD,WACE,cAAC,IAAD,CAAQ5E,QAASjK,KAAKwP,uBAAwBtM,MAAM,UAAU8G,QAAQ,YAAtE,oBAGA,cAAC,IAAD,CAAQC,QAASjK,KAAKmP,iBAAkBjM,MAAM,UAAU8G,QAAQ,YAAhE,8BAMJ,eAAC,IAAD,CAAQT,KAAMvJ,KAAKH,MAAMkP,aAAcxC,QAASvM,KAAKyP,wBAArD,UACE,cAAC,IAAD,6BAGA,eAAC,IAAD,+CACoCzP,KAAKH,MAAM8O,WAAWxJ,KAD1D,QAGA,eAAC,IAAD,WACE,cAAC,IAAD,CAAQ8E,QAASjK,KAAKyP,wBAAyBvM,MAAM,UAAU8G,QAAQ,YAAvE,oBAGA,cAAC,IAAD,CAAQC,QAASjK,KAAK2P,cAAezM,MAAM,UAAU8G,QAAQ,YAA7D,uBAMJ,eAAC,IAAD,CAAQT,KAAMvJ,KAAKH,MAAMoP,uBAAwB1C,QAASvM,KAAK4P,sBAA/D,UACE,cAAC,IAAD,mCAGA,cAAC,IAAD,UACG5P,KAAKH,MAAMmP,mBAEd,cAAC,IAAD,UACE,cAAC,IAAD,CAAQ/E,QAASjK,KAAK4P,sBAAuB1M,MAAM,UAAU8G,QAAQ,YAArE,qBAOJ,cAAC,IAAD,CAAWwC,UAAU,EAArB,SACE,qBAAKS,MAAO,CAAEyE,OAAQ1L,OAAO2L,YAAc,IAAKC,cAAe,GAAI/E,WAAY,IAA/E,SACE,cAAC,IAAD,CACEgF,KAAM7R,KAAKH,MAAM6O,SACjBoD,UAAW,GACX5D,QAASlO,KAAKkO,QACd6D,YAAY,EACZC,cAAY,EACZC,mBAAmB,EACnBC,0BAA0B,EAC1BC,WAAYnS,KAAKoP,gBACjBgD,aAAc,CAAC,OAAQ,MAAO,MAC9BC,UAAW,CAAC,CAAElE,MAAO,aAAcmE,KAAM,eAK/C,cAAC,IAAD,CAAW9F,UAAU,EAArB,SACE,eAAC,IAAD,CAAM/C,WAAS,EAAC6D,QAAS,EAAG5D,eAAe,WAA3C,UACE,cAAC,IAAD,CAAMgD,MAAI,EAAV,SACE,cAAC,IAAD,CAAQ/B,UAAWgD,IAAMC,GAAG,IAAItB,UAAW,cAAC,IAAD,IAAgBtC,QAAQ,YAAY9G,MAAM,UAArF,sBAEDlD,KAAKH,MAAMiP,qBACV,cAAC,IAAD,CAAMpC,MAAI,EAAV,SACE,eAAC,IAAD,CAAQJ,UAAW,cAAC,IAAD,IAAiBtC,QAAQ,YAAY9G,MAAM,UAAUyH,UAAU,QAAlF,mBAAiG,uBAAOxB,KAAK,OAAOoJ,OAAO,mBAAmBC,QAAM,EAAC5I,SAAU5J,KAAKuP,mBAGxK,cAAC,IAAD,CAAM7C,MAAI,EAAV,SACE,cAAC,IAAD,CAAQ/B,UAAWgD,IAAMC,GAAI,CAC3BC,SAAU,eAAgBhO,MAAO,CAC/BiC,QAAS,CACPqD,KAAM,cACNsN,aAAcjE,KAAKkE,MACnBC,SAAU,EACV5Q,WAAY,CACV,CACE4B,EAAG,EACHX,EAAG,IAEL,CACEW,EAAG,GACHX,EAAG,IAEL,CACEW,EAAG,IACHX,EAAG,IAEL,CACEW,EAAG,IACHX,EAAG,IAEL,CACEW,EAAG,IACHX,EAAG,IAEL,CACEW,EAAG,IACHX,EAAG,QAKVsJ,UAAW,cAAC,IAAD,IAAiBtC,QAAQ,YAAY9G,MAAM,UAlCzD,sC,GA9UYqC,aA4XXqN,gBAAW7E,I,mGC1YpBnD,E,4JAGF,WACI,OACI,qCACI,cAAC,IAAD,IACA,cAAC,IAAD,CAAYZ,QAAQ,KAAK9E,MAAM,SAA/B,sD,GAPOK,aAcRqF,O,scCSTiI,E,kDACJ,WAAYrT,GAAQ,IAAD,8BACjB,cAAMA,IAEIA,MAAMyG,SAASpG,QACvB,EAAKL,MAAMyG,SAASpG,MAAQ,CAC1BiC,QAAS,CACPqD,KAAM,cACNsN,aAAcjE,KAAKkE,MACnBC,SAAU,EACV5Q,WAAY,CACV,CACE4B,EAAG,EACHX,EAAG,IAEL,CACEW,EAAG,GACHX,EAAG,IAEL,CACEW,EAAG,IACHX,EAAG,IAEL,CACEW,EAAG,IACHX,EAAG,IAEL,CACEW,EAAG,IACHX,EAAG,IAEL,CACEW,EAAG,IACHX,EAAG,QAOb,EAAKnD,MAAS,CACZiT,YAAY,EACZjE,iBAAiB,EACjBkE,iBAAiB,EACjBC,QAAS,EAAKxT,MAAMyG,SAASpG,MAAMiC,QAAQqD,KAC3C8N,cAAe,EAAKzT,MAAMyG,SAASpG,MAAMiC,QAAQC,WACjDmR,WAAY,EAAK1T,MAAMyG,SAASpG,MAAMiC,QACtCqR,SAAU,EAAK3T,MAAMyG,SAASpG,MAAMiC,QAAQC,WAAW,GAAG4B,EAC1DyP,SAAU,EAAK5T,MAAMyG,SAASpG,MAAMiC,QAAQC,WAAW,GAAGiB,EAC1DY,QAAS,IACTyP,SAAU,EACVC,aAAc,EACdC,MAAO,MACPC,aAAa,EACb1N,eAAgB,UAChBkJ,iBAAkB,GAClBC,wBAAwB,EACxBnB,YAAa,EAAKtO,MAAMyG,SAASpG,MAAMiO,aAAe,GACtD/H,QAAsC,cAA7BC,OAAOC,SAASC,UAAyD,cAA7BF,OAAOC,SAASC,UAGvE,EAAKuN,YAAc,EAAKA,YAAY/T,KAAjB,gBACnB,EAAKgU,kBAAoB,EAAKA,kBAAkBhU,KAAvB,gBACzB,EAAKiU,OAAS,EAAKA,OAAOjU,KAAZ,gBACd,EAAKwP,YAAc,EAAKA,YAAYxP,KAAjB,gBACnB,EAAKyP,iBAAmB,EAAKA,iBAAiBzP,KAAtB,gBACxB,EAAK8L,cAAgB,EAAKA,cAAc9L,KAAnB,gBACrB,EAAKkU,YAAc,EAAKA,YAAYlU,KAAjB,gBACnB,EAAKgH,oBAAsB,EAAKA,oBAAoBhH,KAAzB,gBAC3B,EAAKmU,gBAAkB,EAAKA,gBAAgBnU,KAArB,gBACvB,EAAKoU,UAAY,EAAKA,UAAUpU,KAAf,gBACjB,EAAKD,UAAY,EAAKA,UAAUC,KAAf,gBACjB,EAAKC,KAAO,EAAKA,KAAKD,KAAV,gBACZ,EAAKE,QAAU,EAAKA,QAAQF,KAAb,gBACf,EAAKqU,KAAO,EAAKA,KAAKrU,KAAV,gBACZ,EAAKsU,UAAY,EAAKA,UAAUtU,KAAf,gBACjB,EAAKuU,KAAO,EAAKA,KAAKvU,KAAV,gBACZ,EAAKwU,UAAY,EAAKA,UAAUxU,KAAf,gBACjB,EAAKyU,QAAU,EAAKA,QAAQzU,KAAb,gBACf,EAAK0U,aAAe,EAAKA,aAAa1U,KAAlB,gBACpB,EAAK2U,QAAU,EAAKA,QAAQ3U,KAAb,gBACf,EAAK4U,aAAe,EAAKA,aAAa5U,KAAlB,gBACpB,EAAK6U,mBAAqB,EAAKA,mBAAmB7U,KAAxB,gBAC1B,EAAK8U,sBAAwB,EAAKA,sBAAsB9U,KAA3B,gBAC7B,EAAKkQ,sBAAwB,EAAKA,sBAAsBlQ,KAA3B,gBAnFZ,E,yDAsFnB,SAAsBW,GACpB,GAAc,IAAVA,EACFL,KAAKE,SAAS,CAAEqT,MAAO,kBAEvB,GAAIvT,KAAKH,MAAMqT,WAAWnR,WAAW1B,EAAQ,GAAGsD,IAAM3D,KAAKH,MAAMqT,WAAWnR,WAAW1B,GAAOsD,EACxF3D,KAAKH,MAAMqT,WAAWnR,WAAW1B,EAAQ,GAAG2C,EAAIhD,KAAKH,MAAMqT,WAAWnR,WAAW1B,GAAO2C,EAC1FhD,KAAKE,SAAS,CAAEqT,MAAO,aAEvBvT,KAAKE,SAAS,CAAEqT,MAAO,kBAEpB,CACL,IAAIkB,EAAOzU,KAAKH,MAAMqT,WAAWnR,WAAW1B,EAAQ,GAAG2C,EAAIhD,KAAKH,MAAMqT,WAAWnR,WAAW1B,GAAO2C,EAC/F0R,EAAM1U,KAAKH,MAAMqT,WAAWnR,WAAW1B,EAAQ,GAAGsD,EAAI3D,KAAKH,MAAMqT,WAAWnR,WAAW1B,GAAOsD,EAClG3D,KAAKE,SAAS,CAAEqT,MAAOoB,OAAOC,WAAWH,EAAOC,GAAKG,QAAQ,Q,kBAKnE,WACE,GAAI7U,KAAKH,MAAMsT,SAAWnT,KAAKH,MAAM+D,QAAS,CAC5C,IAAIkR,EAAc9U,KAAKH,MAAMqT,WAC7B4B,EAAY/S,WAAW/B,KAAKH,MAAMyT,cAAc3P,GAAK,EACrD3D,KAAKE,SAAS,CAAEgT,WAAY4B,EAAa3B,SAAUnT,KAAKH,MAAMsT,SAAW,IACzEnT,KAAKwU,sBAAsBxU,KAAKH,MAAMyT,iB,uBAI1C,WACE,GAAItT,KAAKH,MAAMsT,SAAW,EAAG,CAC3B,IAAI2B,EAAc9U,KAAKH,MAAMqT,WAC7B4B,EAAY/S,WAAW/B,KAAKH,MAAMyT,cAAc3P,GAAK,EACrD3D,KAAKE,SAAS,CAAEgT,WAAY4B,EAAa3B,SAAUnT,KAAKH,MAAMsT,SAAW,IACzEnT,KAAKwU,sBAAsBxU,KAAKH,MAAMyT,iB,kBAI1C,WACE,GAAItT,KAAKH,MAAMuT,SAAW,IAAK,CAC7B,IAAI0B,EAAc9U,KAAKH,MAAMqT,WAC7B4B,EAAY/S,WAAW/B,KAAKH,MAAMyT,cAActQ,GAAK,EACrDhD,KAAKE,SAAS,CAAEgT,WAAY4B,EAAa1B,SAAUpT,KAAKH,MAAMuT,SAAW,IACzEpT,KAAKwU,sBAAsBxU,KAAKH,MAAMyT,iB,uBAI1C,WACE,GAAItT,KAAKH,MAAMuT,SAAW,EAAG,CAC3B,IAAI0B,EAAc9U,KAAKH,MAAMqT,WAC7B4B,EAAY/S,WAAW/B,KAAKH,MAAMyT,cAActQ,GAAK,EACrDhD,KAAKE,SAAS,CAAEgT,WAAY4B,EAAa1B,SAAUpT,KAAKH,MAAMuT,SAAW,IACzEpT,KAAKwU,sBAAsBxU,KAAKH,MAAMyT,iB,qBAI1C,WACMtT,KAAKH,MAAM+D,QAAU,KACvB5D,KAAKE,SAAS,CAAE0D,QAAS5D,KAAKH,MAAM+D,QAAU,Q,0BAIlD,WACM5D,KAAKH,MAAM+D,QAAU,GAAK5D,KAAKH,MAAM+D,QAAU,KAAO5D,KAAKH,MAAMqT,WAAWnR,WAAW/B,KAAKH,MAAMqT,WAAWnR,WAAWL,OAAS,GAAGiC,GACtI3D,KAAKE,SAAS,CAAE0D,QAAS5D,KAAKH,MAAM+D,QAAU,Q,qBAIlD,WACE,GAAI5D,KAAKH,MAAMqT,WAAWnR,WAAWL,OAAS,GAAI,CAChD,IAAIoT,EAAc9U,KAAKH,MAAMqT,WACzB6B,EAAW,GACX/U,KAAKH,MAAMyT,eAAiBtT,KAAKH,MAAMqT,WAAWnR,WAAWL,OAAS,EACpE1B,KAAKH,MAAMqT,WAAWnR,WAAW/B,KAAKH,MAAMyT,cAAc3P,GAAK3D,KAAKH,MAAM+D,QAAU,IACtFmR,EAASpR,EAAImR,EAAY/S,WAAW/B,KAAKH,MAAMyT,cAAc3P,EAAI,GACjEoR,EAAS/R,EAAI8R,EAAY/S,WAAW/B,KAAKH,MAAMyT,cAActQ,EAC7D8R,EAAY/S,WAAWiT,OAAOhV,KAAKH,MAAMyT,aAAe,EAAG,EAAGyB,GAC9D/U,KAAKE,SAAS,CAAEoT,aAActT,KAAKH,MAAMyT,aAAe,EAAGH,SAAU4B,EAASpR,EAAGyP,SAAU2B,EAAS/R,MAEpG+R,EAASpR,EAAIsR,KAAKC,OAAOJ,EAAY/S,WAAW/B,KAAKH,MAAMyT,cAAc3P,EAAImR,EAAY/S,WAAW/B,KAAKH,MAAMyT,aAAe,GAAG3P,GAAK,GACtIoR,EAAS/R,EAAIiS,KAAKC,OAAOJ,EAAY/S,WAAW/B,KAAKH,MAAMyT,cAActQ,EAAI8R,EAAY/S,WAAW/B,KAAKH,MAAMyT,aAAe,GAAGtQ,GAAK,GACtI8R,EAAY/S,WAAWiT,OAAOhV,KAAKH,MAAMyT,aAAc,EAAGyB,GAC1D/U,KAAKE,SAAS,CAAEiT,SAAU4B,EAASpR,EAAGyP,SAAU2B,EAAS/R,MAG3D+R,EAASpR,EAAIsR,KAAKC,OAAOJ,EAAY/S,WAAW/B,KAAKH,MAAMyT,cAAc3P,EAAImR,EAAY/S,WAAW/B,KAAKH,MAAMyT,aAAe,GAAG3P,GAAK,GACtIoR,EAAS/R,EAAIiS,KAAKC,OAAOJ,EAAY/S,WAAW/B,KAAKH,MAAMyT,cAActQ,EAAI8R,EAAY/S,WAAW/B,KAAKH,MAAMyT,aAAe,GAAGtQ,GAAK,GACtI8R,EAAY/S,WAAWiT,OAAOhV,KAAKH,MAAMyT,aAAe,EAAG,EAAGyB,GAC9D/U,KAAKE,SAAS,CAAEoT,aAActT,KAAKH,MAAMyT,aAAe,EAAGH,SAAU4B,EAASpR,EAAGyP,SAAU2B,EAAS/R,KAEtGhD,KAAKE,SAAS,CAAEgT,WAAY4B,EAAazB,SAAUrT,KAAKH,MAAMwT,SAAW,O,0BAK7E,WACE,GAAIrT,KAAKH,MAAMqT,WAAWnR,WAAWL,OAAS,EAAG,CAC/C,IAAIoT,EAAc9U,KAAKH,MAAMqT,WACG,IAA5BlT,KAAKH,MAAMyT,cACbwB,EAAY/S,WAAWiT,OAAOhV,KAAKH,MAAMyT,aAAc,GACvDtT,KAAKE,SAAS,CACZiT,SAAUnT,KAAKH,MAAMqT,WAAWnR,WAAW/B,KAAKH,MAAMyT,cAAc3P,EACpEyP,SAAUpT,KAAKH,MAAMqT,WAAWnR,WAAW/B,KAAKH,MAAMyT,cAActQ,IAEtEhD,KAAKwU,sBAAsBxU,KAAKH,MAAMyT,gBAEtCwB,EAAY/S,WAAWiT,OAAOhV,KAAKH,MAAMyT,aAAc,GACvDtT,KAAKE,SAAS,CACZoT,aAActT,KAAKH,MAAMyT,aAAe,EACxCH,SAAUnT,KAAKH,MAAMqT,WAAWnR,WAAW/B,KAAKH,MAAMyT,aAAe,GAAG3P,EACxEyP,SAAUpT,KAAKH,MAAMqT,WAAWnR,WAAW/B,KAAKH,MAAMyT,aAAe,GAAGtQ,IAE1EhD,KAAKwU,sBAAsBxU,KAAKH,MAAMyT,aAAe,IAEvDtT,KAAKE,SAAS,CAAEgT,WAAY4B,EAAazB,SAAUrT,KAAKH,MAAMwT,SAAW,O,uBAI7E,SAAUlT,EAAGC,EAAcC,EAAOC,GAChCN,KAAKE,SAAS,CAAEoT,aAAcjT,EAAO8S,SAAU7S,EAAMqD,EAAGyP,SAAU9S,EAAM0C,IACxEhD,KAAKwU,sBAAsBnU,K,kBAG7B,SAAKF,EAAGC,EAAcC,EAAOC,GAC3B,IAAIwU,EAAc9U,KAAKH,MAAMqT,WAC7B4B,EAAY/S,WAAW1B,GAASC,EAChCN,KAAKE,SAAS,CAAEiT,SAAU7S,EAAMqD,EAAGyP,SAAU9S,EAAM0C,EAAGkQ,WAAY4B,IAClE9U,KAAKwU,sBAAsBnU,K,qBAG7B,SAAQF,EAAGC,EAAcC,EAAOC,GAC9B,IAAIwU,EAAc9U,KAAKH,MAAMqT,WAC7B4B,EAAY/S,WAAW1B,GAASC,EAGhC,IAAK,IAAI6U,EAAI,EAAGA,EAAIL,EAAY/S,WAAWL,OAAQyT,IACjD,IAAK,IAAIC,EAAID,EAAGC,EAAIN,EAAY/S,WAAWL,OAAQ0T,IACjD,GAAIN,EAAY/S,WAAWqT,GAAGzR,EAAImR,EAAY/S,WAAWoT,GAAGxR,EAAG,CAEzDwR,IAAM9U,EACRA,EAAQ+U,EACCA,IAAM/U,IACfA,EAAQ8U,GAEV,IAAIE,EAAYP,EAAY/S,WAAWoT,GACvCL,EAAY/S,WAAWoT,GAAKL,EAAY/S,WAAWqT,GACnDN,EAAY/S,WAAWqT,GAAKC,EAIlCrV,KAAKE,SAAS,CAAEiT,SAAU7S,EAAMqD,EAAGyP,SAAU9S,EAAM0C,EAAGsQ,aAAcjT,EAAO6S,WAAY4B,IACvF9U,KAAKwU,sBAAsBnU,K,+BAG7B,SAAkBF,GAChB,IAAI2U,EAAc9U,KAAKH,MAAMqT,WAC7B4B,EAAY3P,KAAOhF,EAAE8H,OAAO3H,MAC5BN,KAAKE,SAAS,CAAEgT,WAAY4B,M,+BAG9B,WACE9U,KAAKE,SAAS,CACZ0D,QAA4G,IAAnGqR,KAAKK,KAAKtV,KAAKH,MAAMqT,WAAWnR,WAAW/B,KAAKH,MAAMqT,WAAWnR,WAAWL,OAAS,GAAGiC,EAAI,KACrG0P,SAAUrT,KAAKH,MAAMqT,WAAWnR,WAAWL,W,oBAI/C,WACE1B,KAAKR,MAAM2Q,QAAQwD,W,yBAGrB,WAAe,IAAD,OACZjL,IAAMC,KAAK,4BAA6B,CAAEsH,aAAcjQ,KAAKH,MAAMqT,WAAW/N,KAAM+K,YAAY,IAC7FxI,MAAK,SAAAoB,GAEJ,GAAwB,MAApBA,EAAInH,KAAKoH,OAAgB,CAE3B,IAAQoH,EAAY,EAAK3Q,MAAjB2Q,QACJA,GAASA,EAAQC,KAAK,UAEC,MAApBtH,EAAInH,KAAKoH,SAChB,EAAK7I,SAAS,CAAE4S,YAAY,IAC5B,EAAK5S,SAAS,CAAE2O,iBAAiB,U,8BAKzC,WAAoB,IAAD,OACjBnG,IAAMC,KAAK,4BAA6B,CAAEsH,aAAcjQ,KAAKH,MAAMqT,WAAW/N,KAAM+K,YAAY,IAC7FxI,MAAK,SAAAoB,GAEJ,GAAwB,MAApBA,EAAInH,KAAKoH,OAAgB,CAE3B,IAAQoH,EAAY,EAAK3Q,MAAjB2Q,QACJA,GAASA,EAAQC,KAAK,W,2BAKlC,WACEpQ,KAAKE,SAAS,CAAE4S,YAAY,EAAOjE,iBAAiB,M,yBAGtD,WAAe,IAAD,OACRiG,EAAc9U,KAAKH,MAAMqT,WAC7B4B,EAAYrC,aAAejE,KAAKkE,MAChCoC,EAAYnC,SAAW,EACvB3S,KAAKE,SAAS,CAAEgT,WAAY4B,IAC5BpM,IAAMC,KAAK,4BAA6B3I,KAAKH,MAAMqT,YAChDxL,MAAK,SAAAoB,GACJuH,QAAQC,IAAIxH,EAAInH,MACQ,MAApBmH,EAAInH,KAAKoH,QACX,EAAK7I,SAAS,CAAEgT,WAAYpK,EAAInH,KAAK4T,cACrC,EAAKrV,SAAS,CAAE4S,YAAY,EAAMC,iBAAiB,KAEnD,EAAK7S,SAAS,CAAC8O,iBAAkBlG,EAAInH,KAAK0F,QAAS4H,wBAAwB,S,yBAKnF,WACEjP,KAAKE,SAAS,CAAE6S,iBAAiB,M,iCAGnC,SAAoB7K,GAClB,GAAe,WAAXA,EACgC,SAA9BlI,KAAKH,MAAMiG,gBAA2D,UAA9B9F,KAAKH,MAAMiG,eACrD9F,KAAKE,SAAS,CAAE4F,eAAgB,YAEhC9F,KAAKE,SAAS,CAAE4F,eAAgB,cAE7B,GAAe,YAAXoC,EACyB,SAA9BlI,KAAKH,MAAMiG,gBAA2D,UAA9B9F,KAAKH,MAAMiG,eACrD9F,KAAKE,SAAS,CAAE4F,eAAgB,YAEhC9F,KAAKE,SAAS,CAAE4F,eAAgB,cAE7B,CACL,IAAIkN,EAAUhT,KAAKH,MAAMqT,WAAW/N,KACpC,GAAe,WAAX+C,EACF8K,EAAUA,EAAQ5K,UAAU,EAAG4K,EAAQtR,OAAS,QAC3C,GAAe,YAAXwG,EACT8K,GAAW,QACN,IAAe,YAAX9K,EAET,YADAlI,KAAKyT,cAGU,UAAXvL,IACF8K,GAAW9K,GAGf,IAAI4M,EAAc9U,KAAKH,MAAMqT,WAC7B4B,EAAY3P,KAAO6N,EACnBhT,KAAKE,SAAS,CAAEgT,WAAY4B,IACM,UAA9B9U,KAAKH,MAAMiG,gBACb9F,KAAKE,SAAS,CAAE4F,eAAgB,e,6BAKtC,WACE9F,KAAKE,SAAS,CAAE6S,iBAAiB,M,uBAGnC,WACE,IAAI+B,EAAc9U,KAAKH,MAAMqT,WAC7B4B,EAAY3P,KAAO,GACnBnF,KAAKE,SAAS,CAAEgT,WAAY4B,M,gCAG9B,SAAmB3U,GACjBH,KAAKE,SAAS,CAAEsT,YAAarT,EAAE8H,OAAOuN,Y,mCAGxC,WACExV,KAAKE,SAAS,CAAE+O,wBAAwB,M,oBAG1C,WAEE,IAAIwG,EAAW,6BACXzV,KAAKH,MAAMkG,UACb0P,EAAW,cAAC,IAAD,CACTjV,MAAyC,SAAlCR,KAAKR,MAAMgB,MAAMC,QAAQ0I,KAAkB,gBAAkB,mBACpEe,WAAYlK,KAAKH,MAAMiG,eACvBqE,OAAQ,CACNC,QAAS,CACP,mCACA,mCACA,uCACA,sCACA,WAEFC,MAAO,CACL,mCACA,kCACA,uCACA,sCACA,WAEFC,KAAM,CACJ,mCACA,kCACA,uCACA,sCACA,YAGJC,WAAYvK,KAAK0G,uBAIrB,IAAIgP,EAAgB,6BAChB1V,KAAKH,MAAMiO,YAAYpM,OAAS,IAClCgU,EACE,cAAC,IAAD,CAAMhJ,MAAI,EAAV,SACE,cAAC,IAAD,UACE,eAAC,IAAD,CAAMjD,WAAS,EAACC,eAAe,eAA/B,UACE,cAAC,IAAD,CAAMgD,MAAI,EAAV,SACE,cAAC,IAAD,CAAYO,MAAO,CAAE0I,YAAa,IAAlC,wBAEF,cAAC,IAAD,CAAMjJ,MAAI,EAAV,SACE,cAAC,IAAD,CACE8I,QAASxV,KAAKH,MAAM2T,YACpB5J,SAAU5J,KAAKuU,mBACf7Q,KAAK,QACLR,MAAM,wBAQpB,IAAI0S,EAAqB,GACrB5V,KAAKH,MAAM2T,cACboC,EAAqB5V,KAAKH,MAAMiO,aAIlC,IAAI+H,EAAgBZ,KAAKa,IAAI9V,KAAKH,MAAM+D,SAAW,IAAMqR,KAAKc,KAAK/V,KAAKH,MAAM+D,UAAaqR,KAAKa,IAAI9V,KAAKH,MAAM+D,SAAW,KAAMiR,QAAQ,GAAM,IAAMI,KAAKc,KAAK/V,KAAKH,MAAM+D,SAAWqR,KAAKa,IAAI9V,KAAKH,MAAM+D,SAGxM,OACE,qCACE,cAAC,IAAD,IACA,eAAC,IAAD,CAAQ2F,KAAMvJ,KAAKH,MAAMiT,WAAYvG,QAASvM,KAAKwL,cAAnD,UACE,cAAC,IAAD,4BAGA,cAAC,IAAD,sDAGA,eAAC,IAAD,WACE,cAAC,IAAD,CAAQvB,QAASjK,KAAKwL,cAAetI,MAAM,UAAU8G,QAAQ,YAA7D,wBAGA,cAAC,IAAD,CAAQC,QAASjK,KAAKkP,YAAahM,MAAM,UAAU8G,QAAQ,YAAYgM,WAAS,EAAhF,wBAMJ,eAAC,IAAD,CAAQzM,KAAMvJ,KAAKH,MAAMoP,uBAAwB1C,QAASvM,KAAK4P,sBAA/D,UACE,cAAC,IAAD,mCAGA,cAAC,IAAD,UACG5P,KAAKH,MAAMmP,mBAEd,cAAC,IAAD,UACE,cAAC,IAAD,CAAQ/E,QAASjK,KAAK4P,sBAAuB1M,MAAM,UAAU8G,QAAQ,YAArE,qBAMJ,eAAC,IAAD,CAAQT,KAAMvJ,KAAKH,MAAMgP,gBAAiBtC,QAASvM,KAAKwL,cAAxD,UACE,cAAC,IAAD,qCAGA,cAAC,IAAD,0CAGA,eAAC,IAAD,WACE,cAAC,IAAD,CAAQvB,QAASjK,KAAKwL,cAAetI,MAAM,UAAU8G,QAAQ,YAA7D,oBAGA,cAAC,IAAD,CAAQC,QAASjK,KAAKmP,iBAAkBjM,MAAM,UAAU8G,QAAQ,YAAYgM,WAAS,EAArF,8BAMJ,eAAC,IAAD,CAAQzM,KAAMvJ,KAAKH,MAAMkT,gBAAiBvG,SAAU,KAAMhD,WAAS,EAAC+C,QAASvM,KAAK6T,gBAAlF,UACE,cAAC,IAAD,CAAa3O,MAAM,SAAnB,gCAGA,cAAC,IAAD,UACE,cAAC,IAAD,CAAMuE,WAAS,EAACC,eAAe,SAA/B,SACE,cAAC,IAAD,CAAOE,SAAU5J,KAAK0T,kBAAmB7R,MAAM,eAAevB,MAAON,KAAKH,MAAMqT,WAAW/N,KACzF8Q,aACE,cAAC,IAAD,CAAgBhR,SAAS,MAAzB,SACE,cAAC,IAAD,CAAYgF,QAASjK,KAAK8T,UAA1B,SAAqC,cAAC,IAAD,cAM/C,eAAC,IAAD,WACE,cAAC,IAAD,CAAQ7J,QAASjK,KAAK6T,gBAAiB3Q,MAAM,UAAU8G,QAAQ,YAA/D,oBAGA,cAAC,IAAD,CAAQC,QAASjK,KAAKyT,YAAavQ,MAAM,UAAU8G,QAAQ,YAAYgM,WAAS,EAAhF,mBAIDP,KAGH,cAAC,IAAD,CAAWjJ,UAAU,EAArB,SACE,eAAC,IAAD,CAAM/C,WAAS,EAAf,UACE,cAAC,IAAD,CAAMiD,MAAI,EAACC,GAAI,EAAGuJ,GAAI,EAAtB,SAEE,cAAC,IAAD,CAAQzJ,QAAM,EAAd,SACE,eAAC,IAAD,CAAMhD,WAAS,EAAC6D,QAAS,EAAG6I,UAAU,SAASlJ,MAAO,CAAEJ,WAAY,OAApE,UACE,eAAC,IAAD,CAAMH,MAAI,EAACxH,MAAM,SAAjB,UACE,eAAC,IAAD,CAAY8E,QAAQ,KAApB,cACIhK,KAAKH,MAAMsT,SADf,KAC2BnT,KAAKH,MAAMuT,SADtC,OAGA,eAAC,IAAD,CAAYnG,MAAO,CAAEmJ,SAAU,IAA/B,UACGpW,KAAKH,MAAM0T,MADd,sBAKF,cAAC,IAAD,CAAM7G,MAAI,EAACO,MAAO,CAACG,SAAU,KAA7B,SACE,eAAC,IAAD,WACE,cAAC,IAAD,CAAMV,MAAI,EAACxH,MAAM,WAEjB,cAAC,IAAD,CAAMwH,MAAI,EAACxH,MAAM,SAAjB,SACE,cAAC,IAAD,CAAYhC,MAAM,UAAUQ,KAAK,QAAQuG,QAASjK,KAAKiU,KAAvD,SAA6D,cAAC,IAAD,QAE/D,cAAC,IAAD,CAAMvH,MAAI,EAAV,SACE,eAAC,IAAD,CAAMjD,WAAS,EAACC,eAAe,eAAe2M,KAAK,SAAnD,UACE,cAAC,IAAD,CAAM3J,MAAI,EAAV,SACE,cAAC,IAAD,CAAYxJ,MAAM,UAAUQ,KAAK,QAAQuG,QAASjK,KAAKgU,UAAvD,SAAkE,cAAC,IAAD,QAEpE,cAAC,IAAD,CAAMtH,MAAI,EAACxH,MAAM,SAAS+H,MAAO,CAAEG,SAAU,MAG7C,cAAC,IAAD,CAAMV,MAAI,EAAV,SACE,cAAC,IAAD,CAAYxJ,MAAM,UAAUQ,KAAK,QAAQuG,QAASjK,KAAK+T,KAAvD,SAA6D,cAAC,IAAD,aAKnE,cAAC,IAAD,CAAMrH,MAAI,EAACxH,MAAM,SAAjB,SACE,cAAC,IAAD,CAAYhC,MAAM,UAAUQ,KAAK,QAAQuG,QAASjK,KAAKkU,UAAvD,SAAkE,cAAC,IAAD,aAKxE,cAAC,IAAD,CAAMxH,MAAI,EAAV,SACE,eAAC,IAAD,WACE,cAAC,IAAD,CAAMA,MAAI,EAACxH,MAAM,SAAjB,SACE,cAAC,IAAD,CAAY8E,QAAQ,YAApB,qBAEF,eAAC,IAAD,CAAMP,WAAS,EAAC6D,QAAS,EAAG5D,eAAe,eAA3C,UACE,cAAC,IAAD,CAAMgD,MAAI,EAAV,SACE,cAAC,IAAD,CAAYxJ,MAAM,UAAUQ,KAAK,QAAQuG,QAASjK,KAAKsU,aAAvD,SAAqE,cAAC,IAAD,QAEvE,cAAC,IAAD,CAAM5H,MAAI,EAACxH,MAAM,SAAjB,SACE,cAAC,IAAD,CAAY8E,QAAQ,KAAKiD,MAAO,CAAEG,SAAU,IAA5C,SAAoDpN,KAAKH,MAAMwT,aAEjE,cAAC,IAAD,CAAM3G,MAAI,EAAV,SACE,cAAC,IAAD,CAAYxJ,MAAM,UAAUQ,KAAK,QAAQuG,QAASjK,KAAKqU,QAAvD,SAAgE,cAAC,IAAD,gBAMxE,cAAC,IAAD,CAAM3H,MAAI,EAAV,SACE,eAAC,IAAD,WACE,cAAC,IAAD,CAAMA,MAAI,EAACxH,MAAM,SAAjB,SACE,cAAC,IAAD,CAAY8E,QAAQ,YAApB,wBAEF,eAAC,IAAD,CAAMP,WAAS,EAAC6D,QAAS,EAAG5D,eAAe,eAA3C,UACE,cAAC,IAAD,CAAMgD,MAAI,EAAV,SACE,cAAC,IAAD,CAAYxJ,MAAM,UAAUQ,KAAK,QAAQuG,QAASjK,KAAKoU,aAAvD,SAAqE,cAAC,IAAD,QAEvE,cAAC,IAAD,CAAM1H,MAAI,EAACxH,MAAM,SAAjB,SACE,cAAC,IAAD,CAAY8E,QAAQ,KAAKiD,MAAO,CAAEG,SAAU,GAAIgJ,SAAU,IAA1D,SAAiEP,MAEnE,cAAC,IAAD,CAAMnJ,MAAI,EAAV,SACE,cAAC,IAAD,CAAYxJ,MAAM,UAAUQ,KAAK,QAAQuG,QAASjK,KAAKmU,QAAvD,SAAgE,cAAC,IAAD,gBAMvEuB,SAOP,eAAC,IAAD,CAAMhJ,MAAI,EAACC,GAAI,GAAf,UACE,cAAC,IAAD,CAAQU,QAAM,EAAd,SACE,cAAC,IAAD,CAAYnI,MAAM,SAAS8E,QAAQ,KAAKiD,MAAO,CAAEJ,WAAY,QAA7D,SACE,4BAAI7M,KAAKH,MAAMqT,WAAW/N,WAG9B,qBAAK8H,MAAO,CAAEJ,WAAY,OAAQK,MAAO,MAAOoJ,WAAY,OAAQlJ,SAAU,KAA9E,SACE,cAAC,IAAD,CACEnN,WAAW,EACX6B,QAAS9B,KAAKH,MAAMqT,WACpBzT,UAAWO,KAAKP,UAChBE,KAAMK,KAAKL,KACXC,QAASI,KAAKJ,QACdgE,QAAS5D,KAAKH,MAAM+D,QACpBpC,YAAaxB,KAAKH,MAAMyT,aACxB7R,cAAemU,cAOzB,cAAC,IAAD,CAAWpJ,UAAU,EAArB,SACE,eAAC,IAAD,CAAM/C,WAAS,EAAC6D,QAAS,EAAGC,WAAW,SAAS7D,eAAe,gBAAgBuD,MAAO,CAAEJ,WAAY,QAApG,UACE,cAAC,IAAD,CAAMH,MAAI,EAACc,GAAI,EAAf,SACE,cAAC,IAAD,CAAQC,MAAI,EAAZ,SACE,cAAC,IAAD,CAAOR,MAAO,CAAE7H,QAAS,mBAAoBgI,SAAU,KAAvD,SACE,eAAC,IAAD,CAAYM,QAAM,EAACT,MAAO,CAAEC,MAAO,KAAnC,sBACYlN,KAAKH,MAAMqT,WAAW/N,cAKxC,cAAC,IAAD,CAAMuH,MAAI,EAAV,SACE,eAAC,IAAD,CAAMjD,WAAS,EAAC6D,QAAS,EAAzB,UACE,cAAC,IAAD,CAAMZ,MAAI,EAAV,SACE,cAAC,IAAD,CAAQzC,QAASjK,KAAK2T,OAAQrH,UAAW,cAAC,IAAD,IAAgBtC,QAAQ,YAAY9G,MAAM,UAAnF,sBAEF,cAAC,IAAD,CAAMwJ,MAAI,EAAV,SACE,cAAC,IAAD,CAAQzC,QAASjK,KAAK4T,YAAatH,UAAW,cAAC,IAAD,IAActC,QAAQ,YAAY9G,MAAM,UAAtF,qC,GAvnBQqC,aAooBXqN,gBAAWpN,YAAUqN,K,sRC5oB9B0D,E,kDACF,WAAY/W,GAAQ,IAAD,8BACf,cAAMA,IACDK,MAAQ,CACT2W,KAAM,KACNC,mBAAmB,EACnBC,cAAe,GACfC,cAAc,EACdC,SAAS,EACTC,eAAgB,KAChBC,iBAAkB,KAClB/Q,QAAsC,cAA7BC,OAAOC,SAASC,UAAyD,cAA7BF,OAAOC,SAASC,UAEzE,EAAK6Q,KAAO,EAAKA,KAAKrX,KAAV,gBACZ,EAAKsX,aAAe,EAAKA,aAAatX,KAAlB,gBACpB,EAAKuX,iBAAmB,EAAKA,iBAAiBvX,KAAtB,gBACxB,EAAKwX,oBAAsB,EAAKA,oBAAoBxX,KAAzB,gBAC3B,EAAKyX,YAAc,EAAKA,YAAYzX,KAAjB,gBACnB,EAAK0X,cAAgB,EAAKA,cAAc1X,KAAnB,gBACrB,EAAKgH,oBAAsB,EAAKA,oBAAoBhH,KAAzB,gBAC3B,EAAK2X,iBAAmB,EAAKA,iBAAiB3X,KAAtB,gBACxB,EAAK4X,kBAAoB,EAAKA,kBAAkB5X,KAAvB,gBApBV,E,qDAuBnB,WAAqB,IAAD,OAChB+H,MAAM,yBACDC,MAAK,SAAAC,GAAQ,OAAIA,EAASC,UAC1BF,MAAK,SAAAG,GACF,EAAK3H,SAAS,CAAEsW,KAAM3O,EAAO2O,KAAMC,kBAAmB5O,EAAO0P,0B,kBAIzE,WAAQ,IAAD,OACCC,EAAc,GAClBA,EAAYhB,KAAOxW,KAAKH,MAAM2W,KAC9BgB,EAAYD,mBAAqBvX,KAAKH,MAAM4W,kBAC5C/N,IAAMC,KAAK,wBAAyB6O,GAC/B9P,MAAK,SAAAoB,GACsB,MAApBA,EAAInH,KAAKoH,QACT,EAAK7I,SAAS,CAAEyW,cAAc,S,0BAK9C,SAAaxW,GACTH,KAAKE,SAAS,CAAEuW,kBAAmBtW,EAAE8H,OAAOuN,QAASmB,cAAc,M,8BAGvE,SAAiBxW,GACbH,KAAKE,SAAS,CAAEsW,KAAMrW,EAAE8H,OAAO3H,MAAOqW,cAAc,M,iCAGxD,SAAoBxW,GAChBH,KAAKE,SAAS,CAAEwW,cAAevW,EAAE8H,OAAO3H,U,yBAG5C,WACIoI,IAAMC,KAAK,oBAAqB,CAAEtB,QAASrH,KAAKH,MAAM6W,gBACjDhP,MAAK,SAAAoB,S,2BAGd,SAAc3I,EAAGsX,EAAgBtS,GACzBnF,KAAKH,MAAMkG,SACX/F,KAAKE,SAAS,CAAE4W,iBAAkBW,EAAgBZ,eAAgB1R,EAAMyR,SAAS,M,8BAIzF,WAEI,IAAIc,EAAa1X,KAAKH,MAAMG,KAAKH,MAAMgX,gBAAgB/P,WACpC,KAAf4Q,EACAA,EAAa,OACuC,MAA7CA,EAAWC,OAAOD,EAAWhW,OAAS,KAE7CgW,EAAaA,EAAWtP,UAAU,EAAGsP,EAAWhW,OAAS,IAK7D,IAAIvB,EAAI,CACRA,OAAW,IACXA,EAAE8H,OAAO3H,MAAQoX,EAEjB1X,KAAKH,MAAMiX,iBAAiB3W,GAC5BH,KAAKE,SAAS,CAAE0W,SAAS,EAAOgB,WAAY,O,iCAGhD,SAAoB1P,GAChB,IAAI2P,EAAY7X,KAAKH,MAAMG,KAAKH,MAAMgX,gBAAgB/P,WACvC,WAAXoB,EACA2P,EAAYA,EAAUzP,UAAU,EAAGyP,EAAUnW,OAAS,GAEtDmW,GAAa3P,EAIjB,IAAI/H,EAAI,CACRA,OAAW,IACXA,EAAE8H,OAAO3H,MAAQuX,EACjB7X,KAAKH,MAAMiX,iBAAiB3W,K,+BAGhC,SAAkBA,GACdH,KAAKH,MAAMiX,iBAAiB3W,K,oBAGhC,WAAU,IAAD,OACD2X,EAAc,6BAyClB,OAxCI9X,KAAKH,MAAM+W,UACXkB,EAAc,eAACC,EAAA,EAAD,CAAQxO,KAAMvJ,KAAKH,MAAM+W,QAASrK,QAASvM,KAAKqX,iBAAkB7N,WAAS,EAA3E,UACV,cAACwO,EAAA,EAAD,UACI,cAACC,EAAA,EAAD,4BAIJ,cAACC,EAAA,EAAD,UACI,eAACC,EAAA,EAAD,CAAM1O,WAAS,EAAC6D,QAAS,EAAG5D,eAAe,gBAA3C,UACI,cAACyO,EAAA,EAAD,CAAMzL,MAAI,EAAV,SACI,cAAC0L,EAAA,EAAD,CACIpO,QAAQ,WACR1J,MAAON,KAAKH,MAAMG,KAAKH,MAAMgX,gBAC7BjN,SAAU5J,KAAKsX,sBAGvB,cAACa,EAAA,EAAD,CAAMzL,MAAI,EAACc,GAAI,EAAf,SACI,cAAC,IAAD,CACIjD,WAAYvK,KAAK0G,oBACjByD,OAAQ,CACJC,QAAS,CACL,QACA,QACA,QACA,aAGR5G,QAAS,CACL,SAAU,KAEdhD,MAAyC,SAAlCR,KAAKR,MAAMgB,MAAMC,QAAQ0I,KAAkB,gBAAkB,4BAKpF,cAACkP,EAAA,EAAD,UACI,cAAClN,EAAA,EAAD,CAAQjI,MAAM,UAAU8G,QAAQ,YAAYC,QAASjK,KAAKqX,iBAA1D,sBAKR,qCACKS,EACD,eAACQ,EAAA,EAAD,WACI,cAACC,EAAA,EAAD,CACIC,WAAY,cAAC,IAAD,IACZC,gBAAc,mBACdC,GAAG,kBAHP,SAKI,cAACT,EAAA,EAAD,CAAYjO,QAAQ,KAApB,uBAEJ,cAAC2O,EAAA,EAAD,UACI,eAACR,EAAA,EAAD,CAAM1O,WAAS,EAAC0M,UAAU,SAAS5I,WAAW,aAAaD,QAAS,EAApE,UACI,eAAC6K,EAAA,EAAD,CAAMzL,MAAI,EAAV,UACI,cAACuL,EAAA,EAAD,CAAY/S,MAAM,OAAlB,yBAGA,cAACkT,EAAA,EAAD,CACIpO,QAAQ,WACRb,KAAK,SACLS,SAAU5J,KAAKiX,iBACfhN,QAAS,SAAC9J,GAAD,OAAO,EAAKiX,cAAcjX,EAAG,EAAK8W,iBAAkB,SAC7D3W,MAAON,KAAKH,MAAM2W,UAE1B,eAAC2B,EAAA,EAAD,CAAMzL,MAAI,EAAV,UACI,cAACuL,EAAA,EAAD,CAAY/S,MAAM,OAAlB,sCAGA,cAAC0T,EAAA,EAAD,CAAUpD,QAASxV,KAAKH,MAAM4W,kBAAmB7M,SAAU5J,KAAKgX,aAAc9T,MAAM,eAexF,eAACiV,EAAA,EAAD,CAAM1O,WAAS,EAACC,eAAe,WAAW4D,QAAS,EAAnD,UACI,cAAC6K,EAAA,EAAD,CAAMzL,MAAI,EAAV,SACI,cAACuL,EAAA,EAAD,CAAYjO,QAAQ,UAApB,6EAIJ,cAACmO,EAAA,EAAD,CAAMzL,MAAI,EAAV,SACI,cAACvB,EAAA,EAAD,CAAQnB,QAAQ,YAAY9G,MAAM,UAAU2V,UAAW7Y,KAAKH,MAAM8W,aAAc1M,QAASjK,KAAK+W,KAA9F,sC,GAtMNxR,aAmNfC,cAAU+Q,G,SCpNnBuC,E,kDACF,WAAYtZ,GAAQ,IAAD,8BACf,cAAMA,IACDK,MAAQ,CACTkZ,EAAG,EACH5D,EAAG,EACH6D,EAAG,EACHC,eAAe,EACfC,UAAW,EACXC,SAAS,EACTC,aAAc,EACdC,eAAe,EACf1C,cAAc,EACdC,SAAS,EACTC,eAAgB,KAChBC,iBAAkB,KAClB/Q,QAAsC,cAA7BC,OAAOC,SAASC,UAAyD,cAA7BF,OAAOC,SAASC,UAEzE,EAAK6Q,KAAO,EAAKA,KAAKrX,KAAV,gBACZ,EAAK4Z,cAAgB,EAAKA,cAAc5Z,KAAnB,gBACrB,EAAK6Z,cAAgB,EAAKA,cAAc7Z,KAAnB,gBACrB,EAAK8Z,cAAgB,EAAKA,cAAc9Z,KAAnB,gBACrB,EAAK+Z,uBAAyB,EAAKA,uBAAuB/Z,KAA5B,gBAC9B,EAAKga,oBAAsB,EAAKA,oBAAoBha,KAAzB,gBAC3B,EAAKia,sBAAwB,EAAKA,sBAAsBja,KAA3B,gBAC7B,EAAKka,yBAA2B,EAAKA,yBAAyBla,KAA9B,gBAChC,EAAKma,0BAA4B,EAAKA,0BAA0Bna,KAA/B,gBACjC,EAAK0X,cAAgB,EAAKA,cAAc1X,KAAnB,gBACrB,EAAKgH,oBAAsB,EAAKA,oBAAoBhH,KAAzB,gBAC3B,EAAK2X,iBAAmB,EAAKA,iBAAiB3X,KAAtB,gBACxB,EAAK4X,kBAAoB,EAAKA,kBAAkB5X,KAAvB,gBA7BV,E,qDAgCnB,WAAqB,IAAD,OAChB+H,MAAM,qBACDC,MAAK,SAAAC,GAAQ,OAAIA,EAASC,UAC1BF,MAAK,SAAAG,GACF,EAAK3H,SAAS,CACV6Y,EAAGlR,EAAOkR,EACV5D,EAAGtN,EAAOsN,EACV6D,EAAGnR,EAAOmR,EACVC,cAAepR,EAAOiS,gBACtBZ,UAAWrR,EAAOkS,WAClBZ,QAAStR,EAAOsR,QAChBC,aAAcvR,EAAOmS,cACrBX,cAAexR,EAAOoS,uB,kBAKtC,WAAQ,IAAD,OACCzC,EAAc,GAClBA,EAAYuB,EAAI/Y,KAAKH,MAAMkZ,EAC3BvB,EAAYrC,EAAInV,KAAKH,MAAMsV,EAC3BqC,EAAYwB,EAAIhZ,KAAKH,MAAMmZ,EAC3BxB,EAAYsC,gBAAkB9Z,KAAKH,MAAMoZ,cACzCzB,EAAYuC,WAAa/Z,KAAKH,MAAMqZ,UACpC1B,EAAY2B,QAAUnZ,KAAKH,MAAMsZ,QACjC3B,EAAYwC,cAAgBha,KAAKH,MAAMuZ,aACvC5B,EAAYyC,gBAAkBja,KAAKH,MAAMwZ,cACzC3Q,IAAMC,KAAK,oBAAqB6O,GAC3B9P,MAAK,SAAAoB,GACsB,MAApBA,EAAInH,KAAKoH,QACT,EAAK7I,SAAS,CAAEyW,cAAc,S,2BAK9C,SAAcxW,GACVH,KAAKE,SAAS,CAAE6Y,EAAG5Y,EAAE8H,OAAO3H,MAAOqW,cAAc,IAC7CuD,MAAMtF,WAAWzU,EAAE8H,OAAO3H,SAC1BN,KAAKE,SAAS,CAAEyW,cAAc,M,2BAItC,SAAcxW,GACVH,KAAKE,SAAS,CAAEiV,EAAGhV,EAAE8H,OAAO3H,MAAOqW,cAAc,IAC7CuD,MAAMtF,WAAWzU,EAAE8H,OAAO3H,SAC1BN,KAAKE,SAAS,CAAEyW,cAAc,M,2BAItC,SAAcxW,GACVH,KAAKE,SAAS,CAAE8Y,EAAG7Y,EAAE8H,OAAO3H,MAAOqW,cAAc,IAC7CuD,MAAMtF,WAAWzU,EAAE8H,OAAO3H,SAC1BN,KAAKE,SAAS,CAAEyW,cAAc,M,oCAItC,SAAuBxW,GACnBH,KAAKE,SAAS,CAAE+Y,cAAe9Y,EAAE8H,OAAOuN,QAASmB,cAAc,M,mCAGnE,SAAsBxW,GAClBH,KAAKE,SAAS,CAAEgZ,UAAW/Y,EAAE8H,OAAO3H,MAAOqW,cAAc,IACrDuD,MAAMC,SAASha,EAAE8H,OAAO3H,MAAO,MAC/BN,KAAKE,SAAS,CAAEyW,cAAc,M,iCAItC,SAAoBxW,GAChBH,KAAKE,SAAS,CAAEiZ,QAAShZ,EAAE8H,OAAOuN,QAASmB,cAAc,M,sCAG7D,SAAyBxW,GACrBH,KAAKE,SAAS,CAAEkZ,aAAcjZ,EAAE8H,OAAO3H,MAAOqW,cAAc,IACxDuD,MAAMC,SAASha,EAAE8H,OAAO3H,MAAO,MAC/BN,KAAKE,SAAS,CAAEyW,cAAc,M,uCAItC,SAA0BxW,GACtBH,KAAKE,SAAS,CAAEmZ,cAAelZ,EAAE8H,OAAOuN,QAASmB,cAAc,M,2BAGnE,SAAcxW,EAAGsX,EAAgBtS,GACzBnF,KAAKH,MAAMkG,SACX/F,KAAKE,SAAS,CAAE4W,iBAAkBW,EAAgBZ,eAAgB1R,EAAMyR,SAAS,M,8BAIzF,WAEI,IAAIc,EAAa1X,KAAKH,MAAMG,KAAKH,MAAMgX,gBAAgB/P,WACpC,KAAf4Q,EACAA,EAAa,IACuC,MAA7CA,EAAWC,OAAOD,EAAWhW,OAAS,KAE7CgW,EAAaA,EAAWtP,UAAU,EAAGsP,EAAWhW,OAAS,IAK7D,IAAIvB,EAAI,CACRA,OAAW,IACXA,EAAE8H,OAAO3H,MAAQoX,EAEjB1X,KAAKH,MAAMiX,iBAAiB3W,GAC5BH,KAAKE,SAAS,CAAE0W,SAAS,EAAOgB,WAAY,O,iCAGhD,SAAoB1P,GAChB,IAAI2P,EAAY7X,KAAKH,MAAMG,KAAKH,MAAMgX,gBAAgB/P,WACvC,WAAXoB,EACA2P,EAAYA,EAAUzP,UAAU,EAAGyP,EAAUnW,OAAS,GAEtDmW,GAAa3P,EAIjB,IAAI/H,EAAI,CACRA,OAAW,IACXA,EAAE8H,OAAO3H,MAAQuX,EACjB7X,KAAKH,MAAMiX,iBAAiB3W,K,+BAGhC,SAAkBA,GACdH,KAAKH,MAAMiX,iBAAiB3W,K,oBAGhC,WAAU,IAAD,OACD2X,EAAc,6BA0ClB,OAzCI9X,KAAKH,MAAM+W,UACXkB,EAAc,eAACC,EAAA,EAAD,CAAQxO,KAAMvJ,KAAKH,MAAM+W,QAASrK,QAASvM,KAAKqX,iBAAkB7N,WAAS,EAA3E,UACV,cAACwO,EAAA,EAAD,UACI,cAACC,EAAA,EAAD,4BAIJ,cAACC,EAAA,EAAD,UACI,eAACC,EAAA,EAAD,CAAM1O,WAAS,EAAC6D,QAAS,EAAG5D,eAAe,gBAA3C,UACI,cAACyO,EAAA,EAAD,CAAMzL,MAAI,EAAV,SACI,cAAC0L,EAAA,EAAD,CACIpO,QAAQ,WACR1J,MAAON,KAAKH,MAAMG,KAAKH,MAAMgX,gBAC7BjN,SAAU5J,KAAKsX,sBAGvB,cAACa,EAAA,EAAD,CAAMzL,MAAI,EAACc,GAAI,EAAf,SACI,cAAC,IAAD,CACIjD,WAAYvK,KAAK0G,oBACjByD,OAAQ,CACJC,QAAS,CACL,eACA,SACA,SACA,WAGR5G,QAAS,CACL,SAAU,KAEdhD,MAAyC,SAAlCR,KAAKR,MAAMgB,MAAMC,QAAQ0I,KAAkB,gBAAkB,4BAKpF,cAACkP,EAAA,EAAD,UACI,cAAClN,EAAA,EAAD,CAAQjI,MAAM,UAAU8G,QAAQ,YAAYC,QAASjK,KAAKqX,iBAA1D,sBAMR,qCACKS,EACD,eAACQ,EAAA,EAAD,WACI,cAACC,EAAA,EAAD,CACIC,WAAY,cAAC,IAAD,IACZC,gBAAc,mBACdC,GAAG,kBAHP,SAKI,cAACT,EAAA,EAAD,CAAYjO,QAAQ,KAApB,mBAEJ,cAAC2O,EAAA,EAAD,UACI,eAACR,EAAA,EAAD,CAAM1O,WAAS,EAAC6D,QAAS,EAAG6I,UAAU,SAAS5I,WAAW,aAA1D,UAEI,cAAC4K,EAAA,EAAD,CAAMzL,MAAI,EAAV,SACI,eAACyL,EAAA,EAAD,CAAM1O,WAAS,EAAC6D,QAAS,EAAzB,UACI,cAAC6K,EAAA,EAAD,CAAMzL,MAAI,EAAV,SACI,cAAC0L,EAAA,EAAD,CAAWpO,QAAQ,WAAWnI,MAAM,eAAevB,MAAON,KAAKH,MAAMkZ,EAAGnP,SAAU5J,KAAKsZ,cAAerP,QAAS,SAAC9J,GAAD,OAAO,EAAKiX,cAAcjX,EAAG,EAAKmZ,cAAe,MAAMrM,MAAO,CAAEC,MAAO,SAE1L,cAACiL,EAAA,EAAD,CAAMzL,MAAI,EAAV,SACI,cAAC0L,EAAA,EAAD,CAAWpO,QAAQ,WAAWnI,MAAM,WAAWvB,MAAON,KAAKH,MAAMsV,EAAGvL,SAAU5J,KAAKuZ,cAAetP,QAAS,SAAC9J,GAAD,OAAO,EAAKiX,cAAcjX,EAAG,EAAKoZ,cAAe,MAAMtM,MAAO,CAAEC,MAAO,SAEtL,cAACiL,EAAA,EAAD,CAAMzL,MAAI,EAAV,SACI,cAAC0L,EAAA,EAAD,CAAWpO,QAAQ,WAAWnI,MAAM,aAAavB,MAAON,KAAKH,MAAMmZ,EAAGpP,SAAU5J,KAAKwZ,cAAevP,QAAS,SAAC9J,GAAD,OAAO,EAAKiX,cAAcjX,EAAG,EAAKqZ,cAAe,MAAMvM,MAAO,CAAEC,MAAO,cAKhM,eAACiL,EAAA,EAAD,CAAMzL,MAAI,EAAV,UACI,cAACuL,EAAA,EAAD,CAAY/S,MAAM,OAAlB,sCAGA,cAAC0T,EAAA,EAAD,CAAUpD,QAASxV,KAAKH,MAAMoZ,cAAerP,SAAU5J,KAAKyZ,uBAAwBvW,MAAM,eAG9F,eAACiV,EAAA,EAAD,CAAMzL,MAAI,EAAV,UACI,cAACuL,EAAA,EAAD,CAAY/S,MAAM,OAAlB,wBAGA,cAACkT,EAAA,EAAD,CACIpO,QAAQ,WACR1J,MAAON,KAAKH,MAAMqZ,UAClBtP,SAAU5J,KAAK2Z,sBACf1P,QAAS,SAAC9J,GAAD,OAAO,EAAKiX,cAAcjX,EAAG,EAAKwZ,sBAAuB,cAClE1M,MAAO,CAAEC,MAAO,KAChBkN,WAAY,CACRnE,aAAc,cAACoE,EAAA,EAAD,CAAgBpV,SAAS,MAAzB,2BAK1B,cAACkT,EAAA,EAAD,CAAMzL,MAAI,EAAV,SACI,eAACyL,EAAA,EAAD,CAAM1O,WAAS,EAAC6D,QAAS,EAAzB,UACI,eAAC6K,EAAA,EAAD,CAAMzL,MAAI,EAAV,UACI,cAACuL,EAAA,EAAD,CAAY/S,MAAM,OAAlB,4BAGA,cAAC0T,EAAA,EAAD,CAAUpD,QAASxV,KAAKH,MAAMsZ,QAASvP,SAAU5J,KAAK0Z,oBAAqBxW,MAAM,eAErF,cAACiV,EAAA,EAAD,CAAMzL,MAAI,EAAV,SACI,cAAC0L,EAAA,EAAD,CACIpO,QAAQ,WACRnI,MAAM,gBACNvB,MAAON,KAAKH,MAAMuZ,aAClBxP,SAAU5J,KAAK4Z,yBACf3P,QAAS,SAAC9J,GAAD,OAAO,EAAKiX,cAAcjX,EAAG,EAAKyZ,yBAA0B,iBACrE3M,MAAO,CAAEC,MAAO,KAChBkN,WAAY,CACRnE,aAAc,cAACoE,EAAA,EAAD,CAAgBpV,SAAS,MAAzB,yBAMlC,eAACkT,EAAA,EAAD,CAAMzL,MAAI,EAAV,UACI,cAACuL,EAAA,EAAD,CAAY/S,MAAM,OAAlB,6BAGA,cAAC0T,EAAA,EAAD,CAAUpD,QAASxV,KAAKH,MAAMwZ,cAAezP,SAAU5J,KAAK6Z,0BAA2B3W,MAAM,eAGjG,cAACiV,EAAA,EAAD,CAAM1O,WAAS,EAACC,eAAe,WAAW4D,QAAS,EAAnD,SACI,cAAC6K,EAAA,EAAD,CAAMzL,MAAI,EAAV,SACI,cAACvB,EAAA,EAAD,CAAQnB,QAAQ,YAAY9G,MAAM,UAAU2V,UAAW7Y,KAAKH,MAAM8W,aAAc1M,QAASjK,KAAK+W,KAA9F,qC,GA9RVxR,aA2SXC,cAAUsT,G,wFCnSnBwB,E,kDACF,WAAY9a,GAAQ,IAAD,8BACf,cAAMA,IACDK,MAAQ,CACT0a,SAAU,EACVC,OAAQ,GACRC,cAAe,GACfC,UAAW,EACXC,mBAAoB,EACpBC,cAAe,EACfjE,cAAc,EACdkE,YAAY,EACZC,UAAU,EACVC,iBAAiB,EACjBC,aAAa,EACbC,eAAgB,EAChBC,QAAS,MACTC,QAAS,MACTC,WAAY,MACZC,iBAAiB,EACjBC,wBAAyB,QACzB1E,SAAS,EACTC,eAAgB,KAChBC,iBAAkB,KAClB/Q,QAAsC,cAA7BC,OAAOC,SAASC,UAAyD,cAA7BF,OAAOC,SAASC,UAEzE,EAAKqV,kBAAoB,EAAKA,kBAAkB7b,KAAvB,gBACzB,EAAK8b,gBAAkB,EAAKA,gBAAgB9b,KAArB,gBACvB,EAAK+Z,uBAAyB,EAAKA,uBAAuB/Z,KAA5B,gBAC9B,EAAK+b,mBAAqB,EAAKA,mBAAmB/b,KAAxB,gBAC1B,EAAKgc,uBAAyB,EAAKA,uBAAuBhc,KAA5B,gBAC9B,EAAKic,yBAA2B,EAAKA,yBAAyBjc,KAA9B,gBAChC,EAAKkc,0BAA4B,EAAKA,0BAA0Blc,KAA/B,gBACjC,EAAKmc,oBAAsB,EAAKA,oBAAoBnc,KAAzB,gBAC3B,EAAKoc,uBAAyB,EAAKA,uBAAuBpc,KAA5B,gBAC9B,EAAKqc,WAAa,EAAKA,WAAWrc,KAAhB,gBAClB,EAAKqX,KAAO,EAAKA,KAAKrX,KAAV,gBACZ,EAAK0X,cAAgB,EAAKA,cAAc1X,KAAnB,gBACrB,EAAKgH,oBAAsB,EAAKA,oBAAoBhH,KAAzB,gBAC3B,EAAK2X,iBAAmB,EAAKA,iBAAiB3X,KAAtB,gBACxB,EAAK4X,kBAAoB,EAAKA,kBAAkB5X,KAAvB,gBAvCV,E,qDA0CnB,WAAqB,IAAD,OAChB+H,MAAM,0BACDC,MAAK,SAAAC,GAAQ,OAAIA,EAASC,UAC1BF,MAAK,SAAAG,GACF,EAAK3H,SAAS,CACVqa,SAAU1S,EAAOmU,UACjBxB,OAAQ3S,EAAOoU,QACfxB,cAAe5S,EAAOqU,gBACtBxB,UAAW7S,EAAOsU,WAClBlB,eAAgBpT,EAAOuU,iBACvBzB,mBAAoB9S,EAAOwU,oBAC3BzB,cAAe/S,EAAOyU,kBAEe,IAArCzU,EAAO0U,0BACP,EAAKrc,SAAS,CAAEob,wBAAyB,SAEzC,EAAKpb,SAAS,CAAEob,wBAAyB,e,+BAKzD,SAAkBnb,GACdH,KAAKE,SAAS,CAAEqa,SAAUpa,EAAE8H,OAAO3H,MAAOqW,cAAc,M,6BAG5D,SAAgBxW,GACZH,KAAKE,SAAS,CAAEsa,OAAQra,EAAE8H,OAAO3H,MAAOqW,cAAc,M,oCAG1D,SAAuBxW,GACnBH,KAAKE,SAAS,CAAEua,cAAeta,EAAE8H,OAAO3H,MAAOqW,cAAc,M,gCAGjE,SAAmBxW,GACfH,KAAKE,SAAS,CAAEwa,UAAWva,EAAE8H,OAAO3H,MAAOqW,cAAc,M,oCAG7D,SAAuBxW,GACnBH,KAAKE,SAAS,CAAE+a,eAAgB9a,EAAE8H,OAAO3H,MAAOqW,cAAc,IAC1DuD,MAAMC,SAASha,EAAE8H,OAAO3H,MAAO,MAC/BN,KAAKE,SAAS,CAAEyW,cAAc,M,sCAItC,SAAyBxW,GACrBH,KAAKE,SAAS,CAAEya,mBAAoBxa,EAAE8H,OAAO3H,MAAOqW,cAAc,IAC9DuD,MAAMtF,WAAWzU,EAAE8H,OAAO3H,SAC1BN,KAAKE,SAAS,CAAEyW,cAAc,M,iCAItC,SAAoBxW,GAChBH,KAAKE,SAAS,CAAE0a,cAAeza,EAAE8H,OAAO3H,MAAOqW,cAAc,IACzDuD,MAAMtF,WAAWzU,EAAE8H,OAAO3H,SAC1BN,KAAKE,SAAS,CAAEyW,cAAc,M,oCAItC,SAAuBxW,GACnBH,KAAKE,SAAS,CAAEob,wBAAyBnb,EAAE8H,OAAO3H,MAAOqW,cAAc,M,uCAG3E,WAA6B,IAAD,OACxB3W,KAAKE,SAAS,CAAEmb,iBAAiB,IACjC5T,MAAM,yBACDC,MAAK,SAAAC,GAAQ,OAAIA,EAASC,UAC1BF,MAAK,SAAAG,GACF,EAAK3H,SAAS,CACVgb,QAASrT,EAAO2U,SAChBrB,QAAStT,EAAO4U,SAChBrB,WAAYvT,EAAO6U,QACnBrB,iBAAiB,S,wBAKjC,WACIrb,KAAKE,SAAS,CAAE2a,YAAY,EAAOC,UAAU,EAAOC,iBAAiB,M,kBAGzE,WAAQ,IAAD,OACCvD,EAAc,GAClBA,EAAYwE,UAAYhc,KAAKH,MAAM0a,SACnC/C,EAAYyE,QAAUjc,KAAKH,MAAM2a,OACjChD,EAAY0E,gBAAkBlc,KAAKH,MAAM4a,cACzCjD,EAAY2E,WAAanc,KAAKH,MAAM6a,UACpClD,EAAY4E,iBAAmBpc,KAAKH,MAAMob,eAC1CzD,EAAY6E,oBAAsBrc,KAAKH,MAAM8a,mBAC7CnD,EAAY8E,eAAiBtc,KAAKH,MAAM+a,cACxCpD,EAAY+E,0BAAmE,SAAvCvc,KAAKH,MAAMyb,wBACnD5S,IAAMC,KAAK,yBAA0B6O,GAChC9P,MAAK,SAAAoB,GACsB,MAApBA,EAAInH,KAAKoH,QACT,EAAK7I,SAAS,CAAEyW,cAAc,S,2BAK9C,SAAcxW,EAAGsX,EAAgBtS,GACzBnF,KAAKH,MAAMkG,SACX/F,KAAKE,SAAS,CAAE4W,iBAAkBW,EAAgBZ,eAAgB1R,EAAMyR,SAAS,M,8BAIzF,WAEI,IAAIc,EAAa1X,KAAKH,MAAMG,KAAKH,MAAMgX,gBAAgB/P,WACpC,KAAf4Q,EACAA,EAAa,IACuC,MAA7CA,EAAWC,OAAOD,EAAWhW,OAAS,KAE7CgW,EAAaA,EAAWtP,UAAU,EAAGsP,EAAWhW,OAAS,IAK7D,IAAIvB,EAAI,CACRA,OAAW,IACXA,EAAE8H,OAAO3H,MAAQoX,EAEjB1X,KAAKH,MAAMiX,iBAAiB3W,GAC5BH,KAAKE,SAAS,CAAE0W,SAAS,EAAOgB,WAAY,O,iCAGhD,SAAoB1P,GAChB,IAAI2P,EAAY7X,KAAKH,MAAMG,KAAKH,MAAMgX,gBAAgB/P,WACvC,WAAXoB,EACA2P,EAAYA,EAAUzP,UAAU,EAAGyP,EAAUnW,OAAS,GAEtDmW,GAAa3P,EAIjB,IAAI/H,EAAI,CACRA,OAAW,IACXA,EAAE8H,OAAO3H,MAAQuX,EACjB7X,KAAKH,MAAMiX,iBAAiB3W,K,+BAGhC,SAAkBA,GACdH,KAAKH,MAAMiX,iBAAiB3W,K,oBAGhC,WAAU,IAAD,OACD2X,EAAc,6BAyClB,OAxCI9X,KAAKH,MAAM+W,UACXkB,EAAc,eAACC,EAAA,EAAD,CAAQxO,KAAMvJ,KAAKH,MAAM+W,QAASrK,QAASvM,KAAKqX,iBAAkB7N,WAAS,EAA3E,UACV,cAACwO,EAAA,EAAD,UACI,cAACC,EAAA,EAAD,4BAIJ,cAACC,EAAA,EAAD,UACI,eAACC,EAAA,EAAD,CAAM1O,WAAS,EAAC6D,QAAS,EAAG5D,eAAe,gBAA3C,UACI,cAACyO,EAAA,EAAD,CAAMzL,MAAI,EAAV,SACI,cAAC0L,EAAA,EAAD,CACIpO,QAAQ,WACR1J,MAAON,KAAKH,MAAMG,KAAKH,MAAMgX,gBAC7BjN,SAAU5J,KAAKsX,sBAGvB,cAACa,EAAA,EAAD,CAAMzL,MAAI,EAACc,GAAI,EAAf,SACI,cAAC,IAAD,CACIjD,WAAYvK,KAAK0G,oBACjByD,OAAQ,CACJC,QAAS,CACL,eACA,SACA,SACA,WAGR5G,QAAS,CACL,SAAU,KAEdhD,MAAyC,SAAlCR,KAAKR,MAAMgB,MAAMC,QAAQ0I,KAAkB,gBAAkB,4BAKpF,cAACkP,EAAA,EAAD,UACI,cAAClN,EAAA,EAAD,CAAQjI,MAAM,UAAU8G,QAAQ,YAAYC,QAASjK,KAAKqX,iBAA1D,sBAKR,qCACKS,EACD,eAACQ,EAAA,EAAD,WACI,cAACC,EAAA,EAAD,CACIC,WAAY,cAAC,IAAD,IACZC,gBAAc,mBACdC,GAAG,kBAHP,SAKI,cAACT,EAAA,EAAD,CAAYjO,QAAQ,KAApB,wBAEJ,cAAC2O,EAAA,EAAD,UAEI,eAACR,EAAA,EAAD,CAAM1O,WAAS,EAAC6D,QAAS,EAAG6I,UAAU,SAAtC,UACI,cAACgC,EAAA,EAAD,CAAMzL,MAAI,EAAV,SACI,eAACyL,EAAA,EAAD,CAAM1O,WAAS,EAAC6D,QAAS,EAAzB,UACI,cAAC6K,EAAA,EAAD,CAAMzL,MAAI,EAAV,SACI,eAACiQ,EAAA,EAAD,CAAahT,MAAO3J,KAAKH,MAAMgb,WAA/B,UACI,cAAC+B,EAAA,EAAD,yBACA,eAACC,EAAA,EAAD,CAAQvc,MAAON,KAAKH,MAAM0a,SAAU3Q,SAAU5J,KAAKub,kBAAnD,UACI,cAACuB,EAAA,EAAD,CAAUxc,MAAO,EAAjB,sBACA,cAACwc,EAAA,EAAD,CAAUxc,MAAO,EAAGuY,SAAgC,IAAtB7Y,KAAKH,MAAM2a,QAA6C,IAA7Bxa,KAAKH,MAAM4a,eAAgD,IAAzBza,KAAKH,MAAM6a,UAAtG,uBACA,cAACoC,EAAA,EAAD,CAAUxc,MAAO,EAAGuY,SAAgC,IAAtB7Y,KAAKH,MAAM2a,QAA6C,IAA7Bxa,KAAKH,MAAM4a,eAAgD,IAAzBza,KAAKH,MAAM6a,UAAtG,wBACA,cAACoC,EAAA,EAAD,CAAUxc,MAAO,EAAGuY,SAAgC,IAAtB7Y,KAAKH,MAAM2a,QAA6C,IAA7Bxa,KAAKH,MAAM4a,eAAgD,IAAzBza,KAAKH,MAAM6a,UAAtG,wBACA,cAACoC,EAAA,EAAD,CAAUxc,MAAO,GAAIuY,SAAgC,KAAtB7Y,KAAKH,MAAM2a,QAA8C,KAA7Bxa,KAAKH,MAAM4a,eAAiD,KAAzBza,KAAKH,MAAM6a,UAAzG,yBACA,cAACoC,EAAA,EAAD,CAAUxc,MAAO,GAAIuY,SAAgC,KAAtB7Y,KAAKH,MAAM2a,QAA8C,KAA7Bxa,KAAKH,MAAM4a,eAAiD,KAAzBza,KAAKH,MAAM6a,UAAzG,yBACA,cAACoC,EAAA,EAAD,CAAUxc,MAAO,GAAIuY,SAAgC,KAAtB7Y,KAAKH,MAAM2a,QAA8C,KAA7Bxa,KAAKH,MAAM4a,eAAiD,KAAzBza,KAAKH,MAAM6a,UAAzG,yBACA,cAACoC,EAAA,EAAD,CAAUxc,MAAO,GAAIuY,SAAgC,KAAtB7Y,KAAKH,MAAM2a,QAA8C,KAA7Bxa,KAAKH,MAAM4a,eAAiD,KAAzBza,KAAKH,MAAM6a,UAAzG,yBACA,cAACoC,EAAA,EAAD,CAAUxc,MAAO,GAAIuY,SAAgC,KAAtB7Y,KAAKH,MAAM2a,QAA8C,KAA7Bxa,KAAKH,MAAM4a,eAAiD,KAAzBza,KAAKH,MAAM6a,UAAzG,yBACA,cAACoC,EAAA,EAAD,CAAUxc,MAAO,GAAIuY,SAAgC,KAAtB7Y,KAAKH,MAAM2a,QAA8C,KAA7Bxa,KAAKH,MAAM4a,eAAiD,KAAzBza,KAAKH,MAAM6a,UAAzG,yBACA,cAACoC,EAAA,EAAD,CAAUxc,MAAO,GAAIuY,SAAgC,KAAtB7Y,KAAKH,MAAM2a,QAA8C,KAA7Bxa,KAAKH,MAAM4a,eAAiD,KAAzBza,KAAKH,MAAM6a,UAAzG,yBACA,cAACoC,EAAA,EAAD,CAAUxc,MAAO,GAAIuY,SAAgC,KAAtB7Y,KAAKH,MAAM2a,QAA8C,KAA7Bxa,KAAKH,MAAM4a,eAAiD,KAAzBza,KAAKH,MAAM6a,UAAzG,iCAKZ,cAACvC,EAAA,EAAD,CAAMzL,MAAI,EAAV,SACI,eAACiQ,EAAA,EAAD,CAAahT,MAAO3J,KAAKH,MAAMkb,gBAA/B,UACI,cAAC6B,EAAA,EAAD,+BACA,eAACC,EAAA,EAAD,CAAQvc,MAAON,KAAKH,MAAM4a,cAAe7Q,SAAU5J,KAAKyZ,uBAAxD,UACI,cAACqD,EAAA,EAAD,CAAUxc,MAAO,EAAjB,sBACA,cAACwc,EAAA,EAAD,CAAUxc,MAAO,EAAGuY,SAAkC,IAAxB7Y,KAAKH,MAAM0a,UAAwC,IAAtBva,KAAKH,MAAM2a,QAAyC,IAAzBxa,KAAKH,MAAM6a,UAAjG,uBACA,cAACoC,EAAA,EAAD,CAAUxc,MAAO,EAAGuY,SAAkC,IAAxB7Y,KAAKH,MAAM0a,UAAwC,IAAtBva,KAAKH,MAAM2a,QAAyC,IAAzBxa,KAAKH,MAAM6a,UAAjG,wBACA,cAACoC,EAAA,EAAD,CAAUxc,MAAO,EAAGuY,SAAkC,IAAxB7Y,KAAKH,MAAM0a,UAAwC,IAAtBva,KAAKH,MAAM2a,QAAyC,IAAzBxa,KAAKH,MAAM6a,UAAjG,wBACA,cAACoC,EAAA,EAAD,CAAUxc,MAAO,GAAIuY,SAAkC,KAAxB7Y,KAAKH,MAAM0a,UAAyC,KAAtBva,KAAKH,MAAM2a,QAA0C,KAAzBxa,KAAKH,MAAM6a,UAApG,yBACA,cAACoC,EAAA,EAAD,CAAUxc,MAAO,GAAIuY,SAAkC,KAAxB7Y,KAAKH,MAAM0a,UAAyC,KAAtBva,KAAKH,MAAM2a,QAA0C,KAAzBxa,KAAKH,MAAM6a,UAApG,yBACA,cAACoC,EAAA,EAAD,CAAUxc,MAAO,GAAIuY,SAAkC,KAAxB7Y,KAAKH,MAAM0a,UAAyC,KAAtBva,KAAKH,MAAM2a,QAA0C,KAAzBxa,KAAKH,MAAM6a,UAApG,yBACA,cAACoC,EAAA,EAAD,CAAUxc,MAAO,GAAIuY,SAAkC,KAAxB7Y,KAAKH,MAAM0a,UAAyC,KAAtBva,KAAKH,MAAM2a,QAA0C,KAAzBxa,KAAKH,MAAM6a,UAApG,yBACA,cAACoC,EAAA,EAAD,CAAUxc,MAAO,GAAIuY,SAAkC,KAAxB7Y,KAAKH,MAAM0a,UAAyC,KAAtBva,KAAKH,MAAM2a,QAA0C,KAAzBxa,KAAKH,MAAM6a,UAApG,yBACA,cAACoC,EAAA,EAAD,CAAUxc,MAAO,GAAIuY,SAAkC,KAAxB7Y,KAAKH,MAAM0a,UAAyC,KAAtBva,KAAKH,MAAM2a,QAA0C,KAAzBxa,KAAKH,MAAM6a,UAApG,yBACA,cAACoC,EAAA,EAAD,CAAUxc,MAAO,GAAIuY,SAAkC,KAAxB7Y,KAAKH,MAAM0a,UAAyC,KAAtBva,KAAKH,MAAM2a,QAA0C,KAAzBxa,KAAKH,MAAM6a,UAApG,yBACA,cAACoC,EAAA,EAAD,CAAUxc,MAAO,GAAIuY,SAAkC,KAAxB7Y,KAAKH,MAAM0a,UAAyC,KAAtBva,KAAKH,MAAM2a,QAA0C,KAAzBxa,KAAKH,MAAM6a,UAApG,iCAKZ,cAACvC,EAAA,EAAD,CAAMzL,MAAI,EAAV,SACI,eAACiQ,EAAA,EAAD,CAAahT,MAAO3J,KAAKH,MAAMib,SAA/B,UACI,cAAC8B,EAAA,EAAD,kCACA,eAACC,EAAA,EAAD,CAAQvc,MAAON,KAAKH,MAAM2a,OAAQ5Q,SAAU5J,KAAKwb,gBAAjD,UACI,cAACsB,EAAA,EAAD,CAAUxc,MAAO,EAAjB,sBACA,cAACwc,EAAA,EAAD,CAAUxc,MAAO,EAAGuY,SAAkC,IAAxB7Y,KAAKH,MAAM0a,UAA+C,IAA7Bva,KAAKH,MAAM4a,eAAgD,IAAzBza,KAAKH,MAAM6a,UAAxG,uBACA,cAACoC,EAAA,EAAD,CAAUxc,MAAO,EAAGuY,SAAkC,IAAxB7Y,KAAKH,MAAM0a,UAA+C,IAA7Bva,KAAKH,MAAM4a,eAAgD,IAAzBza,KAAKH,MAAM6a,UAAxG,wBACA,cAACoC,EAAA,EAAD,CAAUxc,MAAO,EAAGuY,SAAkC,IAAxB7Y,KAAKH,MAAM0a,UAA+C,IAA7Bva,KAAKH,MAAM4a,eAAgD,IAAzBza,KAAKH,MAAM6a,UAAxG,wBACA,cAACoC,EAAA,EAAD,CAAUxc,MAAO,GAAIuY,SAAkC,KAAxB7Y,KAAKH,MAAM0a,UAAgD,KAA7Bva,KAAKH,MAAM4a,eAAiD,KAAzBza,KAAKH,MAAM6a,UAA3G,yBACA,cAACoC,EAAA,EAAD,CAAUxc,MAAO,GAAIuY,SAAkC,KAAxB7Y,KAAKH,MAAM0a,UAAgD,KAA7Bva,KAAKH,MAAM4a,eAAiD,KAAzBza,KAAKH,MAAM6a,UAA3G,yBACA,cAACoC,EAAA,EAAD,CAAUxc,MAAO,GAAIuY,SAAkC,KAAxB7Y,KAAKH,MAAM0a,UAAgD,KAA7Bva,KAAKH,MAAM4a,eAAiD,KAAzBza,KAAKH,MAAM6a,UAA3G,yBACA,cAACoC,EAAA,EAAD,CAAUxc,MAAO,GAAIuY,SAAkC,KAAxB7Y,KAAKH,MAAM0a,UAAgD,KAA7Bva,KAAKH,MAAM4a,eAAiD,KAAzBza,KAAKH,MAAM6a,UAA3G,yBACA,cAACoC,EAAA,EAAD,CAAUxc,MAAO,GAAIuY,SAAkC,KAAxB7Y,KAAKH,MAAM0a,UAAgD,KAA7Bva,KAAKH,MAAM4a,eAAiD,KAAzBza,KAAKH,MAAM6a,UAA3G,yBACA,cAACoC,EAAA,EAAD,CAAUxc,MAAO,GAAIuY,SAAkC,KAAxB7Y,KAAKH,MAAM0a,UAAgD,KAA7Bva,KAAKH,MAAM4a,eAAiD,KAAzBza,KAAKH,MAAM6a,UAA3G,yBACA,cAACoC,EAAA,EAAD,CAAUxc,MAAO,GAAIuY,SAAkC,KAAxB7Y,KAAKH,MAAM0a,UAAgD,KAA7Bva,KAAKH,MAAM4a,eAAiD,KAAzBza,KAAKH,MAAM6a,UAA3G,yBACA,cAACoC,EAAA,EAAD,CAAUxc,MAAO,GAAIuY,SAAkC,KAAxB7Y,KAAKH,MAAM0a,UAAgD,KAA7Bva,KAAKH,MAAM4a,eAAiD,KAAzBza,KAAKH,MAAM6a,UAA3G,iCAKZ,cAACvC,EAAA,EAAD,CAAMzL,MAAI,EAAV,SACI,eAACiQ,EAAA,EAAD,CAAahT,MAAO3J,KAAKH,MAAMmb,YAA/B,UACI,cAAC4B,EAAA,EAAD,0BACA,eAACC,EAAA,EAAD,CAAQvc,MAAON,KAAKH,MAAM6a,UAAW9Q,SAAU5J,KAAKyb,mBAApD,UACI,cAACqB,EAAA,EAAD,CAAUxc,MAAO,EAAjB,sBACA,cAACwc,EAAA,EAAD,CAAUxc,MAAO,EAAGuY,SAAkC,IAAxB7Y,KAAKH,MAAM0a,UAA+C,IAA7Bva,KAAKH,MAAM4a,eAA6C,IAAtBza,KAAKH,MAAM2a,OAAxG,uBACA,cAACsC,EAAA,EAAD,CAAUxc,MAAO,EAAGuY,SAAkC,IAAxB7Y,KAAKH,MAAM0a,UAA+C,IAA7Bva,KAAKH,MAAM4a,eAA6C,IAAtBza,KAAKH,MAAM2a,OAAxG,wBACA,cAACsC,EAAA,EAAD,CAAUxc,MAAO,EAAGuY,SAAkC,IAAxB7Y,KAAKH,MAAM0a,UAA+C,IAA7Bva,KAAKH,MAAM4a,eAA6C,IAAtBza,KAAKH,MAAM2a,OAAxG,wBACA,cAACsC,EAAA,EAAD,CAAUxc,MAAO,GAAIuY,SAAkC,KAAxB7Y,KAAKH,MAAM0a,UAAgD,KAA7Bva,KAAKH,MAAM4a,eAA8C,KAAtBza,KAAKH,MAAM2a,OAA3G,yBACA,cAACsC,EAAA,EAAD,CAAUxc,MAAO,GAAIuY,SAAkC,KAAxB7Y,KAAKH,MAAM0a,UAAgD,KAA7Bva,KAAKH,MAAM4a,eAA8C,KAAtBza,KAAKH,MAAM2a,OAA3G,yBACA,cAACsC,EAAA,EAAD,CAAUxc,MAAO,GAAIuY,SAAkC,KAAxB7Y,KAAKH,MAAM0a,UAAgD,KAA7Bva,KAAKH,MAAM4a,eAA8C,KAAtBza,KAAKH,MAAM2a,OAA3G,yBACA,cAACsC,EAAA,EAAD,CAAUxc,MAAO,GAAIuY,SAAkC,KAAxB7Y,KAAKH,MAAM0a,UAAgD,KAA7Bva,KAAKH,MAAM4a,eAA8C,KAAtBza,KAAKH,MAAM2a,OAA3G,yBACA,cAACsC,EAAA,EAAD,CAAUxc,MAAO,GAAIuY,SAAkC,KAAxB7Y,KAAKH,MAAM0a,UAAgD,KAA7Bva,KAAKH,MAAM4a,eAA8C,KAAtBza,KAAKH,MAAM2a,OAA3G,yBACA,cAACsC,EAAA,EAAD,CAAUxc,MAAO,GAAIuY,SAAkC,KAAxB7Y,KAAKH,MAAM0a,UAAgD,KAA7Bva,KAAKH,MAAM4a,eAA8C,KAAtBza,KAAKH,MAAM2a,OAA3G,yBACA,cAACsC,EAAA,EAAD,CAAUxc,MAAO,GAAIuY,SAAkC,KAAxB7Y,KAAKH,MAAM0a,UAAgD,KAA7Bva,KAAKH,MAAM4a,eAA8C,KAAtBza,KAAKH,MAAM2a,OAA3G,yBACA,cAACsC,EAAA,EAAD,CAAUxc,MAAO,GAAIuY,SAAkC,KAAxB7Y,KAAKH,MAAM0a,UAAgD,KAA7Bva,KAAKH,MAAM4a,eAA8C,KAAtBza,KAAKH,MAAM2a,OAA3G,iCAKZ,cAACrC,EAAA,EAAD,CAAMzL,MAAI,EAAV,SACI,cAAC0L,EAAA,EAAD,CACIpO,QAAQ,WACRnI,MAAM,mBACNvB,MAAON,KAAKH,MAAMob,eAClBrR,SAAU5J,KAAK0b,uBACfzR,QAAS,SAAC9J,GAAD,OAAO,EAAKiX,cAAcjX,EAAG,EAAKub,uBAAwB,mBACnEzO,MAAO,CAAEC,MAAO,KAChBkN,WAAY,CACRnE,aAAc,cAACoE,EAAA,EAAD,CAAgBpV,SAAS,MAAzB,6BAMlC,eAACkT,EAAA,EAAD,CAAMzL,MAAI,EAAV,UACI,cAACuL,EAAA,EAAD,CAAYhL,MAAO,CAAE2E,cAAe,IAApC,oCAGA,eAACuG,EAAA,EAAD,CAAM1O,WAAS,EAAC6D,QAAS,EAAzB,UACI,cAAC6K,EAAA,EAAD,CAAMzL,MAAI,EAAV,SACI,cAAC0L,EAAA,EAAD,CACIpO,QAAQ,WACRnI,MAAM,kBACNvB,MAAON,KAAKH,MAAM8a,mBAClB/Q,SAAU5J,KAAK2b,yBACf1R,QAAS,SAAC9J,GAAD,OAAO,EAAKiX,cAAcjX,EAAG,EAAKwb,yBAA0B,uBACrE1O,MAAO,CAAEC,MAAO,KAChBkN,WAAY,CACRnE,aAAc,cAACoE,EAAA,EAAD,CAAgBpV,SAAS,MAAzB,wBAI1B,cAACkT,EAAA,EAAD,CAAMzL,MAAI,EAAV,SACI,cAAC0L,EAAA,EAAD,CACIpO,QAAQ,WACRnI,MAAM,iBACNvB,MAAON,KAAKH,MAAM+a,cAClBhR,SAAU5J,KAAK6b,oBACf5R,QAAS,SAAC9J,GAAD,OAAO,EAAKiX,cAAcjX,EAAG,EAAK0b,oBAAqB,kBAChE5O,MAAO,CAAEC,MAAO,KAChBkN,WAAY,CACRnE,aAAc,cAACoE,EAAA,EAAD,CAAgBpV,SAAS,MAAzB,0BAOlC,eAACkT,EAAA,EAAD,CAAMzL,MAAI,EAAV,UACI,cAACuL,EAAA,EAAD,CAAYhL,MAAO,CAAE2E,cAAe,IAApC,+BAGA,eAACmL,EAAA,EAAD,CAAYzc,MAAON,KAAKH,MAAMyb,wBAAyB1R,SAAU5J,KAAK8b,uBAAtE,UACI,cAACkB,EAAA,EAAD,CAAkB1c,MAAM,QAAQ2c,QAAS,cAACC,EAAA,EAAD,CAAOha,MAAM,YAAcrB,MAAM,4BAC1E,cAACmb,EAAA,EAAD,CAAkB1c,MAAM,OAAO2c,QAAS,cAACC,EAAA,EAAD,CAAOha,MAAM,YAAcrB,MAAM,sBAIjF,eAACsW,EAAA,EAAD,CAAMzL,MAAI,EAAV,UACI,eAACuL,EAAA,EAAD,yBAEI,cAACkF,EAAA,EAAD,CAAYtE,SAAU7Y,KAAKH,MAAMwb,gBAAiBpR,QAASjK,KAAK4b,0BAAhE,SAA2F,cAAC,IAAD,SAE/F,eAAC3D,EAAA,EAAD,CAAYhL,MAAO,CAAEzJ,QAAS,SAAWwG,QAAQ,UAAjD,6BACqBhK,KAAKH,MAAMqb,QADhC,WAGA,eAACjD,EAAA,EAAD,CAAYhL,MAAO,CAAEzJ,QAAS,SAAWwG,QAAQ,UAAjD,6BACqBhK,KAAKH,MAAMsb,QADhC,WAGA,eAAClD,EAAA,EAAD,CAAYhL,MAAO,CAAEzJ,QAAS,SAAWwG,QAAQ,UAAjD,yBACiBhK,KAAKH,MAAMub,WAD5B,cAKJ,cAACjD,EAAA,EAAD,CAAM1O,WAAS,EAACC,eAAe,WAAW4D,QAAS,EAAnD,SACI,cAAC6K,EAAA,EAAD,CAAMzL,MAAI,EAAV,SACI,cAACvB,EAAA,EAAD,CAAQnB,QAAQ,YAAY9G,MAAM,UAAU2V,UAAW7Y,KAAKH,MAAM8W,aAAc1M,QAASjK,KAAK+W,KAA9F,qC,GAjZLxR,aA8ZhBC,cAAU8U,G,kBChUV8C,E,kDA3GX,WAAY5d,GAAQ,IAAD,8BACf,cAAMA,IACDK,MAAQ,CACT6F,SAAU,EAAKlG,MAAMkG,SACrB7E,QAAS,EAAKrB,MAAMqB,QACpBK,UAAW,EAAK1B,MAAM0B,UACtByV,cAAc,GAElB,EAAKI,KAAO,EAAKA,KAAKrX,KAAV,gBACZ,EAAK2d,iBAAmB,EAAKA,iBAAiB3d,KAAtB,gBACxB,EAAK4d,oBAAsB,EAAKA,oBAAoB5d,KAAzB,gBAC3B,EAAK6d,sBAAwB,EAAKA,sBAAsB7d,KAA3B,gBAXd,E,qDAcnB,c,kBAGA,WAAQ,IAAD,OACC8X,EAAc,GAClBA,EAAYlQ,UAAYtH,KAAKH,MAAM6F,SACnC8R,EAAYjQ,cAAgBvH,KAAKH,MAAMgB,QACvC2W,EAAYhQ,gBAAkBxH,KAAKH,MAAMqB,UACzCwH,IAAMC,KAAK,2BAA4B6O,GAClC9P,MAAK,SAAAoB,GACsB,MAApBA,EAAInH,KAAKoH,QACT,EAAK7I,SAAS,CAAEyW,cAAc,S,8BAK9C,SAAiBxW,GACbH,KAAKE,SAAS,CAAEwF,SAAUvF,EAAE8H,OAAOuN,QAASmB,cAAc,IAC1D3W,KAAKR,MAAM2G,eAAehG,EAAE8H,OAAOuN,W,iCAGvC,SAAoBtS,EAAO/C,GACvBH,KAAKE,SAAS,CAAEW,QAASqC,EAAMsa,IAAK7G,cAAc,IAClD3W,KAAKR,MAAM4G,gBAAgBlD,EAAMsa,O,mCAGrC,SAAsBta,EAAO/C,GACzBH,KAAKE,SAAS,CAAEgB,UAAWgC,EAAMsa,IAAK7G,cAAc,IACpD3W,KAAKR,MAAM6G,kBAAkBnD,EAAMsa,O,oBAGvC,WACI,OACI,eAAClF,EAAA,EAAD,WACI,cAACC,EAAA,EAAD,CACIC,WAAY,cAAC,IAAD,IACZC,gBAAc,mBACdC,GAAG,kBAHP,SAKI,cAACT,EAAA,EAAD,CAAYjO,QAAQ,KAApB,0BAEJ,cAAC2O,EAAA,EAAD,UACI,eAACR,EAAA,EAAD,CAAM1O,WAAS,EAAC0M,UAAU,SAAS5I,WAAW,aAAaD,QAAS,EAApE,UACI,eAAC6K,EAAA,EAAD,CAAMzL,MAAI,EAAV,UACI,cAACuL,EAAA,EAAD,CAAY/S,MAAM,OAAlB,uBAGA,cAACuY,EAAA,EAAD,CAAQjI,QAASxV,KAAKH,MAAM6F,SAAUkE,SAAU5J,KAAKqd,iBAAkBna,MAAM,eAEjF,eAACiV,EAAA,EAAD,CAAMzL,MAAI,EAAV,UACI,cAACuL,EAAA,EAAD,CAAY/S,MAAM,OAAlB,2BAGA,cAAC,IAAD,CAAchC,MAAOlD,KAAKH,MAAMgB,QAAS+I,SAAU5J,KAAKsd,yBAG5D,eAACnF,EAAA,EAAD,CAAMzL,MAAI,EAAV,UACI,cAACuL,EAAA,EAAD,CAAY/S,MAAM,OAAlB,6BAGA,cAAC,IAAD,CAAchC,MAAOlD,KAAKH,MAAMqB,UAAW0I,SAAU5J,KAAKud,2BAI9D,eAACpF,EAAA,EAAD,CAAM1O,WAAS,EAACC,eAAe,WAAW4D,QAAS,EAAnD,UACI,cAAC6K,EAAA,EAAD,CAAMzL,MAAI,EAAV,SACI,eAACyL,EAAA,EAAD,CAAM1O,WAAS,EAAC0M,UAAU,SAAS5I,WAAW,SAA9C,UACI,cAAC4K,EAAA,EAAD,CAAMzL,MAAI,EAAV,SACI,eAACuL,EAAA,EAAD,CAAYjO,QAAQ,UAApB,UACI,sBAAMiD,MAAO,CAAC/J,MAAO,OAArB,uBADJ,2DAIJ,cAACiV,EAAA,EAAD,CAAMzL,MAAI,EAAV,SACI,cAACuL,EAAA,EAAD,CAAYjO,QAAQ,UAAUxG,QAAQ,SAAtC,+DAMZ,cAAC2U,EAAA,EAAD,CAAMzL,MAAI,EAAV,SACI,cAACvB,EAAA,EAAD,CAAQnB,QAAQ,YAAY9G,MAAM,UAAU2V,UAAW7Y,KAAKH,MAAM8W,aAAc1M,QAASjK,KAAK+W,KAA9F,mC,GA/FCxR,aCJ3BmY,E,4JAEF,WACI,OACI,qCACI,cAACC,EAAA,EAAD,IACA,eAACC,EAAA,EAAD,CAAWpR,UAAU,EAAOS,MAAO,CAACJ,WAAY,QAAhD,UACI,cAAC,EAAD,IACA,cAAC,EAAD,IACA,cAAC,EAAD,IACA,cAAC,EAAD,CACI1G,eAAgBnG,KAAKR,MAAM2G,eAC3BC,gBAAiBpG,KAAKR,MAAM4G,gBAC5BC,kBAAmBrG,KAAKR,MAAM6G,kBAC9BxF,QAASb,KAAKR,MAAMqB,QACpBK,UAAWlB,KAAKR,MAAM0B,UACtBwE,SAAU1F,KAAKR,MAAMkG,qB,GAhBtBH,aAwBRmY,O,sDChCf,iGAIavW,EAJb,OAIsB0W,EAASC,UAClBC,EAAgBC,IAAMC,iB,2ICOpBC,EAZS,SAAAC,GAClBA,GAAeA,aAAuBC,UACxC,8BAAqB1W,MAAK,YAAkD,IAA/C2W,EAA8C,EAA9CA,OAAQC,EAAsC,EAAtCA,OAAQC,EAA8B,EAA9BA,OAAQC,EAAsB,EAAtBA,OAAQC,EAAc,EAAdA,QAC3DJ,EAAOF,GACPG,EAAOH,GACPI,EAAOJ,GACPK,EAAOL,GACPM,EAAQN,O,OCDVpY,GAAU,EACmB,cAA7BC,OAAOC,SAASC,UAAyD,cAA7BF,OAAOC,SAASC,UAAyD,KAA7BF,OAAOC,SAASC,WAC1GH,GAAU,GAGZ2Y,IAASC,OACP,cAAC,IAAMC,WAAP,UACE,cAACnZ,EAAA,EAAD,CAAKM,QAASA,MAEhB8Y,SAASC,eAAe,SAM1BZ,K,qhBCWMP,G,kDACF,WAAYne,GAAQ,IAAD,8BACf,cAAMA,IA4BV4L,WAAaH,YAAW,CACpBC,KAAM,CACFhJ,gBAAiB,UACjB,UAAW,CACPA,gBAAiB,aAJhB+I,CAOVE,KApCgB,EAsCnB4T,QAAU9T,YAAW,CACjBC,KAAM,CACF5J,KAAM,YAFJ2J,CAIP+T,KA1CgB,EA4CnBC,UAAYhU,YAAW,CACnBC,KAAM,CACF5J,KAAM,YAFF2J,CAITiU,KAhDgB,EAkDnBC,aAAelU,YAAW,CACtBC,KAAM,CACF5J,KAAM,YAFC2J,CAIZmU,KApDC,EAAKC,aAAe,EAAKA,aAAa3f,KAAlB,gBACpB,EAAK6L,KAAO,EAAKA,KAAK7L,KAAV,gBACZ,EAAK4f,UAAY,EAAKA,UAAU5f,KAAf,gBACjB,EAAK6f,SAAW,EAAKA,SAAS7f,KAAd,gBAChB,EAAK8f,eAAiB,EAAKA,eAAe9f,KAApB,gBACtB,EAAK0J,QAAU,KACf,EAAKvJ,MAAQ,CACT4f,QAAQ,EACRC,UAAU,EACVC,cAAc,EACdC,WAAY,EACZC,YAAa,EACb9W,OAAQ,QACR+W,QAAS,GACTpU,eAAgB,GAChBqU,cAAe,GACfC,sBAAuB,GACvBC,uBAAuB,EACvBC,SAAS,EACTC,cAAc,EACdC,OAAO,EACPC,WAAW,EACXC,UAAU,EACVva,QAAsC,cAA7BC,OAAOC,SAASC,UAAyD,cAA7BF,OAAOC,SAASC,UAzB1D,E,wCAyDnB,WAAQ,IAAD,OACHwC,IAAMC,KAAK,YAAa,CAAEyD,OAAQ,SAC7B1E,MAAK,SAAAoB,GACsB,MAApBA,EAAInH,KAAKoH,QACT,EAAK7I,SAAS,CAAE6I,OAAQ,e,+BAKxC,WAAqB,IAAD,OAChBtB,MAAM,eACDC,MAAK,SAAAC,GAAQ,OAAIA,EAASC,UAC1BF,MAAK,SAAAG,GACF,EAAK3H,SAAS,CACV4f,QAASjY,EAAOiY,QAChBF,WAAY/X,EAAOkB,OAAOwX,QAC1BxX,OAAQlB,EAAOkB,OAAOA,OACtB2C,eAAgB7D,EAAOkB,OAAOiD,qBAG1C7E,IAAOC,GAAG,iBAAiB,SAACC,GACxB,EAAKnH,SAAS,CACV0f,WAAYvY,EAAQkZ,QACpBV,YAAaxY,EAAQwY,YACrB9W,OAAQ1B,EAAQ0B,OAChB2C,eAAgBrE,EAAQ2E,kBAGxB3E,EAAQmZ,MAAQ,GAChB,EAAKtgB,SAAS,CAAEggB,SAAS,IACrB7Y,EAAQmZ,MAAQ,KAChBC,YAAW,WACP,EAAKvgB,SAAS,CAAEggB,SAAS,MAC1B7Y,EAAQmZ,QAGf,EAAKtgB,SAAS,CAAEggB,SAAS,IAGzB7Y,EAAQqZ,YAAc,GACtB,EAAKxgB,SAAS,CAAEigB,cAAc,IAC1B9Y,EAAQqZ,YAAc,KACtBD,YAAW,WACP,EAAKvgB,SAAS,CAAEigB,cAAc,MAC/B9Y,EAAQqZ,cAGf,EAAKxgB,SAAS,CAAEigB,cAAc,IAG9B9Y,EAAQsZ,IAAM,GACd,EAAKzgB,SAAS,CAAEkgB,OAAO,IACnB/Y,EAAQsZ,IAAM,KACdF,YAAW,WACP,EAAKvgB,SAAS,CAAEkgB,OAAO,MACxB/Y,EAAQsZ,MAGf,EAAKzgB,SAAS,CAAEkgB,OAAO,OAG/BjZ,IAAOC,GAAG,kBAAkB,SAACC,GACzB,EAAKnH,SAAS,CACV6f,cAAe1Y,EAAQA,QACvB2Y,sBAAuB3Y,EAAQuZ,WAEnC,EAAK1gB,SAAS,CACV+f,uBAAuB,OAG/B9Y,IAAOC,GAAG,cAAc,WACpB,EAAKlH,SAAS,CAAEogB,UAAU,IAC1B,EAAKlX,QAAUqX,YAAW,WACtB,EAAKvgB,SAAS,CAAEmgB,WAAW,MAC5B,QAGPlZ,IAAOC,GAAG,WAAW,WACjByZ,aAAa,EAAKzX,SAClB,EAAKlJ,SAAS,CAAEmgB,WAAW,EAAMC,UAAU,OAE1CnZ,IAAOkZ,YACRrgB,KAAKE,SAAS,CAAEogB,UAAU,IAC1BtgB,KAAKoJ,QAAUqX,YAAW,WACtB,EAAKvgB,SAAS,CAAEmgB,WAAW,MAC5B,Q,0BAIX,WACQrgB,KAAKH,MAAM4f,OACXzf,KAAKE,SAAS,CAAEuf,QAAQ,IAExBzf,KAAKE,SAAS,CAAEuf,QAAQ,M,kCAIhC,WACItY,IAAOW,IAAI,iBACXX,IAAOW,IAAI,kBACXX,IAAOW,IAAI,cACXX,IAAOW,IAAI,a,uBAGf,WACI9H,KAAKE,SAAS,CAAEwf,UAAU,M,sBAG9B,WACI1f,KAAKE,SAAS,CAAEwf,UAAU,M,4BAG9B,WACI1f,KAAKE,SAAS,CAAC+f,uBAAuB,M,oBAG1C,WACI,IAAIa,EAAqB9gB,KAAKH,MAAMggB,YAAc,QAC9C7f,KAAKH,MAAMggB,YAAc,IACzBiB,EAAqB,8BAGzB,IAAIC,EAAY,eAAC,IAAD,IACZC,EAAiB,eAAC,IAAD,IACjBC,EAAU,eAAC,IAAD,IACVjhB,KAAKH,MAAMqgB,UACXa,EAAY,oBAAMhC,QAAN,KAGZ/e,KAAKH,MAAMsgB,eACXa,EAAiB,oBAAM/B,UAAN,KAGjBjf,KAAKH,MAAMugB,QACXa,EAAU,oBAAM9B,aAAN,KAGd,IAAM+B,EAAMC,EAAQC,SAAW,mBAAmBC,KAAKC,UAAUC,WAEjE,OACI,uCACI,eAAC,IAAD,CAAUC,aAAc,CACpBC,SAAU,MACVC,WAAY,SAAUnY,KAAMvJ,KAAKH,MAAMogB,sBAAuB0B,iBAAkB,IAAOpV,QAASvM,KAAKwf,eAFzG,SAGI,eAAC,IAAD,CAAUoC,UAAW,EAAG5X,QAAQ,SAAS4W,SAAU5gB,KAAKH,MAAMmgB,sBAAuBzT,QAASvM,KAAKwf,eAAnG,SACKxf,KAAKH,MAAMkgB,kBAIpB,eAAC,KAAD,CAAU9S,MAAO,CAAC4U,OAAQ,IAAKtY,KAAMvJ,KAAKH,MAAMygB,SAAhD,SACI,eAAC,KAAD,CAAkBpd,MAAM,cAG5B,gBAAC,IAAD,CAAQqJ,QAASvM,KAAKuf,SAAUhW,KAAMvJ,KAAKH,MAAM6f,SAAUlW,WAAW,EAAOgD,SAAU,KAAvF,UACI,eAAC,IAAD,UACI,eAAC,IAAD,CAAM/C,WAAS,EAACC,eAAe,SAA/B,SACI,eAAC,IAAD,CAAMgD,MAAI,EAAV,SACI,gBAAC,IAAD,CAAY1C,QAAQ,KAApB,oBACYhK,KAAKH,MAAMigB,iBAKnC,eAAC,IAAD,UACI,gBAAC,IAAD,CAAMrW,WAAS,EAAC8D,WAAW,SAAS4I,UAAU,SAA9C,UACI,eAAC,IAAD,CAAMzJ,MAAI,IAGV,eAAC,IAAD,CAAMA,MAAI,EAAV,uFAGA,eAAC,IAAD,CAAMA,MAAI,EAAV,SACI,eAAC,IAAD,CAAY+E,aAAW,QAAQxH,QAASjK,KAAKuf,SAA7C,SACI,eAAC,IAAD,gBAOpB,gBAAC,IAAD,CAAQhW,MAAOvJ,KAAKH,MAAMwgB,UAA1B,UACI,eAAC,IAAD,UACI,eAAC,IAAD,yCAIJ,eAAC,IAAD,kDAKJ,gBAAC,IAAD,CAAQpb,SAAS,SAAjB,UACI,gBAAC,IAAD,WACI,eAAC,IAAD,CAAY6c,KAAK,QAAQ5e,MAAM,UAAUuO,aAAW,OAAOxH,QAASjK,KAAKqf,aAAzE,SACI,eAAC,IAAD,MAEJ,eAAC,KAAD,CAAQ5S,QAAM,EAAd,SACI,eAAC,IAAD,CAAY9B,UAAWgD,IAAMC,GAAG,IAAI1K,MAAM,UAA1C,SAAoD,eAAC,IAAD,QAExD,gBAAC,IAAD,CAAMuG,WAAS,EAAC6D,QAAS,EAAGL,MAAO,CAAE0I,YAAa,GAAI9I,WAAY,GAAlE,UACI,eAAC,IAAD,CAAMH,MAAI,EAACO,MAAO,CAAEG,SAAU,KAA9B,SACI,eAAC,IAAD,CAAYlI,MAAM,QAAlB,SACK4b,MAGT,eAAC,IAAD,CAAMpU,MAAI,EAACO,MAAO,CAAEG,SAAU,KAA9B,SACI,eAAC,IAAD,CAAYlI,MAAM,SAAlB,SACKlF,KAAKH,MAAMkJ,WAGpB,eAAC,KAAD,CAAQ0D,QAAM,EAAd,SACI,eAAC,IAAD,CAAMC,MAAI,EAAV,SACI,gBAAC,IAAD,CAAMjD,WAAS,EAAC6D,QAAS,EAAzB,UACI,eAAC,IAAD,CAAMZ,MAAI,EAAV,SACKqU,IAEL,eAAC,IAAD,CAAMrU,MAAI,EAAV,SACKsU,IAEL,eAAC,IAAD,CAAMtU,MAAI,EAAV,SACKuU,WAKjB,eAAC,IAAD,CAAMvU,MAAI,EAAV,SACI,eAAC,KAAD,CAAQD,QAAM,EAAd,SACI,eAAC,IAAD,CAAYiB,QAAM,EAACT,MAAO,CAAE8U,WAAY,OAAQ7U,MAAOlH,OAAOgc,WAAa,KAA3E,SACKhiB,KAAKH,MAAM6L,eAAevG,cAK3C,sBAAK8H,MAAO,CAAEqJ,WAAY,QAA1B,UAC4B,YAAtBtW,KAAKH,MAAMkJ,QAA8C,YAAtB/I,KAAKH,MAAMkJ,SAC5C,oBAAMqC,WAAN,CAAiBnB,QAASjK,KAAKuL,KAAMe,UAAW,eAAC,IAAD,IAActC,QAAQ,YAAY9G,MAAM,UAAxF,uBAKZ,eAAC,IAAD,CAAgB+J,MAAO,CAACyE,OAAQ,GAAI1H,QAAQ,cAAc9G,MAAM,YAAY5C,MAAON,KAAKH,MAAM+f,gBAGlG,gBAAC,IAAD,CACIrW,KAAMvJ,KAAKH,MAAM4f,OACjBlT,QAASvM,KAAKqf,aACd4C,iBAAkBf,EAClBgB,2BAA4BhB,EAJhC,UAMI,eAAC,IAAD,CAAUhZ,QAAM,EAAc+B,QAASjK,KAAKqf,aAAcpS,MAAO,CAACkV,UAAW,IAA7E,SACI,eAAC,IAAD,UAAc,eAAC,IAAD,OADI,QAGtB,eAAC,IAAD,IACA,gBAAC,IAAD,CAAUja,QAAM,EAAcyC,UAAWgD,IAAM1D,QAASjK,KAAKqf,aAAczR,GAAG,IAA9E,UACI,eAAC,IAAD,UAAc,eAAC,IAAD,MACd,eAAC,IAAD,qBAFkB,QAItB,gBAAC,IAAD,CAAU1F,QAAM,EAAqByC,UAAWgD,IAAM1D,QAASjK,KAAKqf,aAAczR,GAAG,eAArF,UACI,eAAC,IAAD,UAAc,eAAC,IAAD,MACd,eAAC,IAAD,6BAFkB,eAItB,gBAAC,IAAD,CAAU1F,QAAM,EAAkByC,UAAWgD,IAAM1D,QAASjK,KAAKqf,aAAczR,GAAG,YAAlF,UACI,eAAC,IAAD,UAAc,eAAC,IAAD,MACd,eAAC,IAAD,yBAFkB,YAItB,gBAAC,IAAD,CAAU1F,QAAM,EAAiB+B,QAASjK,KAAKsf,UAA/C,UACI,eAAC,IAAD,UAAc,eAAC,IAAD,MACd,eAAC,IAAD,+BAFkB,qB,GAnUlB/Z,aA6UTqN,gBAAW+K,M","file":"static/js/main.b6023856.chunk.js","sourcesContent":["import React, { Component } from \"react\";\r\nimport { Scatter } from 'react-chartjs-2';\r\n//import { DraggableGraph } from './DraggableGraph';\r\nimport 'chartjs-plugin-dragdata';\r\n//import Keyboard from 'react-simple-keyboard';\r\nimport { withTheme } from '@material-ui/styles';\r\nimport { alpha } from '@material-ui/core/styles/colorManipulator';\r\n\r\nclass Profile extends Component {\r\n    constructor(props) {\r\n        super(props);\r\n        this.dragStart = this.dragStart.bind(this);\r\n        this.drag = this.drag.bind(this);\r\n        this.dragEnd = this.dragEnd.bind(this);\r\n        this.state = {\r\n            hitRadius: 5,\r\n            pointRadius: 3,\r\n        };  \r\n    }\r\n    \r\n    componentDidMount() {\r\n        if (this.props.draggable) {\r\n            //hitradius over 25 ensures that touch devices can drag points\r\n            this.setState({ hitRadius: 30, pointRadius: 8 });\r\n        }\r\n    }\r\n\r\n\r\n    dragStart(e, datasetIndex, index, value) {\r\n        this.props.dragStart(e, datasetIndex, index, value);\r\n    }\r\n\r\n    drag(e, datasetIndex, index, value) {\r\n        this.props.drag(e, datasetIndex, index, value);\r\n    }\r\n\r\n    dragEnd(e, datasetIndex, index, value) {\r\n        this.props.dragEnd(e, datasetIndex, index, value);\r\n    }\r\n\r\n    render() {\r\n        var gridColor = this.props.theme.palette.text.hint;\r\n        var primaryColor = this.props.theme.palette.primary.main;\r\n        var transparentPrimary = alpha(this.props.theme.palette.primary.main, 0.2);\r\n        var secondaryColor = this.props.theme.palette.secondary.main;\r\n        var transparentSecondary = alpha(this.props.theme.palette.secondary.main, 0.2);\r\n        var tempColors = new Array(10).fill(transparentPrimary);\r\n        var historicTempPointSize = 2;\r\n        if (this.props.draggable) {\r\n            tempColors[this.props.activePoint] = secondaryColor;\r\n        }\r\n        if (this.props.historicTemps && this.props.historicTemps.length === 1) {\r\n            historicTempPointSize = 8;\r\n        }\r\n\r\n        return (\r\n            <Scatter data={{\r\n                datasets: [\r\n                    {\r\n                        label: 'Profile',\r\n                        data: this.props.profile.datapoints,\r\n                        pointBackgroundColor: tempColors,\r\n                        showLine: true,\r\n                        backgroundColor: transparentPrimary,\r\n                        borderColor: primaryColor,\r\n                        borderWidth: 3,\r\n                        pointRadius: this.state.pointRadius,\r\n                        pointHitRadius: this.state.hitRadius,\r\n                        hoverRadius: this.state.pointRadius + 3,\r\n                        dragData: this.props.draggable,\r\n                    },\r\n                    {\r\n                        label: 'Historic Temerature',\r\n                        data: this.props.historicTemps,\r\n                        showLine: true,\r\n                        backgroundColor: transparentSecondary,\r\n                        borderColor: secondaryColor,\r\n                        borderWidth: 1,\r\n                        pointRadius: historicTempPointSize,\r\n                        hoverRadius: historicTempPointSize + 1,\r\n                        dragData: false,\r\n                        borderDash: [10, 5],\r\n                        fill: 0,\r\n                    },\r\n                ],\r\n            }} options={{\r\n                maintainAspectRatio: true,\r\n                aspectRatio: 1.9,\r\n                responsive: true,\r\n                animation: {\r\n                    duration: 0,\r\n                },\r\n                scales: {\r\n                    y: {\r\n                        grid: {\r\n                            color: gridColor\r\n                        },\r\n                        ticks: {\r\n                            color: gridColor,\r\n                            stepSize: 25\r\n                        },\r\n                        min: 0,\r\n                        max: 300,\r\n                        title: {\r\n                            text: 'Temperature (C)',\r\n                            display: true,\r\n                            color: gridColor,\r\n                            font: {\r\n                                size: \"15%\",\r\n                            },\r\n                        },\r\n                    },\r\n                    x: {\r\n                        grid: {\r\n                            color: gridColor\r\n                        },\r\n                        ticks: {\r\n                            color: gridColor,\r\n                            stepSize: 25\r\n                        },\r\n                        min: 0,\r\n                        max: this.props.maxTime,\r\n                        title: {\r\n                            text: 'Time (Seconds)',\r\n                            display: true,\r\n                            color: gridColor,\r\n                            font: {\r\n                                size: \"15%\",\r\n                            },\r\n                        },\r\n                    },\r\n                },\r\n\r\n                plugins: {\r\n                    dragData: {\r\n                        round: 0,\r\n                        dragX: true,\r\n                        onDrag: (e, datasetIndex, index, value) => this.drag(e, datasetIndex, index, value),\r\n                        onDragStart: (e, datasetIndex, index, value) => this.dragStart(e, datasetIndex, index, value),\r\n                        onDragEnd: (e, datasetIndex, index, value) => this.dragEnd(e, datasetIndex, index, value)\r\n                    },\r\n                    zoom: {\r\n                        wheel: {\r\n                            enabled: true,\r\n                        },\r\n                        pinch: {\r\n                            enabled: true\r\n                        },\r\n                        mode: 'xy',\r\n                    },\r\n                    tooltip: {\r\n                        xAlign: 'right',\r\n                        yAlign: 'bottom',\r\n                        displayColors: false,\r\n                        caretPadding: 30,\r\n                        caretSize: 10,\r\n                        bodySpacing: 20,\r\n                    },\r\n                    legend: {\r\n                        display: false,\r\n                    },\r\n                    title: {\r\n                        display: false,\r\n                        color: 'white',\r\n                        fullsize: true,\r\n                        position: 'bottom',\r\n                        align: 'start',\r\n                        text: this.props.profile.name,\r\n                        padding: {\r\n                            top: 0,\r\n                            bottom: 0\r\n                        },\r\n                        font: {\r\n                            size: 30,\r\n                        }\r\n                    },\r\n                },\r\n            }} />\r\n        );\r\n    }\r\n}\r\n//this.props.historicTemps\r\nexport default withTheme(Profile);","import React, { Component } from \"react\";\r\nimport { SocketContext, socket } from './helpers/socket';\r\nimport './App.css';\r\nimport Home from './views/home';\r\nimport Settings from './views/settings';\r\nimport ProfileList from './views/profileList';\r\nimport NotFound from './views/notFound';\r\nimport { createTheme } from '@material-ui/core/styles';\r\nimport { ThemeProvider } from '@material-ui/styles';\r\nimport CssBaseline from '@material-ui/core/CssBaseline';\r\nimport {\r\n  BrowserRouter as Router,\r\n  Switch,\r\n  Route,\r\n} from \"react-router-dom\";\r\nimport EditProfile from \"./views/editProfile\";\r\nimport IdleTimer from 'react-idle-timer'\r\nimport Dialog from '@material-ui/core/Dialog';\r\nimport DialogActions from '@material-ui/core/DialogActions';\r\nimport DialogContent from '@material-ui/core/DialogContent';\r\nimport DialogTitle from '@material-ui/core/DialogTitle';\r\nimport TextField from '@material-ui/core/TextField';\r\nimport { Typography, Button, Grid } from \"@material-ui/core\";\r\nimport axios from 'axios';\r\nimport Keyboard from \"react-simple-keyboard\";\r\n//import { RemoveScrollBar } from 'react-remove-scroll-bar';\r\n\r\nclass App extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      darkMode: true,\r\n      primary: '#3f51b5',\r\n      secondary: '#e91e63',\r\n      locked: false,\r\n      passwordError: false,\r\n      password: '',\r\n      keyboardLayout: 'default',\r\n      isLocal: window.location.hostname === \"localhost\" || window.location.hostname === \"127.0.0.1\"\r\n    };\r\n    this.toggleDarkMode = this.toggleDarkMode.bind(this);\r\n    this.setPrimaryColor = this.setPrimaryColor.bind(this);\r\n    this.setSecondaryColor = this.setSecondaryColor.bind(this);\r\n    this.fetchAppearance = this.fetchAppearance.bind(this);\r\n    this.appIdle = this.appIdle.bind(this);\r\n    this.handlePasswordEnter = this.handlePasswordEnter.bind(this);\r\n    this.submitPassword = this.submitPassword.bind(this);\r\n    this.handleKeyboardInput = this.handleKeyboardInput.bind(this);\r\n  }\r\n\r\n  buf2hex(buffer) { // buffer is an ArrayBuffer\r\n  return [...new Uint8Array(buffer)]\r\n    .map(x => x.toString(16).padStart(2, '0'))\r\n    .join('');\r\n  }\r\n\r\n  componentDidMount() {\r\n    if (localStorage.getItem('locked') === 'true') {\r\n      this.setState({ locked: true });\r\n    }\r\n    this.fetchAppearance();\r\n\r\n    socket.on(\"appearance_update\", (message) => {\r\n      this.setState({\r\n        darkMode: message.dark_mode,\r\n        primary: message.primary_color,\r\n        secondary: message.secondary_color,\r\n      });\r\n    });\r\n  }\r\n\r\n  fetchAppearance() {\r\n    fetch('/api/settings/appearance')\r\n      .then(response => response.json())\r\n      .then(result => {\r\n        this.setState({ darkMode: result.dark_mode, primary: result.primary_color, secondary: result.secondary_color });\r\n      });\r\n\r\n  }\r\n\r\n  componentWillUnmount() {\r\n    socket.off(\"appearance_update\");\r\n    socket.disconnect();\r\n  }\r\n\r\n  toggleDarkMode(isDark) {\r\n    if (isDark) {\r\n      this.setState({ darkMode: true });\r\n    } else {\r\n      this.setState({ darkMode: false });\r\n    }\r\n  }\r\n\r\n  setPrimaryColor(color) {\r\n    this.setState({ primary: color });\r\n  }\r\n\r\n  setSecondaryColor(color) {\r\n    this.setState({ secondary: color });\r\n  }\r\n\r\n  appIdle() {\r\n    /*\r\n    if (this.state.isLocal) {\r\n      this.setState({ locked: true });\r\n      localStorage.setItem('locked', 'true');\r\n    }\r\n    */\r\n  }\r\n\r\n  handlePasswordEnter(e) {\r\n    this.setState({ password: e.target.value });\r\n  }\r\n\r\n  handleKeyboardInput(button) {\r\n    if (button === '{lock}') {\r\n      if (this.state.keyboardLayout === 'caps' || this.state.keyboardLayout === 'shift') {\r\n        this.setState({ keyboardLayout: 'default' });\r\n      } else {\r\n        this.setState({ keyboardLayout: 'caps' });\r\n      }\r\n    } else if (button === '{shift}') {\r\n      if (this.state.keyboardLayout === 'caps' || this.state.keyboardLayout === 'shift') {\r\n        this.setState({ keyboardLayout: 'default' });\r\n      } else {\r\n        this.setState({ keyboardLayout: 'shift' });\r\n      }\r\n    } else {\r\n      let tempPassword = this.state.password;\r\n      if (button === '{bksp}') {\r\n        tempPassword = tempPassword.substring(0, tempPassword.length - 1);\r\n      } else if (button === '{space}') {\r\n        tempPassword += ' ';\r\n      } else if (button === '{enter}') {\r\n        this.submitPassword();\r\n        return;\r\n      } else {\r\n        if (button !== '{tab}') {\r\n          tempPassword += button;\r\n        } \r\n      }\r\n      this.setState({ password: tempPassword });\r\n      if (this.state.keyboardLayout === 'shift') {\r\n        this.setState({ keyboardLayout: 'default' });\r\n      }\r\n    }\r\n  }\r\n\r\n  submitPassword() {\r\n    window.crypto.subtle.digest('sha-256', Buffer.from(this.state.password)).then((digest) => {\r\n      axios.post('/api/check_password', { hashed: this.buf2hex(digest) })\r\n        .then(res => {\r\n          if (res.data.status === 200) {\r\n            this.setState({ locked: false, password: '', passwordError: false });\r\n            localStorage.setItem('locked', 'false');\r\n          } else if (res.data.status === 403) {\r\n            this.setState({ passwordError: true, password: '' });\r\n          }\r\n        });\r\n    });\r\n  }\r\n\r\n\r\n  render() {\r\n    var themeType = 'dark';\r\n    if (!this.state.darkMode) {\r\n      themeType = 'light'\r\n    }\r\n    const theme = createTheme({\r\n      palette: {\r\n        type: themeType,\r\n        primary: {\r\n          main: this.state.primary,\r\n        },\r\n        secondary: {\r\n          main: this.state.secondary,\r\n        },\r\n      }\r\n\r\n    });\r\n\r\n    return (\r\n      <ThemeProvider theme={theme}>\r\n        \r\n        <IdleTimer\r\n          timeout={7560000}\r\n          onIdle={this.appIdle}\r\n          debounce={250}\r\n        />\r\n        <CssBaseline />\r\n        <Dialog open={this.state.locked} fullWidth={true}>\r\n          <DialogTitle>\r\n            <Typography align='center'>\r\n              Oven locked. Please enter password:\r\n            </Typography>\r\n          </DialogTitle>\r\n          <DialogContent>\r\n            <Grid container justifyContent='center'>\r\n              <TextField\r\n                error={this.state.passwordError}\r\n                onChange={this.handlePasswordEnter}\r\n                value={this.state.password}\r\n                type='password'\r\n                inputProps={{\r\n                  autocomplete: 'new-password',\r\n                  form: {\r\n                    autocomplete: 'off',\r\n                  },\r\n                }}\r\n              />\r\n            </Grid>\r\n          </DialogContent>\r\n          <DialogActions>\r\n            <Button color='primary' variant='outline' onClick={this.submitPassword}>Enter</Button>\r\n          </DialogActions>\r\n          <Keyboard\r\n            theme={themeType === 'dark' ? 'hg-theme-dark' : 'hg-theme-default'}\r\n            layoutName={this.state.keyboardLayout}\r\n            layout={{\r\n              default: [\r\n                \"` 1 2 3 4 5 6 7 8 9 0 - = {bksp}\",\r\n                \"{tab} q w e r t y u i o p [ ] \\\\\",\r\n                \"{lock} a s d f g h j k l ; ' {enter}\",\r\n                \"{shift} z x c v b n m , . / {shift}\",\r\n                \"{space}\"\r\n              ],\r\n              shift: [\r\n                \"~ ! @ # $ % ^ & * ( ) _ + {bksp}\",\r\n                \"{tab} Q W E R T Y U I O P { } |\",\r\n                '{lock} A S D F G H J K L : \" {enter}',\r\n                \"{shift} Z X C V B N M < > ? {shift}\",\r\n                \"{space}\"\r\n              ],\r\n              caps: [\r\n                \"~ ! @ # $ % ^ & * ( ) _ + {bksp}\",\r\n                \"{tab} Q W E R T Y U I O P { } |\",\r\n                '{lock} A S D F G H J K L : \" {enter}',\r\n                \"{shift} Z X C V B N M < > ? {shift}\",\r\n                \"{space}\"\r\n              ]\r\n            }}\r\n            onKeyPress={this.handleKeyboardInput}\r\n          />\r\n        </Dialog>\r\n        \r\n        <Router>\r\n          <SocketContext.Provider value={socket}>\r\n            \r\n            <Switch>\r\n\r\n              <Route exact path=\"/\" >\r\n                <Home />\r\n              </Route>\r\n              <Route path=\"/editProfile\" >\r\n                <EditProfile />\r\n              </Route>\r\n              <Route path=\"/profileList\" >\r\n                <ProfileList />\r\n              </Route>\r\n              <Route path=\"/settings\" >\r\n                <Settings\r\n                  toggleDarkMode={this.toggleDarkMode}\r\n                  setPrimaryColor={this.setPrimaryColor}\r\n                  setSecondaryColor={this.setSecondaryColor}\r\n                  primary={this.state.primary}\r\n                  secondary={this.state.secondary}\r\n                  darkMode={this.state.darkMode}\r\n                />\r\n              </Route>\r\n              <Route component={NotFound} />\r\n            </Switch>\r\n          </SocketContext.Provider>\r\n        </Router>\r\n      </ThemeProvider>\r\n\r\n\r\n\r\n    );\r\n  }\r\n}\r\n//<h1>{props.isLocal.toString()}</h1>\r\nexport { App };\r\n","import { React, Component } from 'react';\r\nimport Stepper from '@material-ui/core/Stepper';\r\nimport Step from '@material-ui/core/Step';\r\nimport StepLabel from '@material-ui/core/StepLabel';\r\nimport Profile from '../components/Profile';\r\nimport EditIcon from '@material-ui/icons/Edit';\r\nimport { Button, Container, Grid, Typography, Box, Paper } from '@material-ui/core';\r\nimport { Link } from \"react-router-dom\";\r\nimport { socket } from '../helpers/socket';\r\nimport axios from 'axios';\r\nimport PlayArrowIcon from '@material-ui/icons/PlayArrow';\r\nimport StopIcon from '@material-ui/icons/Stop';\r\nimport StatusBar from '../components/StatusBar';\r\nimport { withStyles } from '@material-ui/core/styles';\r\nimport Dialog from '@material-ui/core/Dialog';\r\nimport DialogActions from '@material-ui/core/DialogActions';\r\nimport DialogContent from '@material-ui/core/DialogContent';\r\nimport DialogTitle from '@material-ui/core/DialogTitle';\r\nimport ListAltIcon from '@material-ui/icons/ListAlt';\r\nimport Hidden from '@material-ui/core/Hidden';\r\n\r\nclass Home extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.runProfile = this.runProfile.bind(this);\r\n    this.forceRunProfile = this.forceRunProfile.bind(this);\r\n    this.stop = this.stop.bind(this);\r\n    this.cancelClicked = this.cancelClicked.bind(this);\r\n    this.coolingDialogClose = this.coolingDialogClose.bind(this);\r\n    this.state = ({\r\n      currentProfile: {\r\n        \"name\": \"flat\",\r\n        \"date_created\": 0,\r\n        \"last_run\": 0,\r\n        \"datapoints\": [\r\n          {\r\n            \"x\": 0,\r\n            \"y\": 30\r\n          },\r\n          {\r\n            \"x\": 75,\r\n            \"y\": 30\r\n          },\r\n          {\r\n            \"x\": 150,\r\n            \"y\": 30\r\n          },\r\n          {\r\n            \"x\": 225,\r\n            \"y\": 30\r\n          },\r\n          {\r\n            \"x\": 300,\r\n            \"y\": 30\r\n          },\r\n          {\r\n            \"x\": 375,\r\n            \"y\": 30\r\n          }\r\n        ]\r\n      },\r\n      historicTemperature: [],\r\n      percentDone: 0,\r\n      status: \"Ready\",\r\n      activeStep: 0,\r\n      startWhenCoolingDialog: false,\r\n      coolingDialog: false\r\n    });\r\n\r\n  }\r\n\r\n  steps = [\r\n    {\r\n      label: 'Ready'\r\n    },\r\n    {\r\n      label: 'Preheat',\r\n      description: ''\r\n    },\r\n    {\r\n      label: 'Run Profile',\r\n      description: ''\r\n    },\r\n    {\r\n      label: 'Peak',\r\n      description: ''\r\n    },\r\n    {\r\n      label: 'Cooling',\r\n      description: ''\r\n    }\r\n  ];\r\n\r\n  StartButton = withStyles({\r\n    root: {\r\n      backgroundColor: '#00ba16',\r\n      '&:hover': {\r\n        backgroundColor: '#009612'\r\n      }\r\n    }\r\n  })(Button);\r\n\r\n  StopButton = withStyles({\r\n    root: {\r\n      backgroundColor: '#bf0000',\r\n      '&:hover': {\r\n        backgroundColor: '#870000'\r\n      }\r\n    }\r\n  })(Button);\r\n\r\n  componentDidMount() {\r\n    fetch('/api/current_profile')\r\n      .then(response => response.json())\r\n      .then(result => {\r\n        this.setState({ currentProfile: result.current_profile });\r\n      });\r\n    socket.on(\"status_update\", (message) => {\r\n      this.setState({\r\n        currentProfile: message.current_profile,\r\n        historicTemperature: message.historic_temperature,\r\n        status: message.status\r\n      });\r\n      if (this.state.status === \"Ready\") {\r\n        this.setState({ activeStep: 0 });\r\n      } else if (this.state.status === \"Preheat\") {\r\n        this.setState({ activeStep: 1 });\r\n      } else if (this.state.status === \"Running\") {\r\n        this.setState({ activeStep: 2 });\r\n      } else if (this.state.status === \"Peak\") {\r\n        this.setState({ activeStep: 3 });\r\n      } else if (this.state.status === \"Cooling\") {\r\n        this.setState({ activeStep: 4 });\r\n      }\r\n    });\r\n    socket.on(\"notify_cooling\", (message) => {\r\n      this.setState({\r\n        coolingDialog: true\r\n      });\r\n    });\r\n  }\r\n\r\n  //need to fix\r\n  shouldComponentUpdate(nextState) {\r\n    return true;\r\n  }\r\n\r\n  componentWillUnmount() {\r\n    socket.off(\"status_update\");\r\n    socket.off(\"notify_cooling\");\r\n  }\r\n\r\n  runProfile() {\r\n      axios.post('/api/run', { override: false })\r\n        .then(res => {\r\n          if (res.data.status === 200) {\r\n            this.setState({ status: \"Running\" });\r\n          } else if (res.data.status === 409) {\r\n            this.setState({ startWhenCoolingDialog: true });\r\n          }\r\n        });\r\n  }\r\n\r\n  forceRunProfile() {\r\n    axios.post('/api/run', { override: true })\r\n      .then(res => {\r\n        if (res.data.status === 200) {\r\n          this.setState({ status: \"Running\", startWhenCoolingDialog: false  });\r\n        }\r\n      });\r\n  }\r\n\r\n  stop() {\r\n    axios.post('/api/stop', { reason: \"test\" })\r\n      .then(res => {\r\n        if (res.data.status === 200) {\r\n          this.setState({ status: \"Ready\" });\r\n        }\r\n      });\r\n  }\r\n\r\n  cancelClicked() {\r\n    this.setState({ startWhenCoolingDialog: false });\r\n  }\r\n\r\n  coolingDialogClose() {\r\n    this.setState({ coolingDialog: false });\r\n  }\r\n\r\n  render() {\r\n    const isRunning = this.state.status === \"Preheat\" || this.state.status === \"Running\" || this.state.status === \"Peak\" ;\r\n    let stopStartButton;\r\n    if (isRunning) {\r\n      stopStartButton = <this.StopButton onClick={this.stop} startIcon={<StopIcon />} variant=\"contained\" color=\"primary\">Stop</this.StopButton>;\r\n    } else {\r\n      stopStartButton = <this.StartButton onClick={this.runProfile} startIcon={<PlayArrowIcon />} variant=\"contained\" color=\"primary\">Start</this.StartButton>;\r\n    }\r\n    return (\r\n      <>\r\n        <StatusBar />\r\n\r\n        <Dialog open={this.state.startWhenCoolingDialog} onClose={this.cancelClicked} maxWidth='xs' fullWidth>\r\n          <DialogTitle>\r\n            Oven still cooling\r\n          </DialogTitle>\r\n          <DialogContent>\r\n            Start profile anyway?\r\n          </DialogContent>\r\n          <DialogActions>\r\n            <Button onClick={this.cancelClicked} color=\"primary\" variant='contained'>\r\n              Cancel\r\n            </Button>\r\n            <Button onClick={this.forceRunProfile} color=\"primary\" variant='contained'>\r\n              Start Anyway\r\n            </Button>\r\n          </DialogActions>\r\n        </Dialog>\r\n\r\n        <Dialog open={this.state.coolingDialog} onClose={this.coolingDialogClose} maxWidth='xs' fullWidth>\r\n          <DialogTitle>\r\n            Cooling Started\r\n          </DialogTitle>\r\n          <DialogContent>\r\n            Please open oven door.\r\n          </DialogContent>\r\n          <DialogActions>\r\n            <Button onClick={this.coolingDialogClose} color=\"primary\" variant='contained'>\r\n              Ok\r\n            </Button>\r\n          </DialogActions>\r\n        </Dialog>\r\n\r\n        <Container maxWidth={false}>\r\n          \r\n          <Grid container>\r\n            <Hidden xsDown>\r\n              <Grid item sm={2}>\r\n                <Box sx={{ paddingTop: 20 }}>\r\n                  <Paper>\r\n                    <Stepper activeStep={this.state.activeStep} orientation='vertical' square={false}>\r\n                      {this.steps.map((step, index) => (\r\n                        <Step key={step.label} >\r\n                          <StepLabel>\r\n                            <Typography variant='subtitle2' align='left'>\r\n                              {step.label}\r\n                            </Typography>\r\n                          </StepLabel>\r\n                        </Step>\r\n                      ))}\r\n                    </Stepper>\r\n                  </Paper>\r\n                </Box>\r\n              </Grid>\r\n            </Hidden>\r\n              \r\n            \r\n            <Grid item sm={10}>\r\n              <div style={{ paddingTop: \"20px\", width: '91%', margin: '0 0 0 auto', minWidth: 350 }}>\r\n                <Paper>\r\n                  <Hidden smDown>\r\n                    <Typography align='center' variant='h5'>\r\n                      <u>{this.state.currentProfile.name}</u>\r\n                    </Typography>\r\n                  </Hidden>\r\n                  <div style={{padding: '10px 10px 15px 10px '}}>\r\n                    <Profile draggable={false} profile={this.state.currentProfile} historicTemps={this.state.historicTemperature}/>\r\n                  </div>\r\n                </Paper>\r\n              </div>\r\n            </Grid>\r\n          </Grid>\r\n\r\n          <Grid container spacing={3} alignItems=\"center\" justifyContent='space-between' style={{ paddingTop: '15px' }}>\r\n            <Grid item xs={5}>\r\n              <Hidden mdUp>\r\n                <Paper style={{ padding: '6px 7px 6px 10px', minWidth: 285 }}>\r\n                  <Typography noWrap style={{width: 270}}>\r\n                    Profile: {this.state.currentProfile.name}\r\n                  </Typography>\r\n                </Paper>\r\n              </Hidden>\r\n            </Grid>\r\n            \r\n            \r\n            <Grid item>   \r\n              <Grid container spacing={3}>\r\n                <Grid item>\r\n                  <Button component={Link} to={{ pathname: '/profileList' }} startIcon={<ListAltIcon />} variant=\"contained\" color=\"primary\" >Profile List</Button>\r\n                </Grid>\r\n                <Grid item>\r\n                  <Button component={Link} to={{ pathname: '/editProfile', state: { profile: this.state.currentProfile, tempHistory: this.state.historicTemperature } }} startIcon={<EditIcon />} variant=\"contained\" color=\"primary\" >Edit</Button>\r\n                </Grid>\r\n                <Grid item>\r\n                  {stopStartButton}\r\n                </Grid>\r\n              </Grid>\r\n            </Grid>\r\n          </Grid>\r\n        </Container>\r\n      </>\r\n    );\r\n  }\r\n}\r\n\r\nexport default Home;","import { React, Component } from 'react';\r\nimport Profile from '../components/Profile';\r\nimport { Button, Grid, Dialog, DialogTitle, DialogContent, DialogActions, IconButton, Container, Typography, Box } from '@material-ui/core';\r\nimport { DataGrid } from '@material-ui/data-grid'\r\nimport { Link, withRouter } from \"react-router-dom\";\r\nimport axios from 'axios';\r\nimport CancelIcon from '@material-ui/icons/Cancel';\r\nimport DoneIcon from '@material-ui/icons/Done';\r\nimport PublishIcon from '@material-ui/icons/Publish';\r\nimport SaveAltIcon from '@material-ui/icons/SaveAlt';\r\nimport { withStyles } from '@material-ui/core/styles';\r\nimport EditIcon from '@material-ui/icons/Edit';\r\nimport CloseIcon from '@material-ui/icons/Close';\r\nimport StatusBar from '../components/StatusBar';\r\nimport DeleteIcon from '@material-ui/icons/Delete';\r\nimport FileSaver from 'file-saver';\r\nimport NoteAddIcon from '@material-ui/icons/NoteAdd';\r\n\r\nclass ProfileList extends Component {\r\n  constructor() {\r\n    super();\r\n    var isLocal = false;\r\n    if (window.location.hostname === \"localhost\" || window.location.hostname === \"127.0.0.1\" || window.location.hostname === \"\") {\r\n      isLocal = true;\r\n    }\r\n    this.state = ({\r\n      profiles: [],\r\n      activeItem: \"\",\r\n      dialog: false,\r\n      forceLoadDialog: false,\r\n      allowUploadDownload: !isLocal,\r\n      deleteDialog: false,\r\n      saveProfileError: '',\r\n      saveProfileErrorDialog: false,\r\n    });\r\n    this.loadClicked = this.loadClicked.bind(this);\r\n    this.forceLoadClicked = this.forceLoadClicked.bind(this);\r\n    this.handleItemClick = this.handleItemClick.bind(this);\r\n    this.handleDialogClose = this.handleDialogClose.bind(this);\r\n    this.downloadProfile = this.downloadProfile.bind(this);\r\n    this.fileChanged = this.fileChanged.bind(this);\r\n    this.handleForceDialogClose = this.handleForceDialogClose.bind(this);\r\n    this.handleDeleteDialogClose = this.handleDeleteDialogClose.bind(this);\r\n    this.deleteClicked = this.deleteClicked.bind(this);\r\n    this.deleteProfile = this.deleteProfile.bind(this);\r\n    this.saveProfileErrorClose = this.saveProfileErrorClose.bind(this);\r\n  }\r\n\r\n  SelectButton = withStyles({\r\n    root: {\r\n      backgroundColor: '#00ba16',\r\n      '&:hover': {\r\n        backgroundColor: '#009612'\r\n      }\r\n    }\r\n  })(Button);\r\n\r\n  DeleteButton = withStyles({\r\n    root: {\r\n      backgroundColor: '#bf0000',\r\n      '&:hover': {\r\n        backgroundColor: '#870000'\r\n      }\r\n    }\r\n  })(Button);\r\n\r\n  columns = [\r\n    {\r\n      field: 'name',\r\n      headerName: 'Profile Name',\r\n      width: 250,\r\n    },\r\n    {\r\n      field: 'last_run',\r\n      headerName: 'Last Loaded',\r\n      type: 'dateTime',\r\n      width: 180,\r\n      editable: false,\r\n      valueFormatter: (params) => {\r\n        if (params.value === 0) {\r\n          return 'never';\r\n        } else {\r\n          return new Date(params.value).toLocaleString();\r\n        }\r\n      }\r\n    },\r\n    {\r\n      field: 'date_created',\r\n      headerName: 'Date Created',\r\n      type: 'dateTime',\r\n      width: 180,\r\n      editable: false,\r\n      valueFormatter: (params) => {\r\n        if (params.value === 0) {\r\n          return 'n/a';\r\n        } else {\r\n          return new Date(params.value).toLocaleString();\r\n        }\r\n      }\r\n    },\r\n    {\r\n      field: 'is_default',\r\n      headerName: 'Default',\r\n      width: 130,\r\n      valueFormatter: (params) => {\r\n        if (!params.value) {\r\n          return '';\r\n        } else {\r\n          if (params.value === true) {\r\n            return 'Yes';\r\n          }\r\n        }\r\n      }\r\n    }\r\n  ];\r\n\r\n\r\n  handleItemClick(e) {\r\n    this.setState({ activeItem: e.row })\r\n    this.setState({ dialog: true });\r\n  }\r\n\r\n  handleDialogClose() {\r\n    this.setState({ dialog: false });\r\n  }\r\n\r\n  handleForceDialogClose() {\r\n    this.setState({ forceLoadDialog: false });\r\n  }\r\n\r\n  handleDeleteDialogClose() {\r\n    this.setState({ deleteDialog: false });\r\n  }\r\n\r\n  componentDidMount() {\r\n    this.getData();\r\n  }\r\n\r\n  getData() {\r\n    fetch('/api/reflow_profiles/all')\r\n      .then(response => response.json())\r\n      .then(result => {\r\n        result.forEach(element => {\r\n          element['id'] = element.name;\r\n        });\r\n        this.setState({ profiles: result });\r\n      });\r\n  }\r\n\r\n  loadClicked() {\r\n    axios.post('/api/reflow_profiles/load', { profile_name: this.state.activeItem.name, force_load: false })\r\n      .then(res => {\r\n        //check if response is ok or if validation failed\r\n        if (res.data.status === 200) {\r\n          //go to home page\r\n          const { history } = this.props;\r\n          if (history) history.push('/');\r\n        }\r\n        else if (res.data.status === 409) {\r\n          console.log('got 409')\r\n          this.setState({ forceLoadDialog: true });\r\n        }\r\n      });\r\n  }\r\n\r\n  forceLoadClicked() {\r\n    axios.post('/api/reflow_profiles/load', { profile_name: this.state.activeItem.name, force_load: true })\r\n      .then(res => {\r\n        //check if response is ok or if validation failed\r\n        if (res.data.status === 200) {\r\n          //go to home page\r\n          const { history } = this.props;\r\n          if (history) history.push('/');\r\n        }\r\n      });\r\n  }\r\n\r\n  downloadProfile() {\r\n    var downloadableProfile = this.state.activeItem;\r\n    delete downloadableProfile['id'];\r\n    delete downloadableProfile['is_default'];\r\n    var blob = new Blob([JSON.stringify(downloadableProfile, null, 3)], { type: \"text/plain;charset=utf-8\" });\r\n    FileSaver.saveAs(blob, downloadableProfile.name + \".json\");\r\n  }\r\n\r\n  fileChanged(e) {\r\n    const fileReader = new FileReader();\r\n    fileReader.readAsText(e.target.files[0], \"UTF-8\");\r\n    fileReader.onload = (e) => {\r\n      var uploadedFile = JSON.parse(e.target.result);\r\n      axios.post('/api/reflow_profiles/save', uploadedFile)\r\n        .then(res => {\r\n          if (res.data.status === 200) {\r\n            this.getData();\r\n          } else {\r\n            this.setState({ saveProfileError: res.data.message, saveProfileErrorDialog: true });\r\n          }\r\n        });\r\n    };\r\n  }\r\n\r\n  deleteProfile() {\r\n    axios.post('/api/reflow_profiles/delete', { profile_name: this.state.activeItem.name })\r\n      .then(res => {\r\n        this.getData();\r\n        this.setState({ deleteDialog: false, dialog: false });\r\n      });\r\n  }\r\n\r\n  deleteClicked() {\r\n    this.setState({ deleteDialog: true });\r\n  }\r\n\r\n  saveProfileErrorClose() {\r\n    this.setState({ saveProfileErrorDialog: false });\r\n  }\r\n\r\n  render() {\r\n    var deleteButton = <this.DeleteButton startIcon={<DeleteIcon />} variant='contained' color='primary' onClick={this.deleteClicked}>Delete</this.DeleteButton>;\r\n    var downloadButton = <Button startIcon={<SaveAltIcon />} variant=\"contained\" color=\"primary\" onClick={this.downloadProfile}>Download</Button>;\r\n    if (this.state.activeItem) {\r\n      if (this.state.activeItem.hasOwnProperty('is_default')) {\r\n        if (this.state.activeItem.is_default === true) {\r\n          deleteButton = <></>;\r\n        }\r\n      }\r\n    }\r\n\r\n    return (\r\n      <>\r\n        <StatusBar />\r\n        <Dialog onClose={this.handleDialogClose} open={this.state.dialog} maxWidth='lg' fullWidth>\r\n          <DialogTitle>\r\n            <Grid container justifyContent='space-between'>\r\n              <Grid item>\r\n                <Typography noWrap style={{width: 450, paddingTop: 10}}>\r\n                  {this.state.activeItem.name}\r\n                </Typography>\r\n              </Grid>\r\n              <Grid item>\r\n                <IconButton aria-label=\"close\" onClick={this.handleDialogClose}>\r\n                  <CloseIcon />\r\n                </IconButton>\r\n              </Grid>\r\n            </Grid>\r\n          </DialogTitle>\r\n          <DialogContent>\r\n            <Grid container justifyContent='center'>\r\n              <Box width=\"73%\" alignItems='center'>\r\n                <Profile draggable={false} profile={this.state.activeItem} historicTemps={[]} />\r\n              </Box>\r\n            </Grid>\r\n          </DialogContent>\r\n          <DialogActions>\r\n            <Grid container justifyContent='space-between'>\r\n              <Grid item>\r\n                {deleteButton}\r\n              </Grid>\r\n              <Grid item>\r\n                <Grid container spacing={2}>\r\n                  <Grid item>\r\n                    {this.state.allowUploadDownload && downloadButton}\r\n                  </Grid>\r\n                  <Grid item>\r\n                    <Button component={Link} to={{ pathname: '/editProfile', state: { profile: this.state.activeItem } }} startIcon={<EditIcon />} variant=\"contained\" color=\"primary\">Edit</Button>\r\n                  </Grid>\r\n                  <Grid item>\r\n                    <this.SelectButton onClick={this.loadClicked} startIcon={<DoneIcon />} variant=\"contained\" color='primary'>Load</this.SelectButton>\r\n                  </Grid>\r\n                </Grid>\r\n              </Grid>\r\n            </Grid>\r\n          </DialogActions>\r\n        </Dialog>\r\n\r\n        <Dialog open={this.state.forceLoadDialog}>\r\n          <DialogTitle>\r\n            Oven Currently Running\r\n          </DialogTitle>\r\n          <DialogContent>\r\n            Stop oven and load profile?\r\n          </DialogContent>\r\n          <DialogActions>\r\n            <Button onClick={this.handleForceDialogClose} color=\"primary\" variant='contained'>\r\n              Cancel\r\n            </Button>\r\n            <Button onClick={this.forceLoadClicked} color=\"primary\" variant='contained'>\r\n              Force Load\r\n            </Button>\r\n          </DialogActions>\r\n        </Dialog>\r\n\r\n        <Dialog open={this.state.deleteDialog} onClose={this.handleDeleteDialogClose}>\r\n          <DialogTitle>\r\n            Delete Profile\r\n          </DialogTitle>\r\n          <DialogContent>\r\n            Are you sure you want to delete \"{this.state.activeItem.name}\"?\r\n          </DialogContent>\r\n          <DialogActions>\r\n            <Button onClick={this.handleDeleteDialogClose} color=\"primary\" variant='contained'>\r\n              Cancel\r\n            </Button>\r\n            <Button onClick={this.deleteProfile} color=\"primary\" variant='contained'>\r\n              Yes\r\n            </Button>\r\n          </DialogActions>\r\n        </Dialog>\r\n\r\n        <Dialog open={this.state.saveProfileErrorDialog} onClose={this.saveProfileErrorClose}>\r\n          <DialogTitle>\r\n            Error saving profile\r\n          </DialogTitle>\r\n          <DialogContent>\r\n            {this.state.saveProfileError}\r\n          </DialogContent>\r\n          <DialogActions>\r\n            <Button onClick={this.saveProfileErrorClose} color=\"primary\" variant='contained'>\r\n              OK\r\n            </Button>\r\n          </DialogActions>\r\n        </Dialog>\r\n\r\n\r\n        <Container maxWidth={false}>\r\n          <div style={{ height: window.innerHeight - 120, paddingBottom: 10, paddingTop: 10 }}>\r\n            <DataGrid\r\n              rows={this.state.profiles}\r\n              rowHeight={45}\r\n              columns={this.columns}\r\n              pagination={true}\r\n              autoPageSize\r\n              checkboxSelection={false}\r\n              disableMultipleSelection={true}\r\n              onRowClick={this.handleItemClick}\r\n              sortingOrder={['desc', 'asc', null]}\r\n              sortModel={[{ field: 'is_default', sort: 'desc' }]}\r\n            />\r\n          </div>\r\n        </Container>\r\n\r\n        <Container maxWidth={false}>\r\n          <Grid container spacing={3} justifyContent=\"flex-end\" >\r\n            <Grid item >\r\n              <Button component={Link} to=\"/\" startIcon={<CancelIcon />} variant=\"contained\" color=\"primary\">Cancel</Button>\r\n            </Grid>\r\n            {this.state.allowUploadDownload &&\r\n              <Grid item>\r\n                <Button startIcon={<PublishIcon />} variant=\"contained\" color=\"primary\" component=\"label\" >Upload<input type=\"file\" accept=\"application/JSON\" hidden onChange={this.fileChanged} /></Button>\r\n              </Grid>\r\n            }\r\n            <Grid item>\r\n              <Button component={Link} to={{\r\n                pathname: '/editProfile', state: {\r\n                  profile: {\r\n                    name: \"new_profile\",\r\n                    date_created: Date.now(),\r\n                    last_run: 0,\r\n                    datapoints: [\r\n                      {\r\n                        x: 0,\r\n                        y: 30\r\n                      },\r\n                      {\r\n                        x: 75,\r\n                        y: 30\r\n                      },\r\n                      {\r\n                        x: 150,\r\n                        y: 30\r\n                      },\r\n                      {\r\n                        x: 225,\r\n                        y: 30\r\n                      },\r\n                      {\r\n                        x: 300,\r\n                        y: 30\r\n                      },\r\n                      {\r\n                        x: 375,\r\n                        y: 30\r\n                      }\r\n                    ]\r\n                  }\r\n                }\r\n              }} startIcon={<NoteAddIcon />} variant=\"contained\" color=\"primary\" >Create New</Button>\r\n            </Grid>\r\n          </Grid>\r\n        </Container>\r\n\r\n\r\n\r\n      </>\r\n    );\r\n  }\r\n}\r\n\r\nexport default withRouter(ProfileList);","import React, { Component } from \"react\";\r\nimport Typography from '@material-ui/core/Typography';\r\nimport StatusBar from '../components/StatusBar';\r\n\r\nclass NotFound extends Component {\r\n\r\n\r\n    render() {\r\n        return (\r\n            <>\r\n                <StatusBar />\r\n                <Typography variant='h5' align='center'>404. Hope you find your way back!</Typography>\r\n            </>\r\n            \r\n        );\r\n    }\r\n}\r\n\r\nexport default NotFound;","import { React, Component } from 'react';\r\nimport Profile from '../components/Profile';\r\nimport { Button, Input, Grid, Container, InputAdornment, IconButton, Typography, Switch } from '@material-ui/core';\r\nimport Keyboard from 'react-simple-keyboard';\r\nimport { withRouter } from \"react-router-dom\";\r\nimport 'react-simple-keyboard/build/css/index.css';\r\nimport axios from 'axios';\r\nimport CancelIcon from '@material-ui/icons/Cancel';\r\nimport Dialog from '@material-ui/core/Dialog';\r\nimport DialogActions from '@material-ui/core/DialogActions';\r\nimport DialogContent from '@material-ui/core/DialogContent';\r\nimport DialogTitle from '@material-ui/core/DialogTitle';\r\nimport StatusBar from '../components/StatusBar';\r\nimport ClearIcon from '@material-ui/icons/Clear';\r\nimport SaveIcon from '@material-ui/icons/Save';\r\nimport AddIcon from '@material-ui/icons/Add';\r\nimport RemoveIcon from '@material-ui/icons/Remove';\r\nimport ArrowUpwardIcon from '@material-ui/icons/ArrowUpward';\r\nimport ArrowDownwardIcon from '@material-ui/icons/ArrowDownward';\r\nimport ArrowBackIcon from '@material-ui/icons/ArrowBack';\r\nimport ArrowForwardIcon from '@material-ui/icons/ArrowForward';\r\nimport Paper from '@material-ui/core/Paper';\r\nimport Hidden from '@material-ui/core/Hidden';\r\nimport './keyboard.css';\r\nimport { withTheme } from '@material-ui/styles';\r\n\r\n\r\nclass EditProfile extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n\r\n    if (!this.props.location.state) {\r\n      this.props.location.state = {\r\n        profile: {\r\n          name: \"new_profile\",\r\n          date_created: Date.now(),\r\n          last_run: 0,\r\n          datapoints: [\r\n            {\r\n              x: 0,\r\n              y: 30\r\n            },\r\n            {\r\n              x: 75,\r\n              y: 30\r\n            },\r\n            {\r\n              x: 150,\r\n              y: 30\r\n            },\r\n            {\r\n              x: 225,\r\n              y: 30\r\n            },\r\n            {\r\n              x: 300,\r\n              y: 30\r\n            },\r\n            {\r\n              x: 375,\r\n              y: 30\r\n            }\r\n          ]\r\n        }\r\n      };\r\n    }\r\n\r\n    this.state = ({\r\n      loadDialog: false,\r\n      forceLoadDialog: false,\r\n      enterNameDialog: false,\r\n      newName: this.props.location.state.profile.name,\r\n      newDatapoints: this.props.location.state.profile.datapoints,\r\n      newProfile: this.props.location.state.profile,\r\n      currentX: this.props.location.state.profile.datapoints[0].x,\r\n      currentY: this.props.location.state.profile.datapoints[0].y,\r\n      maxTime: 300,\r\n      maxNodes: 6,\r\n      currentPoint: 0,\r\n      slope: 'N/A',\r\n      showHistory: false,\r\n      keyboardLayout: 'default',\r\n      saveProfileError: '',\r\n      saveProfileErrorDialog: false,\r\n      tempHistory: this.props.location.state.tempHistory || [],\r\n      isLocal: window.location.hostname === \"localhost\" || window.location.hostname === \"127.0.0.1\"\r\n    });\r\n    \r\n    this.saveProfile = this.saveProfile.bind(this);\r\n    this.handleInputChange = this.handleInputChange.bind(this);\r\n    this.goBack = this.goBack.bind(this);\r\n    this.loadClicked = this.loadClicked.bind(this);\r\n    this.forceLoadClicked = this.forceLoadClicked.bind(this);\r\n    this.cancelClicked = this.cancelClicked.bind(this);\r\n    this.saveClicked = this.saveClicked.bind(this);\r\n    this.handleKeyboardInput = this.handleKeyboardInput.bind(this);\r\n    this.cancelEnterName = this.cancelEnterName.bind(this);\r\n    this.clearName = this.clearName.bind(this);\r\n    this.dragStart = this.dragStart.bind(this);\r\n    this.drag = this.drag.bind(this);\r\n    this.dragEnd = this.dragEnd.bind(this);\r\n    this.addX = this.addX.bind(this);\r\n    this.subtractX = this.subtractX.bind(this);\r\n    this.addY = this.addY.bind(this);\r\n    this.subtractY = this.subtractY.bind(this);\r\n    this.addTime = this.addTime.bind(this);\r\n    this.subtractTime = this.subtractTime.bind(this);\r\n    this.addNode = this.addNode.bind(this);\r\n    this.subtractNode = this.subtractNode.bind(this);\r\n    this.showHistoryClicked = this.showHistoryClicked.bind(this);\r\n    this.calculateSlopeAtPoint = this.calculateSlopeAtPoint.bind(this);\r\n    this.saveProfileErrorClose = this.saveProfileErrorClose.bind(this);\r\n  }\r\n\r\n  calculateSlopeAtPoint(index) {\r\n    if (index === 0) {\r\n      this.setState({ slope: 'Infinity' });\r\n    } else {\r\n      if (this.state.newProfile.datapoints[index - 1].x === this.state.newProfile.datapoints[index].x) {\r\n        if (this.state.newProfile.datapoints[index - 1].y < this.state.newProfile.datapoints[index].y) {\r\n          this.setState({ slope: 'Infinity' });\r\n        } else {\r\n          this.setState({ slope: '-Infinity' });\r\n        }\r\n      } else {\r\n        var rise = this.state.newProfile.datapoints[index - 1].y - this.state.newProfile.datapoints[index].y;\r\n        var run = this.state.newProfile.datapoints[index - 1].x - this.state.newProfile.datapoints[index].x\r\n        this.setState({ slope: Number.parseFloat(rise / run).toFixed(2) });\r\n      }\r\n    }\r\n  }\r\n\r\n  addX() {\r\n    if (this.state.currentX < this.state.maxTime) {\r\n      var tempProfile = this.state.newProfile;\r\n      tempProfile.datapoints[this.state.currentPoint].x += 1;\r\n      this.setState({ newProfile: tempProfile, currentX: this.state.currentX + 1 });\r\n      this.calculateSlopeAtPoint(this.state.currentPoint);\r\n    }\r\n  }\r\n\r\n  subtractX() {\r\n    if (this.state.currentX > 0) {\r\n      var tempProfile = this.state.newProfile;\r\n      tempProfile.datapoints[this.state.currentPoint].x -= 1;\r\n      this.setState({ newProfile: tempProfile, currentX: this.state.currentX - 1 });\r\n      this.calculateSlopeAtPoint(this.state.currentPoint);\r\n    }\r\n  }\r\n\r\n  addY() {\r\n    if (this.state.currentY < 300) {\r\n      var tempProfile = this.state.newProfile;\r\n      tempProfile.datapoints[this.state.currentPoint].y += 1;\r\n      this.setState({ newProfile: tempProfile, currentY: this.state.currentY + 1 });\r\n      this.calculateSlopeAtPoint(this.state.currentPoint);\r\n    }\r\n  }\r\n\r\n  subtractY() {\r\n    if (this.state.currentY > 0) {\r\n      var tempProfile = this.state.newProfile;\r\n      tempProfile.datapoints[this.state.currentPoint].y -= 1;\r\n      this.setState({ newProfile: tempProfile, currentY: this.state.currentY - 1 });\r\n      this.calculateSlopeAtPoint(this.state.currentPoint);\r\n    }\r\n  }\r\n\r\n  addTime() {\r\n    if (this.state.maxTime < 20000) {\r\n      this.setState({ maxTime: this.state.maxTime + 100 })\r\n    }\r\n  }\r\n\r\n  subtractTime() {\r\n    if (this.state.maxTime > 0 && this.state.maxTime - 100 >= this.state.newProfile.datapoints[this.state.newProfile.datapoints.length - 1].x) {\r\n      this.setState({ maxTime: this.state.maxTime - 100 })\r\n    }\r\n  }\r\n\r\n  addNode() {\r\n    if (this.state.newProfile.datapoints.length < 20) {\r\n      var tempProfile = this.state.newProfile;\r\n      var newPoint = {};\r\n      if (this.state.currentPoint === this.state.newProfile.datapoints.length - 1) {\r\n        if (this.state.newProfile.datapoints[this.state.currentPoint].x <= this.state.maxTime - 50) {\r\n          newPoint.x = tempProfile.datapoints[this.state.currentPoint].x + 25;\r\n          newPoint.y = tempProfile.datapoints[this.state.currentPoint].y;\r\n          tempProfile.datapoints.splice(this.state.currentPoint + 1, 0, newPoint);\r\n          this.setState({ currentPoint: this.state.currentPoint + 1, currentX: newPoint.x, currentY: newPoint.y });\r\n        } else {\r\n          newPoint.x = Math.floor((tempProfile.datapoints[this.state.currentPoint].x + tempProfile.datapoints[this.state.currentPoint - 1].x) / 2);\r\n          newPoint.y = Math.floor((tempProfile.datapoints[this.state.currentPoint].y + tempProfile.datapoints[this.state.currentPoint - 1].y) / 2)\r\n          tempProfile.datapoints.splice(this.state.currentPoint, 0, newPoint);\r\n          this.setState({ currentX: newPoint.x, currentY: newPoint.y });\r\n        }\r\n      } else {\r\n        newPoint.x = Math.floor((tempProfile.datapoints[this.state.currentPoint].x + tempProfile.datapoints[this.state.currentPoint + 1].x) / 2);\r\n        newPoint.y = Math.floor((tempProfile.datapoints[this.state.currentPoint].y + tempProfile.datapoints[this.state.currentPoint + 1].y) / 2)\r\n        tempProfile.datapoints.splice(this.state.currentPoint + 1, 0, newPoint);\r\n        this.setState({ currentPoint: this.state.currentPoint + 1, currentX: newPoint.x, currentY: newPoint.y });\r\n      }\r\n      this.setState({ newProfile: tempProfile, maxNodes: this.state.maxNodes + 1 });\r\n      \r\n    }\r\n  }\r\n\r\n  subtractNode() {\r\n    if (this.state.newProfile.datapoints.length > 2) {\r\n      var tempProfile = this.state.newProfile;\r\n      if (this.state.currentPoint === 0) {\r\n        tempProfile.datapoints.splice(this.state.currentPoint, 1);\r\n        this.setState({\r\n          currentX: this.state.newProfile.datapoints[this.state.currentPoint].x,\r\n          currentY: this.state.newProfile.datapoints[this.state.currentPoint].y\r\n        });\r\n        this.calculateSlopeAtPoint(this.state.currentPoint);\r\n      } else {\r\n        tempProfile.datapoints.splice(this.state.currentPoint, 1);\r\n        this.setState({\r\n          currentPoint: this.state.currentPoint - 1,\r\n          currentX: this.state.newProfile.datapoints[this.state.currentPoint - 1].x,\r\n          currentY: this.state.newProfile.datapoints[this.state.currentPoint - 1].y\r\n        });\r\n        this.calculateSlopeAtPoint(this.state.currentPoint - 1);\r\n      }\r\n      this.setState({ newProfile: tempProfile, maxNodes: this.state.maxNodes - 1 });\r\n    }\r\n  }\r\n\r\n  dragStart(e, datasetIndex, index, value) {\r\n    this.setState({ currentPoint: index, currentX: value.x, currentY: value.y });\r\n    this.calculateSlopeAtPoint(index);\r\n  }\r\n\r\n  drag(e, datasetIndex, index, value) {\r\n    var tempProfile = this.state.newProfile;\r\n    tempProfile.datapoints[index] = value;\r\n    this.setState({ currentX: value.x, currentY: value.y, newProfile: tempProfile });\r\n    this.calculateSlopeAtPoint(index);\r\n  }\r\n\r\n  dragEnd(e, datasetIndex, index, value) {\r\n    var tempProfile = this.state.newProfile;\r\n    tempProfile.datapoints[index] = value;\r\n\r\n    //sort datapoints so that lines don't overlap\r\n    for (let i = 0; i < tempProfile.datapoints.length; i++) {\r\n      for (let j = i; j < tempProfile.datapoints.length; j++) {\r\n        if (tempProfile.datapoints[j].x < tempProfile.datapoints[i].x) {\r\n          //keep track of index/current point\r\n          if (i === index) {\r\n            index = j;\r\n          } else if (j === index) {\r\n            index = i;\r\n          }\r\n          var tempPoint = tempProfile.datapoints[i];\r\n          tempProfile.datapoints[i] = tempProfile.datapoints[j];\r\n          tempProfile.datapoints[j] = tempPoint;\r\n        }\r\n      }\r\n    }\r\n    this.setState({ currentX: value.x, currentY: value.y, currentPoint: index, newProfile: tempProfile });\r\n    this.calculateSlopeAtPoint(index);\r\n  }\r\n\r\n  handleInputChange(e) {\r\n    var tempProfile = this.state.newProfile;\r\n    tempProfile.name = e.target.value;\r\n    this.setState({ newProfile: tempProfile });\r\n  }\r\n\r\n  componentDidMount() {\r\n    this.setState({\r\n      maxTime: Math.ceil(this.state.newProfile.datapoints[this.state.newProfile.datapoints.length - 1].x / 100) * 100,\r\n      maxNodes: this.state.newProfile.datapoints.length\r\n    });\r\n  }\r\n\r\n  goBack() {\r\n    this.props.history.goBack();\r\n  }\r\n\r\n  loadClicked() {\r\n    axios.post('/api/reflow_profiles/load', { profile_name: this.state.newProfile.name, force_load: false })\r\n      .then(res => {\r\n        //check if response is ok or if validation failed\r\n        if (res.data.status === 200) {\r\n          //go to home page\r\n          const { history } = this.props;\r\n          if (history) history.push('/');\r\n        }\r\n        else if (res.data.status === 409) {\r\n          this.setState({ loadDialog: false });\r\n          this.setState({ forceLoadDialog: true });\r\n        }\r\n      });\r\n  }\r\n\r\n  forceLoadClicked() {\r\n    axios.post('/api/reflow_profiles/load', { profile_name: this.state.newProfile.name, force_load: true })\r\n      .then(res => {\r\n        //check if response is ok or if validation failed\r\n        if (res.data.status === 200) {\r\n          //go to home page\r\n          const { history } = this.props;\r\n          if (history) history.push('/');\r\n        }\r\n      });\r\n  }\r\n\r\n  cancelClicked() {\r\n    this.setState({ loadDialog: false, forceLoadDialog: false });\r\n  }\r\n\r\n  saveProfile() {\r\n    var tempProfile = this.state.newProfile;\r\n    tempProfile.date_created = Date.now();\r\n    tempProfile.last_run = 0;\r\n    this.setState({ newProfile: tempProfile });\r\n    axios.post('/api/reflow_profiles/save', this.state.newProfile)\r\n      .then(res => {\r\n        console.log(res.data);\r\n        if (res.data.status === 200) {\r\n          this.setState({ newProfile: res.data.new_profile });\r\n          this.setState({ loadDialog: true, enterNameDialog: false });\r\n        } else {\r\n          this.setState({saveProfileError: res.data.message, saveProfileErrorDialog: true});\r\n        }\r\n      });\r\n  }\r\n\r\n  saveClicked() {\r\n    this.setState({ enterNameDialog: true });\r\n  }\r\n\r\n  handleKeyboardInput(button) {\r\n    if (button === '{lock}') {\r\n      if (this.state.keyboardLayout === 'caps' || this.state.keyboardLayout === 'shift') {\r\n        this.setState({ keyboardLayout: 'default' });\r\n      } else {\r\n        this.setState({ keyboardLayout: 'caps' });\r\n      }\r\n    } else if (button === '{shift}') {\r\n      if (this.state.keyboardLayout === 'caps' || this.state.keyboardLayout === 'shift') {\r\n        this.setState({ keyboardLayout: 'default' });\r\n      } else {\r\n        this.setState({ keyboardLayout: 'shift' });\r\n      }\r\n    } else {\r\n      let newName = this.state.newProfile.name;\r\n      if (button === '{bksp}') {\r\n        newName = newName.substring(0, newName.length - 1);\r\n      } else if (button === '{space}') {\r\n        newName += ' ';\r\n      } else if (button === '{enter}') {\r\n        this.saveProfile();\r\n        return;\r\n      } else {\r\n        if (button !== '{tab}') {\r\n          newName += button;\r\n        }\r\n      }\r\n      var tempProfile = this.state.newProfile;\r\n      tempProfile.name = newName;\r\n      this.setState({ newProfile: tempProfile });\r\n      if (this.state.keyboardLayout === 'shift') {\r\n        this.setState({ keyboardLayout: 'default' });\r\n      }\r\n    }\r\n  }\r\n\r\n  cancelEnterName() {\r\n    this.setState({ enterNameDialog: false });\r\n  }\r\n\r\n  clearName() {\r\n    var tempProfile = this.state.newProfile;\r\n    tempProfile.name = \"\";\r\n    this.setState({ newProfile: tempProfile });\r\n  }\r\n\r\n  showHistoryClicked(e) {\r\n    this.setState({ showHistory: e.target.checked });\r\n  }\r\n\r\n  saveProfileErrorClose() {\r\n    this.setState({ saveProfileErrorDialog: false });\r\n  }\r\n\r\n  render() {\r\n    \r\n    var keyboard = <></>;\r\n    if (this.state.isLocal) {\r\n      keyboard = <Keyboard\r\n        theme={this.props.theme.palette.type === 'dark' ? 'hg-theme-dark' : 'hg-theme-default'}\r\n        layoutName={this.state.keyboardLayout}\r\n        layout={{\r\n          default: [\r\n            \"` 1 2 3 4 5 6 7 8 9 0 - = {bksp}\",\r\n            \"{tab} q w e r t y u i o p [ ] \\\\\",\r\n            \"{lock} a s d f g h j k l ; ' {enter}\",\r\n            \"{shift} z x c v b n m , . / {shift}\",\r\n            \"{space}\"\r\n          ],\r\n          shift: [\r\n            \"~ ! @ # $ % ^ & * ( ) _ + {bksp}\",\r\n            \"{tab} Q W E R T Y U I O P { } |\",\r\n            '{lock} A S D F G H J K L : \" {enter}',\r\n            \"{shift} Z X C V B N M < > ? {shift}\",\r\n            \"{space}\"\r\n          ],\r\n          caps: [\r\n            \"~ ! @ # $ % ^ & * ( ) _ + {bksp}\",\r\n            \"{tab} Q W E R T Y U I O P { } |\",\r\n            '{lock} A S D F G H J K L : \" {enter}',\r\n            \"{shift} Z X C V B N M < > ? {shift}\",\r\n            \"{space}\"\r\n          ]\r\n        }}\r\n        onKeyPress={this.handleKeyboardInput}\r\n      />;\r\n    }\r\n\r\n    var historySwitch = <></>;\r\n    if (this.state.tempHistory.length > 1) {\r\n      historySwitch =\r\n        <Grid item>\r\n          <Paper>\r\n            <Grid container justifyContent=\"space-evenly\">\r\n              <Grid item>\r\n                <Typography style={{ paddingLeft: 10 }}>Measured</Typography>\r\n              </Grid>\r\n              <Grid item>\r\n                <Switch\r\n                  checked={this.state.showHistory}\r\n                  onChange={this.showHistoryClicked}\r\n                  size='small'\r\n                  color='secondary'\r\n                />\r\n              </Grid>\r\n            </Grid>\r\n          </Paper>\r\n        </Grid>;\r\n    }\r\n\r\n    var historicDatapoints = []\r\n    if (this.state.showHistory) {\r\n      historicDatapoints = this.state.tempHistory;\r\n    }\r\n\r\n    //https://stackoverflow.com/questions/9461621/format-a-number-as-2-5k-if-a-thousand-or-more-otherwise-900\r\n    var formattedTime = Math.abs(this.state.maxTime) > 999 ? Math.sign(this.state.maxTime) * ((Math.abs(this.state.maxTime) / 1000).toFixed(1)) + 'k' : Math.sign(this.state.maxTime) * Math.abs(this.state.maxTime);\r\n\r\n\r\n    return (\r\n      <>\r\n        <StatusBar />\r\n        <Dialog open={this.state.loadDialog} onClose={this.cancelClicked}>\r\n          <DialogTitle>\r\n            Profile saved\r\n          </DialogTitle>\r\n          <DialogContent>\r\n            Would you like to load the profile now?\r\n          </DialogContent>\r\n          <DialogActions>\r\n            <Button onClick={this.cancelClicked} color=\"primary\" variant='contained'>\r\n              Don't Load\r\n            </Button>\r\n            <Button onClick={this.loadClicked} color=\"primary\" variant='contained' autoFocus>\r\n              Load\r\n            </Button>\r\n          </DialogActions>\r\n        </Dialog>\r\n\r\n        <Dialog open={this.state.saveProfileErrorDialog} onClose={this.saveProfileErrorClose}>\r\n          <DialogTitle>\r\n            Error saving profile\r\n          </DialogTitle>\r\n          <DialogContent>\r\n            {this.state.saveProfileError}\r\n          </DialogContent>\r\n          <DialogActions>\r\n            <Button onClick={this.saveProfileErrorClose} color=\"primary\" variant='contained'>\r\n              OK\r\n            </Button>\r\n          </DialogActions>\r\n        </Dialog>\r\n\r\n        <Dialog open={this.state.forceLoadDialog} onClose={this.cancelClicked}>\r\n          <DialogTitle>\r\n            Oven Currently Running\r\n          </DialogTitle>\r\n          <DialogContent>\r\n            Stop oven and load profile?\r\n          </DialogContent>\r\n          <DialogActions>\r\n            <Button onClick={this.cancelClicked} color=\"primary\" variant='contained'>\r\n              Cancel\r\n            </Button>\r\n            <Button onClick={this.forceLoadClicked} color=\"primary\" variant='contained' autoFocus>\r\n              Force Load\r\n            </Button>\r\n          </DialogActions>\r\n        </Dialog>\r\n\r\n        <Dialog open={this.state.enterNameDialog} maxWidth={'md'} fullWidth onClose={this.cancelEnterName}>\r\n          <DialogTitle align='center'>\r\n            Name your profile:\r\n          </DialogTitle>\r\n          <DialogContent>\r\n            <Grid container justifyContent='center'>\r\n              <Input onChange={this.handleInputChange} label='Profile Name' value={this.state.newProfile.name}\r\n                endAdornment={\r\n                  <InputAdornment position=\"end\">\r\n                    <IconButton onClick={this.clearName}><ClearIcon /></IconButton>\r\n                  </InputAdornment>\r\n                }\r\n              />\r\n            </Grid>\r\n          </DialogContent>\r\n          <DialogActions>\r\n            <Button onClick={this.cancelEnterName} color=\"primary\" variant='contained'>\r\n              Cancel\r\n            </Button>\r\n            <Button onClick={this.saveProfile} color=\"primary\" variant='contained' autoFocus>\r\n              OK\r\n            </Button>\r\n          </DialogActions>\r\n          {keyboard}\r\n        </Dialog>\r\n\r\n        <Container maxWidth={false}>\r\n          <Grid container >\r\n            <Grid item sm={2} lg={2}>\r\n\r\n              <Hidden xsDown>\r\n                <Grid container spacing={1} direction=\"column\" style={{ paddingTop: '5px' }} >\r\n                  <Grid item align='center'>\r\n                    <Typography variant='h6'>\r\n                      ({this.state.currentX}, {this.state.currentY})\r\n                    </Typography>\r\n                    <Typography style={{ fontSize: 13 }}>\r\n                      {this.state.slope} C/Second\r\n                    </Typography>\r\n                  </Grid>\r\n\r\n                  <Grid item style={{minWidth: 180}}>\r\n                    <Paper >\r\n                      <Grid item align='center'>\r\n                      </Grid>\r\n                      <Grid item align='center'>\r\n                        <IconButton color='primary' size='small' onClick={this.addY}><ArrowUpwardIcon /></IconButton>\r\n                      </Grid>\r\n                      <Grid item>\r\n                        <Grid container justifyContent='space-evenly' wrap='nowrap'>\r\n                          <Grid item>\r\n                            <IconButton color='primary' size='small' onClick={this.subtractX}><ArrowBackIcon /></IconButton>\r\n                          </Grid>\r\n                          <Grid item align='center' style={{ minWidth: 15 }}>\r\n\r\n                          </Grid>\r\n                          <Grid item>\r\n                            <IconButton color='primary' size='small' onClick={this.addX}><ArrowForwardIcon /></IconButton>\r\n                          </Grid>\r\n                        </Grid>\r\n                      </Grid>\r\n\r\n                      <Grid item align='center'>\r\n                        <IconButton color='primary' size='small' onClick={this.subtractY}><ArrowDownwardIcon /></IconButton>\r\n                      </Grid>\r\n                    </Paper>\r\n                  </Grid>\r\n\r\n                  <Grid item>\r\n                    <Paper>\r\n                      <Grid item align='center'>\r\n                        <Typography variant='subtitle1'>Nodes</Typography>\r\n                      </Grid>\r\n                      <Grid container spacing={1} justifyContent='space-evenly'>\r\n                        <Grid item>\r\n                          <IconButton color='primary' size='small' onClick={this.subtractNode}><RemoveIcon /></IconButton>\r\n                        </Grid>\r\n                        <Grid item align='center' >\r\n                          <Typography variant='h6' style={{ minWidth: 40 }} >{this.state.maxNodes}</Typography>\r\n                        </Grid>\r\n                        <Grid item>\r\n                          <IconButton color='primary' size='small' onClick={this.addNode}><AddIcon /></IconButton>\r\n                        </Grid>\r\n                      </Grid>\r\n                    </Paper>\r\n                  </Grid>\r\n\r\n                  <Grid item>\r\n                    <Paper>\r\n                      <Grid item align='center'>\r\n                        <Typography variant='subtitle1' >Max Time</Typography>\r\n                      </Grid>\r\n                      <Grid container spacing={1} justifyContent='space-evenly'>\r\n                        <Grid item>\r\n                          <IconButton color='primary' size='small' onClick={this.subtractTime}><RemoveIcon /></IconButton>\r\n                        </Grid>\r\n                        <Grid item align='center' >\r\n                          <Typography variant='h6' style={{ minWidth: 40, fontSize: 17 }}>{formattedTime}</Typography>\r\n                        </Grid>\r\n                        <Grid item>\r\n                          <IconButton color='primary' size='small' onClick={this.addTime}><AddIcon /></IconButton>\r\n                        </Grid>\r\n                      </Grid>\r\n                    </Paper>\r\n                  </Grid>\r\n\r\n                  {historySwitch}\r\n\r\n                </Grid>\r\n              </Hidden>\r\n\r\n            </Grid>\r\n\r\n            <Grid item sm={10}>\r\n              <Hidden smDown>\r\n                <Typography align='center' variant='h5' style={{ paddingTop: \"20px\" }}>\r\n                  <u>{this.state.newProfile.name}</u>\r\n                </Typography>\r\n              </Hidden>\r\n              <div style={{ paddingTop: \"20px\", width: '91%', marginLeft: 'auto', minWidth: 350 }}>\r\n                <Profile\r\n                  draggable={true}\r\n                  profile={this.state.newProfile}\r\n                  dragStart={this.dragStart}\r\n                  drag={this.drag}\r\n                  dragEnd={this.dragEnd}\r\n                  maxTime={this.state.maxTime}\r\n                  activePoint={this.state.currentPoint}\r\n                  historicTemps={historicDatapoints}\r\n                />\r\n              </div>\r\n            </Grid>\r\n          </Grid>\r\n        </Container>\r\n\r\n        <Container maxWidth={false}>\r\n          <Grid container spacing={3} alignItems=\"center\" justifyContent=\"space-between\" style={{ paddingTop: '15px' }}>\r\n            <Grid item xs={7}>\r\n              <Hidden mdUp>\r\n                <Paper style={{ padding: '6px 7px 6px 10px', minWidth: 420 }}>\r\n                  <Typography noWrap style={{ width: 410 }}>\r\n                    Profile: {this.state.newProfile.name}\r\n                  </Typography>\r\n                </Paper>\r\n              </Hidden>\r\n            </Grid>\r\n            <Grid item>\r\n              <Grid container spacing={3}>\r\n                <Grid item>\r\n                  <Button onClick={this.goBack} startIcon={<CancelIcon />} variant=\"contained\" color=\"primary\">Cancel</Button>\r\n                </Grid>\r\n                <Grid item>\r\n                  <Button onClick={this.saveClicked} startIcon={<SaveIcon />} variant=\"contained\" color=\"primary\">Save</Button>\r\n                </Grid>\r\n              </Grid>\r\n            </Grid>\r\n          </Grid>\r\n        </Container>\r\n\r\n        {/*<Keyboard theme={\"hg-theme-default\"} />*/}\r\n      </>\r\n    );\r\n  }\r\n}\r\n\r\nexport default withRouter(withTheme(EditProfile));","import React, { Component } from \"react\";\r\nimport Accordion from '@material-ui/core/Accordion';\r\nimport AccordionDetails from '@material-ui/core/AccordionDetails';\r\nimport AccordionSummary from '@material-ui/core/AccordionSummary';\r\nimport Typography from '@material-ui/core/Typography';\r\nimport ExpandMoreIcon from '@material-ui/icons/ExpandMore';\r\nimport Grid from '@material-ui/core/Grid';\r\nimport TextField from '@material-ui/core/TextField';\r\nimport Checkbox from '@material-ui/core/Checkbox';\r\nimport Button from '@material-ui/core/Button';\r\nimport axios from 'axios';\r\nimport Dialog from '@material-ui/core/Dialog';\r\nimport DialogActions from '@material-ui/core/DialogActions';\r\nimport DialogContent from '@material-ui/core/DialogContent';\r\nimport DialogTitle from '@material-ui/core/DialogTitle';\r\nimport './keyboard.css';\r\nimport Keyboard from \"react-simple-keyboard\";\r\nimport { withTheme } from '@material-ui/styles';\r\n\r\nclass NetworkSettings extends Component {\r\n    constructor(props) {\r\n        super(props);\r\n        this.state = {\r\n            port: 3001,\r\n            remoteConnections: true,\r\n            messageToSend: \"\",\r\n            inputChanged: false,\r\n            focused: false,\r\n            currentFocused: null,\r\n            focusInputChange: null,\r\n            isLocal: window.location.hostname === \"localhost\" || window.location.hostname === \"127.0.0.1\"\r\n        };\r\n        this.save = this.save.bind(this);\r\n        this.handleSwitch = this.handleSwitch.bind(this);\r\n        this.handlePortChange = this.handlePortChange.bind(this);\r\n        this.handleMessageChange = this.handleMessageChange.bind(this);\r\n        this.sendMessage = this.sendMessage.bind(this);\r\n        this.handleOnFocus = this.handleOnFocus.bind(this);\r\n        this.handleKeyboardInput = this.handleKeyboardInput.bind(this);\r\n        this.handleInputClose = this.handleInputClose.bind(this);\r\n        this.handleDialogInput = this.handleDialogInput.bind(this);\r\n    }\r\n\r\n    componentDidMount() {\r\n        fetch('/api/settings/network')\r\n            .then(response => response.json())\r\n            .then(result => {\r\n                this.setState({ port: result.port, remoteConnections: result.remote_connections });\r\n            });\r\n    }\r\n\r\n    save() {\r\n        var newSettings = {};\r\n        newSettings.port = this.state.port;\r\n        newSettings.remote_connections = this.state.remoteConnections;\r\n        axios.post('/api/settings/network', newSettings)\r\n            .then(res => {\r\n                if (res.data.status === 200) {\r\n                    this.setState({ inputChanged: false });\r\n                }\r\n            });\r\n    }\r\n\r\n    handleSwitch(e) {\r\n        this.setState({ remoteConnections: e.target.checked, inputChanged: true });\r\n    }\r\n\r\n    handlePortChange(e) {\r\n        this.setState({ port: e.target.value, inputChanged: true });\r\n    }\r\n\r\n    handleMessageChange(e) {\r\n        this.setState({ messageToSend: e.target.value });\r\n    }\r\n\r\n    sendMessage() {\r\n        axios.post('/api/send_message', { message: this.state.messageToSend })\r\n            .then(res => {});\r\n    }\r\n\r\n    handleOnFocus(e, changeFunction, name) {\r\n        if (this.state.isLocal) {\r\n            this.setState({ focusInputChange: changeFunction, currentFocused: name, focused: true });\r\n        }\r\n    }\r\n\r\n    handleInputClose() {\r\n        //get rid of trailing '.' if needed\r\n        var tempString = this.state[this.state.currentFocused].toString();\r\n        if (tempString === '') {\r\n            tempString = '3001'\r\n        } else if (tempString.charAt(tempString.length - 1) === '.') {\r\n\r\n            tempString = tempString.substring(0, tempString.length - 1);\r\n        }\r\n\r\n        //this is super bad code but idk how else to do this\r\n        //i am making a 'fake' event and setting the value so that the method can access it\r\n        var e = {};\r\n        e.target = {};\r\n        e.target.value = tempString;\r\n\r\n        this.state.focusInputChange(e);\r\n        this.setState({ focused: false, inputValue: '' });\r\n    }\r\n\r\n    handleKeyboardInput(button) {\r\n        var tempInput = this.state[this.state.currentFocused].toString();\r\n        if (button === '{bksp}') {\r\n            tempInput = tempInput.substring(0, tempInput.length - 1);\r\n        } else {\r\n            tempInput += button;\r\n        }\r\n\r\n        //again, really bad code. Maybe you can fix it somehow\r\n        var e = {};\r\n        e.target = {};\r\n        e.target.value = tempInput;\r\n        this.state.focusInputChange(e);\r\n    }\r\n\r\n    handleDialogInput(e) {\r\n        this.state.focusInputChange(e);\r\n    }\r\n\r\n    render() {\r\n        var inputDialog = <></>;\r\n        if (this.state.focused) {\r\n            inputDialog = <Dialog open={this.state.focused} onClose={this.handleInputClose} fullWidth>\r\n                <DialogTitle>\r\n                    <Typography>\r\n                        Enter value\r\n                    </Typography>\r\n                </DialogTitle>\r\n                <DialogContent>\r\n                    <Grid container spacing={1} justifyContent='space-between'>\r\n                        <Grid item>\r\n                            <TextField\r\n                                variant=\"outlined\"\r\n                                value={this.state[this.state.currentFocused]}\r\n                                onChange={this.handleDialogInput}\r\n                            />\r\n                        </Grid>\r\n                        <Grid item xs={6}>\r\n                            <Keyboard\r\n                                onKeyPress={this.handleKeyboardInput}\r\n                                layout={{\r\n                                    default: [\r\n                                        \"7 8 9\",\r\n                                        \"4 5 6\",\r\n                                        \"1 2 3\",\r\n                                        \"0 {bksp}\"\r\n                                    ]\r\n                                }}\r\n                                display={{\r\n                                    '{bksp}': \"<\"\r\n                                }}\r\n                                theme={this.props.theme.palette.type === 'dark' ? 'hg-theme-dark' : 'hg-theme-default'}\r\n                            />\r\n                        </Grid>\r\n                    </Grid>\r\n                </DialogContent>\r\n                <DialogActions>\r\n                    <Button color='primary' variant='contained' onClick={this.handleInputClose}>OK</Button>\r\n                </DialogActions>\r\n            </Dialog>;\r\n        }\r\n        return (\r\n            <>\r\n                {inputDialog}\r\n                <Accordion >\r\n                    <AccordionSummary\r\n                        expandIcon={<ExpandMoreIcon />}\r\n                        aria-controls=\"panel1bh-content\"\r\n                        id=\"panel1bh-header\"\r\n                    >\r\n                        <Typography variant='h6'>Network</Typography>\r\n                    </AccordionSummary>\r\n                    <AccordionDetails>\r\n                        <Grid container direction='column' alignItems=\"flex-start\" spacing={3}>\r\n                            <Grid item>\r\n                                <Typography align='left'>\r\n                                    Server Port\r\n                                </Typography>\r\n                                <TextField\r\n                                    variant=\"outlined\"\r\n                                    type='number'\r\n                                    onChange={this.handlePortChange}\r\n                                    onClick={(e) => this.handleOnFocus(e, this.handlePortChange, 'port')}\r\n                                    value={this.state.port} />\r\n                            </Grid>\r\n                            <Grid item>\r\n                                <Typography align='left'>\r\n                                    Allow Remote Connections\r\n                                </Typography>\r\n                                <Checkbox checked={this.state.remoteConnections} onChange={this.handleSwitch} color='primary' />\r\n                            </Grid>\r\n\r\n                            {/*\r\n                            <Grid item>\r\n                                <Typography align='left'>\r\n                                    Send message to all connections\r\n                                </Typography>\r\n                                <TextField variant=\"outlined\" onChange={this.handleMessageChange} value={this.state.messageToSend} />\r\n                                <Button variant='contained' color='primary' onClick={this.sendMessage}>\r\n                                    Send\r\n                                </Button>\r\n                            </Grid>\r\n                            */}\r\n                            \r\n                            <Grid container justifyContent='flex-end' spacing={3}>\r\n                                <Grid item>\r\n                                    <Typography variant='caption'>\r\n                                        Changes will be applied after a manual restart of the server.\r\n                                    </Typography>\r\n                                </Grid>\r\n                                <Grid item>\r\n                                    <Button variant='contained' color='primary' disabled={!this.state.inputChanged} onClick={this.save}>\r\n                                        Save\r\n                                    </Button>\r\n                                </Grid>\r\n                            </Grid>\r\n                        </Grid>\r\n                    </AccordionDetails>\r\n                </Accordion>\r\n            </>\r\n        );\r\n    }\r\n}\r\n\r\nexport default withTheme(NetworkSettings);","import React, { Component } from \"react\";\r\nimport Accordion from '@material-ui/core/Accordion';\r\nimport AccordionDetails from '@material-ui/core/AccordionDetails';\r\nimport AccordionSummary from '@material-ui/core/AccordionSummary';\r\nimport Typography from '@material-ui/core/Typography';\r\nimport { Button, TextField, Grid } from \"@material-ui/core\";\r\nimport ExpandMoreIcon from '@material-ui/icons/ExpandMore';\r\nimport Checkbox from '@material-ui/core/Checkbox';\r\nimport InputAdornment from '@material-ui/core/InputAdornment';\r\nimport axios from 'axios';\r\nimport Dialog from '@material-ui/core/Dialog';\r\nimport DialogActions from '@material-ui/core/DialogActions';\r\nimport DialogContent from '@material-ui/core/DialogContent';\r\nimport DialogTitle from '@material-ui/core/DialogTitle';\r\nimport './keyboard.css';\r\nimport Keyboard from \"react-simple-keyboard\";\r\nimport { withTheme } from '@material-ui/styles';\r\n\r\nclass PidSettings extends Component {\r\n    constructor(props) {\r\n        super(props);\r\n        this.state = {\r\n            p: 0,\r\n            i: 0,\r\n            d: 0,\r\n            useCoolingFan: false,\r\n            lookAhead: 0,\r\n            preheat: false,\r\n            preheatPower: 0,\r\n            alwaysHitPeak: false,\r\n            inputChanged: false,\r\n            focused: false,\r\n            currentFocused: null,\r\n            focusInputChange: null,\r\n            isLocal: window.location.hostname === \"localhost\" || window.location.hostname === \"127.0.0.1\"\r\n        };\r\n        this.save = this.save.bind(this);\r\n        this.handlePChange = this.handlePChange.bind(this);\r\n        this.handleIChange = this.handleIChange.bind(this);\r\n        this.handleDChange = this.handleDChange.bind(this);\r\n        this.handleCoolingFanChange = this.handleCoolingFanChange.bind(this);\r\n        this.handlePreheatChange = this.handlePreheatChange.bind(this);\r\n        this.handleLookAheadChange = this.handleLookAheadChange.bind(this);\r\n        this.handlePreheatPowerChange = this.handlePreheatPowerChange.bind(this);\r\n        this.handleAlwaysHitPeakChange = this.handleAlwaysHitPeakChange.bind(this);\r\n        this.handleOnFocus = this.handleOnFocus.bind(this);\r\n        this.handleKeyboardInput = this.handleKeyboardInput.bind(this);\r\n        this.handleInputClose = this.handleInputClose.bind(this);\r\n        this.handleDialogInput = this.handleDialogInput.bind(this);\r\n    }\r\n\r\n    componentDidMount() {\r\n        fetch('/api/settings/pid')\r\n            .then(response => response.json())\r\n            .then(result => {\r\n                this.setState({\r\n                    p: result.p,\r\n                    i: result.i,\r\n                    d: result.d,\r\n                    useCoolingFan: result.use_cooling_fan,\r\n                    lookAhead: result.look_ahead,\r\n                    preheat: result.preheat,\r\n                    preheatPower: result.preheat_power,\r\n                    alwaysHitPeak: result.always_hit_peak\r\n                });\r\n            });\r\n    }\r\n\r\n    save() {\r\n        var newSettings = {};\r\n        newSettings.p = this.state.p;\r\n        newSettings.i = this.state.i;\r\n        newSettings.d = this.state.d;\r\n        newSettings.use_cooling_fan = this.state.useCoolingFan;\r\n        newSettings.look_ahead = this.state.lookAhead;\r\n        newSettings.preheat = this.state.preheat;\r\n        newSettings.preheat_power = this.state.preheatPower;\r\n        newSettings.always_hit_peak = this.state.alwaysHitPeak;\r\n        axios.post('/api/settings/pid', newSettings)\r\n            .then(res => {\r\n                if (res.data.status === 200) {\r\n                    this.setState({ inputChanged: false });\r\n                }\r\n            });\r\n    }\r\n\r\n    handlePChange(e) {\r\n        this.setState({ p: e.target.value, inputChanged: true });\r\n        if (isNaN(parseFloat(e.target.value))) {\r\n            this.setState({ inputChanged: false });\r\n        }\r\n    }\r\n\r\n    handleIChange(e) {\r\n        this.setState({ i: e.target.value, inputChanged: true });\r\n        if (isNaN(parseFloat(e.target.value))) {\r\n            this.setState({ inputChanged: false });\r\n        }\r\n    }\r\n\r\n    handleDChange(e) {\r\n        this.setState({ d: e.target.value, inputChanged: true });\r\n        if (isNaN(parseFloat(e.target.value))) {\r\n            this.setState({ inputChanged: false });\r\n        }\r\n    }\r\n\r\n    handleCoolingFanChange(e) {\r\n        this.setState({ useCoolingFan: e.target.checked, inputChanged: true });\r\n    }\r\n\r\n    handleLookAheadChange(e) {\r\n        this.setState({ lookAhead: e.target.value, inputChanged: true });\r\n        if (isNaN(parseInt(e.target.value, 10))) {\r\n            this.setState({ inputChanged: false });\r\n        }\r\n    }\r\n\r\n    handlePreheatChange(e) {\r\n        this.setState({ preheat: e.target.checked, inputChanged: true });\r\n    }\r\n\r\n    handlePreheatPowerChange(e) {\r\n        this.setState({ preheatPower: e.target.value, inputChanged: true });\r\n        if (isNaN(parseInt(e.target.value, 10))) {\r\n            this.setState({ inputChanged: false });\r\n        }\r\n    }\r\n\r\n    handleAlwaysHitPeakChange(e) {\r\n        this.setState({ alwaysHitPeak: e.target.checked, inputChanged: true });\r\n    }\r\n\r\n    handleOnFocus(e, changeFunction, name) {\r\n        if (this.state.isLocal) {\r\n            this.setState({ focusInputChange: changeFunction, currentFocused: name, focused: true });\r\n        }\r\n    }\r\n\r\n    handleInputClose() {\r\n        //get rid of trailing '.' if needed\r\n        var tempString = this.state[this.state.currentFocused].toString();\r\n        if (tempString === '') {\r\n            tempString = '0'\r\n        } else if (tempString.charAt(tempString.length - 1) === '.') {\r\n\r\n            tempString = tempString.substring(0, tempString.length - 1);\r\n        }\r\n\r\n        //this is super bad code but idk how else to do this\r\n        //i am making a 'fake' event and setting the value so that the method can access it\r\n        var e = {};\r\n        e.target = {};\r\n        e.target.value = tempString;\r\n\r\n        this.state.focusInputChange(e);\r\n        this.setState({ focused: false, inputValue: '' });\r\n    }\r\n\r\n    handleKeyboardInput(button) {\r\n        var tempInput = this.state[this.state.currentFocused].toString();\r\n        if (button === '{bksp}') {\r\n            tempInput = tempInput.substring(0, tempInput.length - 1);\r\n        } else {\r\n            tempInput += button;\r\n        }\r\n\r\n        //again, really bad code. Maybe you can fix it somehow\r\n        var e = {};\r\n        e.target = {};\r\n        e.target.value = tempInput;\r\n        this.state.focusInputChange(e);\r\n    }\r\n\r\n    handleDialogInput(e) {\r\n        this.state.focusInputChange(e);\r\n    }\r\n\r\n    render() {\r\n        var inputDialog = <></>;\r\n        if (this.state.focused) {\r\n            inputDialog = <Dialog open={this.state.focused} onClose={this.handleInputClose} fullWidth>\r\n                <DialogTitle>\r\n                    <Typography>\r\n                        Enter value\r\n                    </Typography>\r\n                </DialogTitle>\r\n                <DialogContent>\r\n                    <Grid container spacing={1} justifyContent='space-between'>\r\n                        <Grid item>\r\n                            <TextField\r\n                                variant=\"outlined\"\r\n                                value={this.state[this.state.currentFocused]}\r\n                                onChange={this.handleDialogInput}\r\n                            />\r\n                        </Grid>\r\n                        <Grid item xs={6}>\r\n                            <Keyboard\r\n                                onKeyPress={this.handleKeyboardInput}\r\n                                layout={{\r\n                                    default: [\r\n                                        \"7 8 9 {bksp}\",\r\n                                        \"4 5 6 \",\r\n                                        \"1 2 3 \",\r\n                                        \"0 . - \"\r\n                                    ]\r\n                                }}\r\n                                display={{\r\n                                    '{bksp}': \"<\"\r\n                                }}\r\n                                theme={this.props.theme.palette.type === 'dark' ? 'hg-theme-dark' : 'hg-theme-default'}\r\n                            />\r\n                        </Grid>\r\n                    </Grid>\r\n                </DialogContent>\r\n                <DialogActions>\r\n                    <Button color='primary' variant='contained' onClick={this.handleInputClose}>OK</Button>\r\n                </DialogActions>\r\n            </Dialog>;\r\n        }\r\n\r\n        return (\r\n            <>\r\n                {inputDialog}\r\n                <Accordion >\r\n                    <AccordionSummary\r\n                        expandIcon={<ExpandMoreIcon />}\r\n                        aria-controls=\"panel2bh-content\"\r\n                        id=\"panel2bh-header\"\r\n                    >\r\n                        <Typography variant='h6'>PID</Typography>\r\n                    </AccordionSummary>\r\n                    <AccordionDetails>\r\n                        <Grid container spacing={3} direction='column' alignItems=\"flex-start\" >\r\n\r\n                            <Grid item>\r\n                                <Grid container spacing={2}>\r\n                                    <Grid item>\r\n                                        <TextField variant=\"outlined\" label='Proportional' value={this.state.p} onChange={this.handlePChange} onClick={(e) => this.handleOnFocus(e, this.handlePChange, 'p')} style={{ width: 150 }} />\r\n                                    </Grid>\r\n                                    <Grid item>\r\n                                        <TextField variant=\"outlined\" label='Integral' value={this.state.i} onChange={this.handleIChange} onClick={(e) => this.handleOnFocus(e, this.handleIChange, 'i')} style={{ width: 150 }} />\r\n                                    </Grid>\r\n                                    <Grid item>\r\n                                        <TextField variant=\"outlined\" label='Derivative' value={this.state.d} onChange={this.handleDChange} onClick={(e) => this.handleOnFocus(e, this.handleDChange, 'd')} style={{ width: 150 }} />\r\n                                    </Grid>\r\n                                </Grid>\r\n                            </Grid>\r\n\r\n                            <Grid item>\r\n                                <Typography align='left'>\r\n                                    Use cooling fan with PID\r\n                                </Typography>\r\n                                <Checkbox checked={this.state.useCoolingFan} onChange={this.handleCoolingFanChange} color='primary' />\r\n                            </Grid>\r\n\r\n                            <Grid item>\r\n                                <Typography align='left'>\r\n                                    Look Ahead\r\n                                </Typography>\r\n                                <TextField\r\n                                    variant=\"outlined\"\r\n                                    value={this.state.lookAhead}\r\n                                    onChange={this.handleLookAheadChange}\r\n                                    onClick={(e) => this.handleOnFocus(e, this.handleLookAheadChange, 'lookAhead')}\r\n                                    style={{ width: 150 }}\r\n                                    InputProps={{\r\n                                        endAdornment: <InputAdornment position=\"end\">Seconds</InputAdornment>,\r\n                                    }}\r\n                                />\r\n                            </Grid>\r\n\r\n                            <Grid item>\r\n                                <Grid container spacing={3}>\r\n                                    <Grid item>\r\n                                        <Typography align='left'>\r\n                                            Enable Preheat\r\n                                        </Typography>\r\n                                        <Checkbox checked={this.state.preheat} onChange={this.handlePreheatChange} color='primary' />\r\n                                    </Grid>\r\n                                    <Grid item>\r\n                                        <TextField\r\n                                            variant=\"outlined\"\r\n                                            label='Preheat Power'\r\n                                            value={this.state.preheatPower}\r\n                                            onChange={this.handlePreheatPowerChange}\r\n                                            onClick={(e) => this.handleOnFocus(e, this.handlePreheatPowerChange, 'preheatPower')}\r\n                                            style={{ width: 150 }}\r\n                                            InputProps={{\r\n                                                endAdornment: <InputAdornment position=\"end\">%</InputAdornment>,\r\n                                            }}\r\n                                        />\r\n                                    </Grid>\r\n                                </Grid>\r\n                            </Grid>\r\n                            <Grid item>\r\n                                <Typography align='left'>\r\n                                    Always Hit Peak\r\n                                </Typography>\r\n                                <Checkbox checked={this.state.alwaysHitPeak} onChange={this.handleAlwaysHitPeakChange} color='primary' />\r\n                            </Grid>\r\n\r\n                            <Grid container justifyContent='flex-end' spacing={3}>\r\n                                <Grid item>\r\n                                    <Button variant='contained' color='primary' disabled={!this.state.inputChanged} onClick={this.save}>\r\n                                        Save\r\n                                    </Button>\r\n                                </Grid>\r\n                            </Grid>\r\n                        </Grid>\r\n                    </AccordionDetails>\r\n                </Accordion>\r\n            </>\r\n        );\r\n    }\r\n}\r\n\r\nexport default withTheme(PidSettings);","import React, { Component } from \"react\";\r\nimport Accordion from '@material-ui/core/Accordion';\r\nimport AccordionDetails from '@material-ui/core/AccordionDetails';\r\nimport AccordionSummary from '@material-ui/core/AccordionSummary';\r\nimport Typography from '@material-ui/core/Typography';\r\nimport { InputLabel, Grid, FormControlLabel } from \"@material-ui/core\";\r\nimport ExpandMoreIcon from '@material-ui/icons/ExpandMore';\r\nimport MenuItem from '@material-ui/core/MenuItem';\r\nimport FormControl from '@material-ui/core/FormControl';\r\nimport Select from '@material-ui/core/Select';\r\nimport Button from '@material-ui/core/Button';\r\nimport TextField from '@material-ui/core/TextField';\r\nimport IconButton from '@material-ui/core/IconButton';\r\nimport RefreshIcon from '@material-ui/icons/Refresh';\r\nimport InputAdornment from '@material-ui/core/InputAdornment';\r\nimport Radio from '@material-ui/core/Radio';\r\nimport RadioGroup from '@material-ui/core/RadioGroup';\r\nimport axios from 'axios';\r\nimport Dialog from '@material-ui/core/Dialog';\r\nimport DialogActions from '@material-ui/core/DialogActions';\r\nimport DialogContent from '@material-ui/core/DialogContent';\r\nimport DialogTitle from '@material-ui/core/DialogTitle';\r\nimport './keyboard.css';\r\nimport Keyboard from \"react-simple-keyboard\";\r\nimport { withTheme } from '@material-ui/styles';\r\n\r\nclass HardwareSettings extends Component {\r\n    constructor(props) {\r\n        super(props);\r\n        this.state = {\r\n            relayPin: 4,\r\n            fanPin: 22,\r\n            coolingFanPin: 16,\r\n            buzzerPin: 6,\r\n            thermocoupleOffset: 0,\r\n            percentOffset: 0,\r\n            inputChanged: false,\r\n            relayError: false,\r\n            fanError: false,\r\n            coolingFanError: false,\r\n            buzzerError: false,\r\n            fanTurnoffTemp: 0,\r\n            thermo1: \"n/a\",\r\n            thermo2: \"n/a\",\r\n            calculated: \"n/a\",\r\n            refreshDisabled: false,\r\n            thermocoupleAverageMode: 'false',\r\n            focused: false,\r\n            currentFocused: null,\r\n            focusInputChange: null,\r\n            isLocal: window.location.hostname === \"localhost\" || window.location.hostname === \"127.0.0.1\"\r\n        };\r\n        this.handleRelayChange = this.handleRelayChange.bind(this);\r\n        this.handleFanChange = this.handleFanChange.bind(this);\r\n        this.handleCoolingFanChange = this.handleCoolingFanChange.bind(this);\r\n        this.handleBuzzerChange = this.handleBuzzerChange.bind(this);\r\n        this.handleFanTurnoffChange = this.handleFanTurnoffChange.bind(this);\r\n        this.handleThermocoupleOffset = this.handleThermocoupleOffset.bind(this);\r\n        this.handleThermocoupleRefresh = this.handleThermocoupleRefresh.bind(this);\r\n        this.handlePercentOffset = this.handlePercentOffset.bind(this);\r\n        this.handleThermocoupleMode = this.handleThermocoupleMode.bind(this);\r\n        this.errorClose = this.errorClose.bind(this);\r\n        this.save = this.save.bind(this);\r\n        this.handleOnFocus = this.handleOnFocus.bind(this);\r\n        this.handleKeyboardInput = this.handleKeyboardInput.bind(this);\r\n        this.handleInputClose = this.handleInputClose.bind(this);\r\n        this.handleDialogInput = this.handleDialogInput.bind(this);\r\n    }\r\n\r\n    componentDidMount() {\r\n        fetch('/api/settings/hardware')\r\n            .then(response => response.json())\r\n            .then(result => {\r\n                this.setState({\r\n                    relayPin: result.relay_pin,\r\n                    fanPin: result.fan_pin,\r\n                    coolingFanPin: result.cooling_fan_pin,\r\n                    buzzerPin: result.buzzer_pin,\r\n                    fanTurnoffTemp: result.fan_turnoff_temp,\r\n                    thermocoupleOffset: result.thermocouple_offset,\r\n                    percentOffset: result.percent_offset\r\n                });\r\n                if (result.thermocouple_average_mode === true) {\r\n                    this.setState({ thermocoupleAverageMode: 'true' });\r\n                } else {\r\n                    this.setState({ thermocoupleAverageMode: 'false' });\r\n                }\r\n            });\r\n    }\r\n\r\n    handleRelayChange(e) {\r\n        this.setState({ relayPin: e.target.value, inputChanged: true });\r\n    }\r\n\r\n    handleFanChange(e) {\r\n        this.setState({ fanPin: e.target.value, inputChanged: true });\r\n    }\r\n\r\n    handleCoolingFanChange(e) {\r\n        this.setState({ coolingFanPin: e.target.value, inputChanged: true });\r\n    }\r\n\r\n    handleBuzzerChange(e) {\r\n        this.setState({ buzzerPin: e.target.value, inputChanged: true });\r\n    }\r\n\r\n    handleFanTurnoffChange(e) {\r\n        this.setState({ fanTurnoffTemp: e.target.value, inputChanged: true });\r\n        if (isNaN(parseInt(e.target.value, 10))) {\r\n            this.setState({ inputChanged: false });\r\n        }\r\n    }\r\n\r\n    handleThermocoupleOffset(e) {\r\n        this.setState({ thermocoupleOffset: e.target.value, inputChanged: true });\r\n        if (isNaN(parseFloat(e.target.value))) {\r\n            this.setState({ inputChanged: false });\r\n        }\r\n    }\r\n\r\n    handlePercentOffset(e) {\r\n        this.setState({ percentOffset: e.target.value, inputChanged: true });\r\n        if (isNaN(parseFloat(e.target.value))) {\r\n            this.setState({ inputChanged: false });\r\n        }\r\n    }\r\n\r\n    handleThermocoupleMode(e) {\r\n        this.setState({ thermocoupleAverageMode: e.target.value, inputChanged: true });\r\n    }\r\n\r\n    handleThermocoupleRefresh() {\r\n        this.setState({ refreshDisabled: true });\r\n        fetch('/api/all_temperatures')\r\n            .then(response => response.json())\r\n            .then(result => {\r\n                this.setState({\r\n                    thermo1: result.sensor_1,\r\n                    thermo2: result.sensor_2,\r\n                    calculated: result.current,\r\n                    refreshDisabled: false\r\n                });\r\n            });\r\n    }\r\n\r\n    errorClose() {\r\n        this.setState({ relayError: false, fanError: false, coolingFanError: false });\r\n    }\r\n\r\n    save() {\r\n        var newSettings = {};\r\n        newSettings.relay_pin = this.state.relayPin;\r\n        newSettings.fan_pin = this.state.fanPin;\r\n        newSettings.cooling_fan_pin = this.state.coolingFanPin;\r\n        newSettings.buzzer_pin = this.state.buzzerPin;\r\n        newSettings.fan_turnoff_temp = this.state.fanTurnoffTemp;\r\n        newSettings.thermocouple_offset = this.state.thermocoupleOffset;\r\n        newSettings.percent_offset = this.state.percentOffset;\r\n        newSettings.thermocouple_average_mode = this.state.thermocoupleAverageMode === 'true';\r\n        axios.post('/api/settings/hardware', newSettings)\r\n            .then(res => {\r\n                if (res.data.status === 200) {\r\n                    this.setState({ inputChanged: false });\r\n                }\r\n            });\r\n    }\r\n\r\n    handleOnFocus(e, changeFunction, name) {\r\n        if (this.state.isLocal) {\r\n            this.setState({ focusInputChange: changeFunction, currentFocused: name, focused: true });\r\n        }\r\n    }\r\n\r\n    handleInputClose() {\r\n        //get rid of trailing '.' if needed\r\n        var tempString = this.state[this.state.currentFocused].toString();\r\n        if (tempString === '') {\r\n            tempString = '0'\r\n        } else if (tempString.charAt(tempString.length - 1) === '.') {\r\n\r\n            tempString = tempString.substring(0, tempString.length - 1);\r\n        }\r\n\r\n        //this is super bad code but idk how else to do this\r\n        //i am making a 'fake' event and setting the value so that the method can access it\r\n        var e = {};\r\n        e.target = {};\r\n        e.target.value = tempString;\r\n\r\n        this.state.focusInputChange(e);\r\n        this.setState({ focused: false, inputValue: '' });\r\n    }\r\n\r\n    handleKeyboardInput(button) {\r\n        var tempInput = this.state[this.state.currentFocused].toString();\r\n        if (button === '{bksp}') {\r\n            tempInput = tempInput.substring(0, tempInput.length - 1);\r\n        } else {\r\n            tempInput += button;\r\n        }\r\n\r\n        //again, really bad code. Maybe you can fix it somehow\r\n        var e = {};\r\n        e.target = {};\r\n        e.target.value = tempInput;\r\n        this.state.focusInputChange(e);\r\n    }\r\n\r\n    handleDialogInput(e) {\r\n        this.state.focusInputChange(e);\r\n    }\r\n\r\n    render() {\r\n        var inputDialog = <></>;\r\n        if (this.state.focused) {\r\n            inputDialog = <Dialog open={this.state.focused} onClose={this.handleInputClose} fullWidth>\r\n                <DialogTitle>\r\n                    <Typography>\r\n                        Enter value\r\n                    </Typography>\r\n                </DialogTitle>\r\n                <DialogContent>\r\n                    <Grid container spacing={1} justifyContent='space-between'>\r\n                        <Grid item>\r\n                            <TextField\r\n                                variant=\"outlined\"\r\n                                value={this.state[this.state.currentFocused]}\r\n                                onChange={this.handleDialogInput}\r\n                            />\r\n                        </Grid>\r\n                        <Grid item xs={6}>\r\n                            <Keyboard\r\n                                onKeyPress={this.handleKeyboardInput}\r\n                                layout={{\r\n                                    default: [\r\n                                        \"7 8 9 {bksp}\",\r\n                                        \"4 5 6 \",\r\n                                        \"1 2 3 \",\r\n                                        \"0 . - \"\r\n                                    ]\r\n                                }}\r\n                                display={{\r\n                                    '{bksp}': \"<\"\r\n                                }}\r\n                                theme={this.props.theme.palette.type === 'dark' ? 'hg-theme-dark' : 'hg-theme-default'}\r\n                            />\r\n                        </Grid>\r\n                    </Grid>\r\n                </DialogContent>\r\n                <DialogActions>\r\n                    <Button color='primary' variant='contained' onClick={this.handleInputClose}>OK</Button>\r\n                </DialogActions>\r\n            </Dialog>;\r\n        }\r\n        return (\r\n            <>\r\n                {inputDialog}\r\n                <Accordion >\r\n                    <AccordionSummary\r\n                        expandIcon={<ExpandMoreIcon />}\r\n                        aria-controls=\"panel3bh-content\"\r\n                        id=\"panel3bh-header\"\r\n                    >\r\n                        <Typography variant='h6' >Hardware</Typography>\r\n                    </AccordionSummary>\r\n                    <AccordionDetails>\r\n\r\n                        <Grid container spacing={3} direction='column'>\r\n                            <Grid item>\r\n                                <Grid container spacing={3}>\r\n                                    <Grid item>\r\n                                        <FormControl error={this.state.relayError}>\r\n                                            <InputLabel>Relay GPIO</InputLabel>\r\n                                            <Select value={this.state.relayPin} onChange={this.handleRelayChange}>\r\n                                                <MenuItem value={0}>Disabled</MenuItem>\r\n                                                <MenuItem value={4} disabled={this.state.fanPin === 4 || this.state.coolingFanPin === 4 || this.state.buzzerPin === 4}>4 (pin 7)</MenuItem>\r\n                                                <MenuItem value={5} disabled={this.state.fanPin === 5 || this.state.coolingFanPin === 5 || this.state.buzzerPin === 5}>5 (pin 29)</MenuItem>\r\n                                                <MenuItem value={6} disabled={this.state.fanPin === 6 || this.state.coolingFanPin === 6 || this.state.buzzerPin === 6}>6 (pin 31)</MenuItem>\r\n                                                <MenuItem value={16} disabled={this.state.fanPin === 16 || this.state.coolingFanPin === 16 || this.state.buzzerPin === 16}>16 (pin 36)</MenuItem>\r\n                                                <MenuItem value={17} disabled={this.state.fanPin === 17 || this.state.coolingFanPin === 17 || this.state.buzzerPin === 17}>17 (pin 11)</MenuItem>\r\n                                                <MenuItem value={22} disabled={this.state.fanPin === 22 || this.state.coolingFanPin === 22 || this.state.buzzerPin === 22}>22 (pin 15)</MenuItem>\r\n                                                <MenuItem value={23} disabled={this.state.fanPin === 23 || this.state.coolingFanPin === 23 || this.state.buzzerPin === 23}>23 (pin 16)</MenuItem>\r\n                                                <MenuItem value={24} disabled={this.state.fanPin === 24 || this.state.coolingFanPin === 24 || this.state.buzzerPin === 24}>24 (pin 18)</MenuItem>\r\n                                                <MenuItem value={25} disabled={this.state.fanPin === 25 || this.state.coolingFanPin === 25 || this.state.buzzerPin === 25}>25 (pin 22)</MenuItem>\r\n                                                <MenuItem value={26} disabled={this.state.fanPin === 26 || this.state.coolingFanPin === 26 || this.state.buzzerPin === 26}>26 (pin 37)</MenuItem>\r\n                                                <MenuItem value={27} disabled={this.state.fanPin === 27 || this.state.coolingFanPin === 27 || this.state.buzzerPin === 27}>27 (pin 13)</MenuItem>\r\n                                            </Select>\r\n                                        </FormControl>\r\n                                    </Grid>\r\n\r\n                                    <Grid item>\r\n                                        <FormControl error={this.state.coolingFanError}>\r\n                                            <InputLabel>Cooling Fan GPIO</InputLabel>\r\n                                            <Select value={this.state.coolingFanPin} onChange={this.handleCoolingFanChange}>\r\n                                                <MenuItem value={0}>Disabled</MenuItem>\r\n                                                <MenuItem value={4} disabled={this.state.relayPin === 4 || this.state.fanPin === 4 || this.state.buzzerPin === 4}>4 (pin 7)</MenuItem>\r\n                                                <MenuItem value={5} disabled={this.state.relayPin === 5 || this.state.fanPin === 5 || this.state.buzzerPin === 5}>5 (pin 29)</MenuItem>\r\n                                                <MenuItem value={6} disabled={this.state.relayPin === 6 || this.state.fanPin === 6 || this.state.buzzerPin === 6}>6 (pin 31)</MenuItem>\r\n                                                <MenuItem value={16} disabled={this.state.relayPin === 16 || this.state.fanPin === 16 || this.state.buzzerPin === 16}>16 (pin 36)</MenuItem>\r\n                                                <MenuItem value={17} disabled={this.state.relayPin === 17 || this.state.fanPin === 17 || this.state.buzzerPin === 17}>17 (pin 11)</MenuItem>\r\n                                                <MenuItem value={22} disabled={this.state.relayPin === 22 || this.state.fanPin === 22 || this.state.buzzerPin === 22}>22 (pin 15)</MenuItem>\r\n                                                <MenuItem value={23} disabled={this.state.relayPin === 23 || this.state.fanPin === 23 || this.state.buzzerPin === 23}>23 (pin 16)</MenuItem>\r\n                                                <MenuItem value={24} disabled={this.state.relayPin === 24 || this.state.fanPin === 24 || this.state.buzzerPin === 24}>24 (pin 18)</MenuItem>\r\n                                                <MenuItem value={25} disabled={this.state.relayPin === 25 || this.state.fanPin === 25 || this.state.buzzerPin === 25}>25 (pin 22)</MenuItem>\r\n                                                <MenuItem value={26} disabled={this.state.relayPin === 26 || this.state.fanPin === 26 || this.state.buzzerPin === 26}>26 (pin 37)</MenuItem>\r\n                                                <MenuItem value={27} disabled={this.state.relayPin === 27 || this.state.fanPin === 27 || this.state.buzzerPin === 27}>27 (pin 13)</MenuItem>\r\n                                            </Select>\r\n                                        </FormControl>\r\n                                    </Grid>\r\n\r\n                                    <Grid item>\r\n                                        <FormControl error={this.state.fanError}>\r\n                                            <InputLabel>Convection Fan GPIO</InputLabel>\r\n                                            <Select value={this.state.fanPin} onChange={this.handleFanChange}>\r\n                                                <MenuItem value={0}>Disabled</MenuItem>\r\n                                                <MenuItem value={4} disabled={this.state.relayPin === 4 || this.state.coolingFanPin === 4 || this.state.buzzerPin === 4}>4 (pin 7)</MenuItem>\r\n                                                <MenuItem value={5} disabled={this.state.relayPin === 5 || this.state.coolingFanPin === 5 || this.state.buzzerPin === 5}>5 (pin 29)</MenuItem>\r\n                                                <MenuItem value={6} disabled={this.state.relayPin === 6 || this.state.coolingFanPin === 6 || this.state.buzzerPin === 6}>6 (pin 31)</MenuItem>\r\n                                                <MenuItem value={16} disabled={this.state.relayPin === 16 || this.state.coolingFanPin === 16 || this.state.buzzerPin === 16}>16 (pin 36)</MenuItem>\r\n                                                <MenuItem value={17} disabled={this.state.relayPin === 17 || this.state.coolingFanPin === 17 || this.state.buzzerPin === 17}>17 (pin 11)</MenuItem>\r\n                                                <MenuItem value={22} disabled={this.state.relayPin === 22 || this.state.coolingFanPin === 22 || this.state.buzzerPin === 22}>22 (pin 15)</MenuItem>\r\n                                                <MenuItem value={23} disabled={this.state.relayPin === 23 || this.state.coolingFanPin === 23 || this.state.buzzerPin === 23}>23 (pin 16)</MenuItem>\r\n                                                <MenuItem value={24} disabled={this.state.relayPin === 24 || this.state.coolingFanPin === 24 || this.state.buzzerPin === 24}>24 (pin 18)</MenuItem>\r\n                                                <MenuItem value={25} disabled={this.state.relayPin === 25 || this.state.coolingFanPin === 25 || this.state.buzzerPin === 25}>25 (pin 22)</MenuItem>\r\n                                                <MenuItem value={26} disabled={this.state.relayPin === 26 || this.state.coolingFanPin === 26 || this.state.buzzerPin === 26}>26 (pin 37)</MenuItem>\r\n                                                <MenuItem value={27} disabled={this.state.relayPin === 27 || this.state.coolingFanPin === 27 || this.state.buzzerPin === 27}>27 (pin 13)</MenuItem>\r\n                                            </Select>\r\n                                        </FormControl>\r\n                                    </Grid>\r\n\r\n                                    <Grid item>\r\n                                        <FormControl error={this.state.buzzerError}>\r\n                                            <InputLabel>Buzzer GPIO</InputLabel>\r\n                                            <Select value={this.state.buzzerPin} onChange={this.handleBuzzerChange}>\r\n                                                <MenuItem value={0}>Disabled</MenuItem>\r\n                                                <MenuItem value={4} disabled={this.state.relayPin === 4 || this.state.coolingFanPin === 4 || this.state.fanPin === 4}>4 (pin 7)</MenuItem>\r\n                                                <MenuItem value={5} disabled={this.state.relayPin === 5 || this.state.coolingFanPin === 5 || this.state.fanPin === 5}>5 (pin 29)</MenuItem>\r\n                                                <MenuItem value={6} disabled={this.state.relayPin === 6 || this.state.coolingFanPin === 6 || this.state.fanPin === 6}>6 (pin 31)</MenuItem>\r\n                                                <MenuItem value={16} disabled={this.state.relayPin === 16 || this.state.coolingFanPin === 16 || this.state.fanPin === 16}>16 (pin 36)</MenuItem>\r\n                                                <MenuItem value={17} disabled={this.state.relayPin === 17 || this.state.coolingFanPin === 17 || this.state.fanPin === 17}>17 (pin 11)</MenuItem>\r\n                                                <MenuItem value={22} disabled={this.state.relayPin === 22 || this.state.coolingFanPin === 22 || this.state.fanPin === 22}>22 (pin 15)</MenuItem>\r\n                                                <MenuItem value={23} disabled={this.state.relayPin === 23 || this.state.coolingFanPin === 23 || this.state.fanPin === 23}>23 (pin 16)</MenuItem>\r\n                                                <MenuItem value={24} disabled={this.state.relayPin === 24 || this.state.coolingFanPin === 24 || this.state.fanPin === 24}>24 (pin 18)</MenuItem>\r\n                                                <MenuItem value={25} disabled={this.state.relayPin === 25 || this.state.coolingFanPin === 25 || this.state.fanPin === 25}>25 (pin 22)</MenuItem>\r\n                                                <MenuItem value={26} disabled={this.state.relayPin === 26 || this.state.coolingFanPin === 26 || this.state.fanPin === 26}>26 (pin 37)</MenuItem>\r\n                                                <MenuItem value={27} disabled={this.state.relayPin === 27 || this.state.coolingFanPin === 27 || this.state.fanPin === 27}>27 (pin 13)</MenuItem>\r\n                                            </Select>\r\n                                        </FormControl>\r\n                                    </Grid>\r\n\r\n                                    <Grid item>\r\n                                        <TextField\r\n                                            variant=\"outlined\"\r\n                                            label='Stop cooling at:'\r\n                                            value={this.state.fanTurnoffTemp}\r\n                                            onChange={this.handleFanTurnoffChange}\r\n                                            onClick={(e) => this.handleOnFocus(e, this.handleFanTurnoffChange, 'fanTurnoffTemp')}\r\n                                            style={{ width: 150 }}\r\n                                            InputProps={{\r\n                                                endAdornment: <InputAdornment position=\"end\">C</InputAdornment>,\r\n                                            }} />\r\n                                    </Grid>\r\n                                </Grid>\r\n                            </Grid>\r\n\r\n                            <Grid item>\r\n                                <Typography style={{ paddingBottom: 10 }}>\r\n                                    Temperature Adjustment\r\n                                </Typography>\r\n                                <Grid container spacing={3}>\r\n                                    <Grid item>\r\n                                        <TextField\r\n                                            variant=\"outlined\"\r\n                                            label='Constant offset'\r\n                                            value={this.state.thermocoupleOffset}\r\n                                            onChange={this.handleThermocoupleOffset}\r\n                                            onClick={(e) => this.handleOnFocus(e, this.handleThermocoupleOffset, 'thermocoupleOffset')}\r\n                                            style={{ width: 150 }}\r\n                                            InputProps={{\r\n                                                endAdornment: <InputAdornment position=\"end\">C</InputAdornment>,\r\n                                            }}\r\n                                        />\r\n                                    </Grid>\r\n                                    <Grid item>\r\n                                        <TextField\r\n                                            variant=\"outlined\"\r\n                                            label='Percent offset'\r\n                                            value={this.state.percentOffset}\r\n                                            onChange={this.handlePercentOffset}\r\n                                            onClick={(e) => this.handleOnFocus(e, this.handlePercentOffset, 'percentOffset')}\r\n                                            style={{ width: 150 }}\r\n                                            InputProps={{\r\n                                                endAdornment: <InputAdornment position=\"end\">%</InputAdornment>,\r\n                                            }}\r\n                                        />\r\n                                    </Grid>\r\n                                </Grid>\r\n                            </Grid>\r\n\r\n                            <Grid item>\r\n                                <Typography style={{ paddingBottom: 10 }}>\r\n                                    Dual Thermocouple\r\n                                </Typography>\r\n                                <RadioGroup value={this.state.thermocoupleAverageMode} onChange={this.handleThermocoupleMode} >\r\n                                    <FormControlLabel value='false' control={<Radio color=\"primary\" />} label='Use Highest Temperature' />\r\n                                    <FormControlLabel value='true' control={<Radio color=\"primary\" />} label='Use Average' />\r\n                                </RadioGroup>\r\n                            </Grid>\r\n\r\n                            <Grid item>\r\n                                <Typography>\r\n                                    Diagnostics\r\n                                    <IconButton disabled={this.state.refreshDisabled} onClick={this.handleThermocoupleRefresh}><RefreshIcon /></IconButton>\r\n                                </Typography>\r\n                                <Typography style={{ display: 'block' }} variant='caption'>\r\n                                    Thermocouple 1: {this.state.thermo1}C\r\n                                </Typography>\r\n                                <Typography style={{ display: 'block' }} variant='caption'>\r\n                                    Thermocouple 2: {this.state.thermo2}C\r\n                                </Typography>\r\n                                <Typography style={{ display: 'block' }} variant='caption'>\r\n                                    Calculated: {this.state.calculated}C\r\n                                </Typography>\r\n                            </Grid>\r\n\r\n                            <Grid container justifyContent='flex-end' spacing={3}>\r\n                                <Grid item>\r\n                                    <Button variant='contained' color='primary' disabled={!this.state.inputChanged} onClick={this.save}>\r\n                                        Save\r\n                                    </Button>\r\n                                </Grid>\r\n                            </Grid>\r\n                        </Grid>\r\n                    </AccordionDetails>\r\n                </Accordion>\r\n            </>\r\n        );\r\n    }\r\n}\r\n\r\nexport default withTheme(HardwareSettings);","import React, { Component } from \"react\";\r\nimport Accordion from '@material-ui/core/Accordion';\r\nimport AccordionDetails from '@material-ui/core/AccordionDetails';\r\nimport AccordionSummary from '@material-ui/core/AccordionSummary';\r\nimport Typography from '@material-ui/core/Typography';\r\nimport ExpandMoreIcon from '@material-ui/icons/ExpandMore';\r\nimport Grid from '@material-ui/core/Grid';\r\nimport Switch from '@material-ui/core/Switch';\r\nimport Button from '@material-ui/core/Button';\r\nimport axios from 'axios';\r\nimport { CirclePicker } from 'react-color'\r\n\r\nclass AppearanceSettings extends Component {\r\n    constructor(props) {\r\n        super(props);\r\n        this.state = {\r\n            darkMode: this.props.darkMode,\r\n            primary: this.props.primary,\r\n            secondary: this.props.secondary,\r\n            inputChanged: false\r\n        };\r\n        this.save = this.save.bind(this);\r\n        this.handleDarkSwitch = this.handleDarkSwitch.bind(this);\r\n        this.handlePrimaryChange = this.handlePrimaryChange.bind(this);\r\n        this.handleSecondaryChange = this.handleSecondaryChange.bind(this);\r\n    }\r\n\r\n    componentDidMount() {\r\n    }\r\n\r\n    save() {\r\n        var newSettings = {};\r\n        newSettings.dark_mode = this.state.darkMode;\r\n        newSettings.primary_color = this.state.primary;\r\n        newSettings.secondary_color = this.state.secondary;\r\n        axios.post('/api/settings/appearance', newSettings)\r\n            .then(res => {\r\n                if (res.data.status === 200) {\r\n                    this.setState({ inputChanged: false });\r\n                }\r\n            });\r\n    }\r\n\r\n    handleDarkSwitch(e) {\r\n        this.setState({ darkMode: e.target.checked, inputChanged: true });\r\n        this.props.toggleDarkMode(e.target.checked);\r\n    }\r\n\r\n    handlePrimaryChange(color, e) {\r\n        this.setState({ primary: color.hex, inputChanged: true });\r\n        this.props.setPrimaryColor(color.hex);\r\n    }\r\n\r\n    handleSecondaryChange(color, e) {\r\n        this.setState({ secondary: color.hex, inputChanged: true });\r\n        this.props.setSecondaryColor(color.hex);\r\n    }\r\n\r\n    render() {\r\n        return (\r\n            <Accordion >\r\n                <AccordionSummary\r\n                    expandIcon={<ExpandMoreIcon />}\r\n                    aria-controls=\"panel1bh-content\"\r\n                    id=\"panel1bh-header\"\r\n                >\r\n                    <Typography variant='h6'>Appearance</Typography>\r\n                </AccordionSummary>\r\n                <AccordionDetails>\r\n                    <Grid container direction='column' alignItems=\"flex-start\" spacing={3}>\r\n                        <Grid item>\r\n                            <Typography align='left'>\r\n                                Dark Mode\r\n                            </Typography>\r\n                            <Switch checked={this.state.darkMode} onChange={this.handleDarkSwitch} color='primary' />\r\n                        </Grid>\r\n                        <Grid item>\r\n                            <Typography align='left'>\r\n                                Primary Color\r\n                            </Typography>\r\n                            <CirclePicker color={this.state.primary} onChange={this.handlePrimaryChange}/>\r\n                        </Grid>\r\n\r\n                        <Grid item>\r\n                            <Typography align='left'>\r\n                                Secondary Color\r\n                            </Typography>\r\n                            <CirclePicker color={this.state.secondary} onChange={this.handleSecondaryChange} />\r\n                        </Grid>\r\n                        \r\n\r\n                        <Grid container justifyContent='flex-end' spacing={3}>\r\n                            <Grid item>\r\n                                <Grid container direction='column' alignItems='center'>\r\n                                    <Grid item>\r\n                                        <Typography variant='caption' >\r\n                                            <span style={{color: 'red'}}>WARNING: </span>If saved, theme will be applied to all connections.\r\n                                        </Typography>\r\n                                    </Grid>\r\n                                    <Grid item>\r\n                                        <Typography variant='caption' display='inline' >\r\n                                            (useful for differentiating between ovens)\r\n                                        </Typography>\r\n                                    </Grid>\r\n                                </Grid>\r\n                            </Grid>\r\n                            <Grid item>\r\n                                <Button variant='contained' color='primary' disabled={!this.state.inputChanged} onClick={this.save}>\r\n                                    Save\r\n                                </Button>\r\n                            </Grid>\r\n                        </Grid>\r\n                    </Grid>\r\n\r\n                </AccordionDetails>\r\n            </Accordion>\r\n        );\r\n    }\r\n}\r\n\r\nexport default AppearanceSettings;","import React, { Component } from \"react\";\r\nimport StatusBar from '../components/StatusBar';\r\nimport Container from '@material-ui/core/Container';\r\nimport NetworkSettings from '../components/NetworkSettings';\r\nimport PidSettings from '../components/PidSettings';\r\nimport HardwareSettings from \"../components/HardwareSettings\";\r\nimport AppearanceSettings from '../components/AppearanceSettings';\r\n\r\nclass Settings extends Component {\r\n\r\n    render() {\r\n        return (\r\n            <>\r\n                <StatusBar />\r\n                <Container maxWidth={false} style={{paddingTop: '20px'}} >\r\n                    <PidSettings />\r\n                    <HardwareSettings />\r\n                    <NetworkSettings />\r\n                    <AppearanceSettings\r\n                        toggleDarkMode={this.props.toggleDarkMode}\r\n                        setPrimaryColor={this.props.setPrimaryColor}\r\n                        setSecondaryColor={this.props.setSecondaryColor}\r\n                        primary={this.props.primary}\r\n                        secondary={this.props.secondary}\r\n                        darkMode={this.props.darkMode}\r\n                    />\r\n                </Container>\r\n            </>\r\n        );\r\n    }\r\n}\r\n\r\nexport default Settings;","import React from \"react\";\r\nimport socketio from \"socket.io-client\";\r\n\r\n//no url since backend is hosted on the same domain\r\nexport const socket = socketio.connect();\r\nexport const SocketContext = React.createContext();","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport {App} from './App';\nimport reportWebVitals from './reportWebVitals';\n\nvar isLocal = false;\nif (window.location.hostname === \"localhost\" || window.location.hostname === \"127.0.0.1\" || window.location.hostname === \"\") {\n  isLocal = true;\n}\n\nReactDOM.render(\n  <React.StrictMode>\n    <App isLocal={isLocal}/>\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n","import { React, Component } from 'react';\r\nimport { socket } from '../helpers/socket';\r\nimport AppBar from '@material-ui/core/AppBar';\r\nimport Toolbar from '@material-ui/core/Toolbar';\r\nimport Button from '@material-ui/core/Button';\r\nimport Typography from '@material-ui/core/Typography';\r\nimport IconButton from '@material-ui/core/IconButton';\r\nimport MenuIcon from '@material-ui/icons/Menu';\r\nimport HomeIcon from '@material-ui/icons/Home';\r\nimport MenuOpenIcon from '@material-ui/icons/MenuOpen';\r\nimport SettingsIcon from '@material-ui/icons/Settings';\r\nimport { Link } from \"react-router-dom\";\r\nimport axios from 'axios';\r\nimport StopIcon from '@material-ui/icons/Stop';\r\nimport QRCode from \"qrcode.react\";\r\nimport CloseIcon from '@material-ui/icons/Close';\r\nimport WhatshotIcon from '@material-ui/icons/Whatshot';\r\nimport AcUnitIcon from '@material-ui/icons/AcUnit';\r\nimport ToysIcon from '@material-ui/icons/Toys';\r\nimport Snackbar from '@material-ui/core/Snackbar';\r\nimport MuiAlert from '@material-ui/lab/Alert';\r\nimport WifiTetheringIcon from '@material-ui/icons/WifiTethering';\r\nimport { ListItem, SwipeableDrawer, ListItemText, ListItemIcon, Divider, Dialog, DialogTitle, DialogContent } from '@material-ui/core';\r\nimport { LinearProgress, Grid } from '@material-ui/core';\r\nimport { withStyles } from '@material-ui/core/styles';\r\nimport { withRouter } from \"react-router-dom\";\r\nimport ListAltIcon from '@material-ui/icons/ListAlt';\r\nimport Hidden from '@material-ui/core/Hidden';\r\nimport Backdrop from '@material-ui/core/Backdrop';\r\nimport CircularProgress from '@material-ui/core/CircularProgress';\r\n\r\n\r\nclass StatusBar extends Component {\r\n    constructor(props) {\r\n        super(props);\r\n        this.drawerChange = this.drawerChange.bind(this);\r\n        this.stop = this.stop.bind(this);\r\n        this.qrClicked = this.qrClicked.bind(this);\r\n        this.qrClosed = this.qrClosed.bind(this);\r\n        this.snackbarClosed = this.snackbarClosed.bind(this);\r\n        this.timeout = null;\r\n        this.state = {\r\n            drawer: false,\r\n            qrDialog: false,\r\n            thermoDialog: false,\r\n            percentage: 0,\r\n            temperature: 0,\r\n            status: \"Ready\",\r\n            address: \"\",\r\n            currentProfile: \"\",\r\n            serverMessage: \"\",\r\n            serverMessageSeverity: \"\",\r\n            serverMessageSnackbar: false,\r\n            relayOn: false,\r\n            coolingFanOn: false,\r\n            fanOn: false,\r\n            connected: true,\r\n            backdrop: false,\r\n            isLocal: window.location.hostname === \"localhost\" || window.location.hostname === \"127.0.0.1\"\r\n        };\r\n    }\r\n\r\n    StopButton = withStyles({\r\n        root: {\r\n            backgroundColor: '#bf0000',\r\n            '&:hover': {\r\n                backgroundColor: '#870000'\r\n            }\r\n        }\r\n    })(Button);\r\n\r\n    RelayOn = withStyles({\r\n        root: {\r\n            fill: '#c70000',\r\n        }\r\n    })(WhatshotIcon);\r\n\r\n    CoolingOn = withStyles({\r\n        root: {\r\n            fill: '#009cc7',\r\n        }\r\n    })(AcUnitIcon);\r\n\r\n    ConvectionOn = withStyles({\r\n        root: {\r\n            fill: '#00ba16',\r\n        }\r\n    })(ToysIcon);\r\n    \r\n\r\n    stop() {\r\n        axios.post('/api/stop', { reason: \"test\" })\r\n            .then(res => {\r\n                if (res.data.status === 200) {\r\n                    this.setState({ status: \"Ready\" });\r\n                }\r\n            });\r\n    }\r\n\r\n    componentDidMount() {\r\n        fetch('/api/status')\r\n            .then(response => response.json())\r\n            .then(result => {\r\n                this.setState({\r\n                    address: result.address,\r\n                    percentage: result.status.percent,\r\n                    status: result.status.status,\r\n                    currentProfile: result.status.current_profile\r\n                });\r\n            });\r\n        socket.on(\"status_update\", (message) => {\r\n            this.setState({\r\n                percentage: message.percent,\r\n                temperature: message.temperature,\r\n                status: message.status,\r\n                currentProfile: message.current_profile\r\n            });\r\n\r\n            if (message.relay > 0) {\r\n                this.setState({ relayOn: true });\r\n                if (message.relay < 1000) {\r\n                    setTimeout(() => {\r\n                        this.setState({ relayOn: false });\r\n                    }, message.relay);\r\n                }   \r\n            } else {\r\n                this.setState({ relayOn: false });\r\n            }\r\n\r\n            if (message.cooling_fan > 0) {\r\n                this.setState({ coolingFanOn: true });\r\n                if (message.cooling_fan < 1000) {\r\n                    setTimeout(() => {\r\n                        this.setState({ coolingFanOn: false });\r\n                    }, message.cooling_fan);\r\n                }\r\n            } else {\r\n                this.setState({ coolingFanOn: false });\r\n            }\r\n\r\n            if (message.fan > 0) {\r\n                this.setState({ fanOn: true });\r\n                if (message.fan < 1000) {\r\n                    setTimeout(() => {\r\n                        this.setState({ fanOn: false });\r\n                    }, message.fan);\r\n                } \r\n            } else {\r\n                this.setState({ fanOn: false });\r\n            }\r\n        });\r\n        socket.on(\"server_message\", (message) => {\r\n            this.setState({\r\n                serverMessage: message.message,\r\n                serverMessageSeverity: message.severity,\r\n            });\r\n            this.setState({\r\n                serverMessageSnackbar: true\r\n            });\r\n        });\r\n        socket.on(\"disconnect\", () => {\r\n            this.setState({ backdrop: true });\r\n            this.timeout = setTimeout(() => {\r\n                this.setState({ connected: false });\r\n            }, 3000);\r\n            \r\n        });\r\n        socket.on(\"connect\", () => {\r\n            clearTimeout(this.timeout);\r\n            this.setState({ connected: true, backdrop: false });\r\n        });\r\n        if (!socket.connected) {\r\n            this.setState({ backdrop: true });\r\n            this.timeout = setTimeout(() => {\r\n                this.setState({ connected: false });\r\n            }, 3000);\r\n        }\r\n    }\r\n\r\n    drawerChange() {\r\n        if (this.state.drawer) {\r\n            this.setState({ drawer: false });\r\n        } else {\r\n            this.setState({ drawer: true });\r\n        }\r\n    }\r\n\r\n    componentWillUnmount() {\r\n        socket.off(\"status_update\");\r\n        socket.off(\"server_message\");\r\n        socket.off(\"disconnect\");\r\n        socket.off(\"connect\");\r\n    }\r\n\r\n    qrClicked() {\r\n        this.setState({ qrDialog: true });\r\n    }\r\n\r\n    qrClosed() {\r\n        this.setState({ qrDialog: false });\r\n    }\r\n\r\n    snackbarClosed() {\r\n        this.setState({serverMessageSnackbar: false})\r\n    }\r\n\r\n    render() {\r\n        var temperatureDisplay = this.state.temperature + \"C\";\r\n        if (this.state.temperature < 0) {\r\n            temperatureDisplay = \"Thermocouple Disconnected!\";\r\n        }\r\n\r\n        var relayIcon = <WhatshotIcon />;\r\n        var coolingFanIcon = <AcUnitIcon />;\r\n        var fanIcon = <ToysIcon />;\r\n        if (this.state.relayOn) {\r\n            relayIcon = <this.RelayOn />;\r\n        }\r\n\r\n        if (this.state.coolingFanOn) {\r\n            coolingFanIcon = <this.CoolingOn />\r\n        }\r\n\r\n        if (this.state.fanOn) {\r\n            fanIcon = <this.ConvectionOn />\r\n        }\r\n\r\n        const iOS = process.browser && /iPad|iPhone|iPod/.test(navigator.userAgent);\r\n\r\n        return (\r\n            <>\r\n                <Snackbar anchorOrigin={{\r\n                    vertical: 'top',\r\n                    horizontal: 'right'}} open={this.state.serverMessageSnackbar} autoHideDuration={10000} onClose={this.snackbarClosed}>\r\n                    <MuiAlert elevation={6} variant=\"filled\" severity={this.state.serverMessageSeverity} onClose={this.snackbarClosed}>\r\n                        {this.state.serverMessage}\r\n                    </MuiAlert>\r\n                </Snackbar>\r\n\r\n                <Backdrop style={{zIndex: 10}} open={this.state.backdrop}>\r\n                    <CircularProgress color='primary' />\r\n                </Backdrop>\r\n\r\n                <Dialog onClose={this.qrClosed} open={this.state.qrDialog} fullWidth={false} maxWidth={\"sm\"}>\r\n                    <DialogTitle>\r\n                        <Grid container justifyContent='center'>\r\n                            <Grid item>\r\n                                <Typography variant='h5'>\r\n                                    http://{this.state.address}\r\n                                </Typography>\r\n                            </Grid>\r\n                        </Grid>\r\n                    </DialogTitle>\r\n                    <DialogContent>\r\n                        <Grid container alignItems='center' direction='column'>\r\n                            <Grid item>\r\n                                {/* <QRCode value={\"http://\" + this.state.address} size={200} /> */}\r\n                            </Grid>\r\n                            <Grid item>\r\n                                Note: this control panel can only be accessed by the 12 EE lab computers.\r\n                            </Grid>\r\n                            <Grid item>\r\n                                <IconButton aria-label=\"close\" onClick={this.qrClosed}>\r\n                                    <CloseIcon />\r\n                                </IconButton>\r\n                            </Grid>\r\n                        </Grid>\r\n                    </DialogContent>\r\n                </Dialog>\r\n\r\n                <Dialog open={!this.state.connected}>\r\n                    <DialogTitle>\r\n                        <Typography>\r\n                            Disconnected from server\r\n                        </Typography>\r\n                    </DialogTitle>\r\n                    <DialogContent>\r\n                        Please ensure server is running.\r\n                    </DialogContent>\r\n                </Dialog>\r\n\r\n                <AppBar position=\"static\" >\r\n                    <Toolbar >\r\n                        <IconButton edge=\"start\" color=\"inherit\" aria-label=\"menu\" onClick={this.drawerChange}>\r\n                            <MenuIcon />\r\n                        </IconButton>\r\n                        <Hidden xsDown>\r\n                            <IconButton component={Link} to='/' color=\"inherit\"><HomeIcon /></IconButton>\r\n                        </Hidden>\r\n                        <Grid container spacing={5} style={{ paddingLeft: 20, paddingTop: 5 }}>\r\n                            <Grid item style={{ minWidth: 150 }}>\r\n                                <Typography align='right'>\r\n                                    {temperatureDisplay}\r\n                                </Typography>\r\n                            </Grid>\r\n                            <Grid item style={{ minWidth: 100 }}>\r\n                                <Typography align='center' >\r\n                                    {this.state.status}\r\n                                </Typography>\r\n                            </Grid>\r\n                            <Hidden xsDown>\r\n                                <Grid item>\r\n                                    <Grid container spacing={1}>\r\n                                        <Grid item>\r\n                                            {relayIcon}\r\n                                        </Grid>\r\n                                        <Grid item>\r\n                                            {coolingFanIcon}\r\n                                        </Grid>\r\n                                        <Grid item>\r\n                                            {fanIcon}\r\n                                        </Grid>\r\n                                    </Grid>\r\n                                </Grid>\r\n                            </Hidden>\r\n                            <Grid item>\r\n                                <Hidden xsDown>\r\n                                    <Typography noWrap style={{ fontWeight: 'bold', width: window.innerWidth - 650 }} >\r\n                                        {this.state.currentProfile.name}\r\n                                    </Typography>\r\n                                </Hidden>\r\n                            </Grid>\r\n                        </Grid>\r\n                        <div style={{ marginLeft: 'auto' }}>\r\n                            {(this.state.status === \"Preheat\" || this.state.status === \"Running\") &&\r\n                                <this.StopButton onClick={this.stop} startIcon={<StopIcon />} variant=\"contained\" color=\"primary\">Stop</this.StopButton>\r\n                            }\r\n                        </div>\r\n\r\n                    </Toolbar>\r\n                    <LinearProgress style={{height: 5}} variant=\"determinate\" color='secondary' value={this.state.percentage} />\r\n                </AppBar>\r\n\r\n                <SwipeableDrawer\r\n                    open={this.state.drawer}\r\n                    onClose={this.drawerChange}\r\n                    disableDiscovery={iOS}\r\n                    disableBackdropTransition={!iOS}\r\n                >\r\n                    <ListItem button key={\"menu\"} onClick={this.drawerChange} style={{minHeight: 50}}>\r\n                        <ListItemIcon><MenuOpenIcon /></ListItemIcon>\r\n                    </ListItem>\r\n                    <Divider />\r\n                    <ListItem button key={\"Home\"} component={Link} onClick={this.drawerChange} to='/'>\r\n                        <ListItemIcon><HomeIcon /></ListItemIcon>\r\n                        <ListItemText>Home</ListItemText>\r\n                    </ListItem>\r\n                    <ListItem button key={\"ProfileList\"} component={Link} onClick={this.drawerChange} to='/profileList'>\r\n                        <ListItemIcon><ListAltIcon /></ListItemIcon>\r\n                        <ListItemText>Profile List</ListItemText>\r\n                    </ListItem>\r\n                    <ListItem button key={\"Settings\"} component={Link} onClick={this.drawerChange} to='/settings'>\r\n                        <ListItemIcon><SettingsIcon /></ListItemIcon>\r\n                        <ListItemText>Settings</ListItemText>\r\n                    </ListItem>\r\n                    <ListItem button key={\"Address\"} onClick={this.qrClicked}>\r\n                        <ListItemIcon><WifiTetheringIcon /></ListItemIcon>\r\n                        <ListItemText>Server Address</ListItemText>\r\n                    </ListItem>\r\n                </SwipeableDrawer>\r\n            </>\r\n        );\r\n    }\r\n}\r\n\r\nexport default withRouter(StatusBar);\r\n\r\n"],"sourceRoot":""}