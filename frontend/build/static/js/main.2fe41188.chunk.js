(this.webpackJsonpfrontend=this.webpackJsonpfrontend||[]).push([[0],{256:function(e,t,n){},285:function(e,t,n){},418:function(e,t,n){},422:function(e,t,n){"use strict";n.r(t);var a=n(0),i=n.n(a),o=n(18),c=n.n(o),r=(n(256),n(8)),s=n(10),l=n(19),d=n(14),j=n(13),h=n(211),u=n.n(h).a.connect(),b=i.a.createContext(),p=(n(285),n(122)),O=(n(391),n(4));var f=function(e){Object(d.a)(n,e);var t=Object(j.a)(n);function n(e){var a;Object(r.a)(this,n),(a=t.call(this,e)).componentDidMount=a.componentDidMount.bind(Object(l.a)(a));var i=1;return a.props.draggable&&(i=30),a.options={maintainAspectRatio:!0,responsive:!0,pointHitRadius:i,animation:{duration:0},scales:{y:{min:0,max:300,stepSize:1,title:{text:"Temperature",display:!0,color:"rgba(41, 216, 255, 0.7)",font:{size:20}}},x:{min:0,max:400,stepSize:1,title:{text:"Time (Seconds)",display:!0,color:"rgba(41, 216, 255, 0.7)",font:{size:20}}}},plugins:{dragData:{round:0,dragX:!0,onDrag:function(e,t,n,a){},onDragStart:function(e,t){},onDragEnd:function(t,n,a,i){e.arrayUpdater[a]=i}},zoom:{wheel:{enabled:!0},pinch:{enabled:!0},mode:"xy"},tooltip:{xAlign:"right",yAlign:"bottom",displayColors:!1,caretPadding:30,caretSize:10,bodySpacing:20},legend:{display:!1},title:{display:!1}}},a}return Object(s.a)(n,[{key:"componentDidMount",value:function(){}},{key:"render",value:function(){return Object(O.jsx)(O.Fragment,{children:Object(O.jsx)(p.b,{data:{datasets:[{label:"Profile",data:this.props.profile.datapoints,showLine:!0,backgroundColor:"rgba(42, 216, 255, 0.2)",borderColor:"rgba(42, 216, 255, 1)",borderWidth:1,pointRadius:5,hoverRadius:10,dragData:this.props.draggable},{label:"Historic Temerature",data:this.props.historicTemps,showLine:!0,backgroundColor:"rgba(233, 236, 0, 0.2)",borderColor:"rgba(233, 236, 0, 1)",borderWidth:1,pointRadius:1,hoverRadius:2,dragData:!1,borderDash:[10,5],fill:0}]},options:this.options})})}}]),n}(a.Component),m=n(119),x=n.n(m),g=n(80),v=n(43),C=n(70),k=n.n(C),y=n(222),w=n.n(y),D=n(221),S=n.n(D),P=n(471),I=n(474),_=n(88),L=n(87),M=n(148),T=n.n(M),F=n(218),W=n.n(F),N=n(219),U=n.n(N),B=n(220),R=n.n(B),z=n(485),A=n(429),E=n(430),H=n(477),G=n(478),J=n(475),V=n(476),X=function(e){Object(d.a)(n,e);var t=Object(j.a)(n);function n(){var e;return Object(r.a)(this,n),(e=t.call(this)).componentDidMount=e.componentDidMount.bind(Object(l.a)(e)),e.componentWillUnmount=e.componentWillUnmount.bind(Object(l.a)(e)),e.drawerChange=e.drawerChange.bind(Object(l.a)(e)),e.state={drawer:!1},e.state={percentage:0,temperature:0,status:"Ready"},e}return Object(s.a)(n,[{key:"componentDidMount",value:function(){var e=this;u.on("status_update",(function(t){e.setState({percentage:t.percent,temperature:t.temperature,status:t.status})}))}},{key:"drawerChange",value:function(){this.state.drawer?this.setState({drawer:!1}):this.setState({drawer:!0})}},{key:"componentWillUnmount",value:function(){u.off("status_update")}},{key:"render",value:function(){return Object(O.jsxs)(O.Fragment,{children:[Object(O.jsxs)(P.a,{position:"static",children:[Object(O.jsxs)(I.a,{children:[Object(O.jsx)(L.a,{edge:"start",color:"inherit","aria-label":"menu",onClick:this.drawerChange,children:Object(O.jsx)(T.a,{})}),Object(O.jsxs)(J.a,{container:!0,spacing:3,children:[Object(O.jsx)(J.a,{item:!0,children:Object(O.jsx)(_.a,{children:"Address: ovenpi.local:3001"})}),Object(O.jsx)(J.a,{item:!0,children:Object(O.jsxs)(_.a,{children:["Temperature: ",this.state.temperature]})}),Object(O.jsx)(J.a,{item:!0,children:Object(O.jsxs)(_.a,{children:["Status: ",this.state.status]})})]})]}),Object(O.jsx)(V.a,{variant:"determinate",value:100})]}),Object(O.jsxs)(z.a,{open:this.state.drawer,onClose:this.drawerChange,children:[Object(O.jsx)(A.a,{button:!0,onClick:this.drawerChange,children:Object(O.jsx)(E.a,{children:Object(O.jsx)(T.a,{})})},"menu"),Object(O.jsx)(H.a,{}),Object(O.jsxs)(A.a,{button:!0,component:v.b,onClick:this.drawerChange,to:"/",children:[Object(O.jsx)(E.a,{children:Object(O.jsx)(W.a,{})}),Object(O.jsx)(G.a,{children:"Home"})]},"Home"),Object(O.jsxs)(A.a,{button:!0,component:v.b,onClick:this.drawerChange,to:"/profileList",children:[Object(O.jsx)(E.a,{children:Object(O.jsx)(U.a,{})}),Object(O.jsx)(G.a,{children:"Profile List"})]},"ProfileList"),Object(O.jsxs)(A.a,{button:!0,component:v.b,onClick:this.drawerChange,to:"/settings",children:[Object(O.jsx)(E.a,{children:Object(O.jsx)(R.a,{})}),Object(O.jsx)(G.a,{children:"Settings"})]},"Settings")]})]})}}]),n}(a.Component),q=function(e){Object(d.a)(n,e);var t=Object(j.a)(n);function n(){var e;return Object(r.a)(this,n),(e=t.call(this)).runProfile=e.runProfile.bind(Object(l.a)(e)),e.stop=e.stop.bind(Object(l.a)(e)),e.state={currentProfile:"",historicTemperature:[],percentDone:0},e}return Object(s.a)(n,[{key:"componentDidMount",value:function(){var e=this;fetch("/api/current_profile").then((function(e){return e.json()})).then((function(t){e.setState({currentProfile:t.current_profile})})),u.on("status_update",(function(t){e.setState({currentProfile:t.current_profile,historicTemperature:t.historic_temperature})}))}},{key:"componentWillUnmount",value:function(){u.off("status_update")}},{key:"runProfile",value:function(){k.a.post("/api/run",{profile_name:this.state.currentProfile.name}).then((function(e){}))}},{key:"stop",value:function(){k.a.post("/api/stop",{reason:"test"}).then((function(e){}))}},{key:"render",value:function(){return Object(O.jsxs)(O.Fragment,{children:[Object(O.jsx)(X,{}),Object(O.jsx)("div",{style:{paddingTop:"20px",paddingLeft:"20px",width:"85%",display:"flex",justifyContent:"center"},children:Object(O.jsx)(f,{draggable:!1,profile:this.state.currentProfile,historicTemps:this.state.historicTemperature})}),Object(O.jsx)(g.a,{component:v.b,to:{pathname:"/editProfile",state:{profile:this.state.currentProfile}},startIcon:Object(O.jsx)(x.a,{}),variant:"contained",color:"primary",children:"Edit Current Profile"}),Object(O.jsx)(g.a,{onClick:this.stop,startIcon:Object(O.jsx)(S.a,{}),variant:"contained",color:"primary",children:"Stop"}),Object(O.jsx)(g.a,{onClick:this.runProfile,startIcon:Object(O.jsx)(w.a,{}),variant:"contained",color:"primary",children:"Start"})]})}}]),n}(a.Component),K=function(e){Object(d.a)(n,e);var t=Object(j.a)(n);function n(){return Object(r.a)(this,n),t.apply(this,arguments)}return Object(s.a)(n,[{key:"render",value:function(){return Object(O.jsxs)(O.Fragment,{children:[Object(O.jsx)(X,{}),Object(O.jsx)("h1",{style:{color:"white"},children:"This page is still under construction"})]})}}]),n}(a.Component),Q=n(481),Y=n(482),Z=n(483),$=n(484),ee=n(223),te=(n(418),n(24)),ne=n(121),ae=n.n(ne),ie=n(226),oe=n.n(ie),ce=n(227),re=n.n(ce),se=n(228),le=n.n(se),de=n(210),je=n(225),he=n.n(je),ue=function(e){Object(d.a)(n,e);var t=Object(j.a)(n);function n(){var e;return Object(r.a)(this,n),(e=t.call(this)).MyDataGrid=Object(de.a)(ee.a)({color:"white",height:550}),e.SelectButton=Object(de.a)(g.a)({background:"#3dd900","&:hover":"#3dd900"}),e.columns=[{field:"name",headerName:"Profile Name",width:200},{field:"last_run",headerName:"Last Loaded",width:200,editable:!1},{field:"date_created",headerName:"Date Created",width:200,editable:!1}],e.state={profiles:[],activeItem:"",dialog:!1},e.componentDidMount=e.componentDidMount.bind(Object(l.a)(e)),e.loadClicked=e.loadClicked.bind(Object(l.a)(e)),e.handleItemClick=e.handleItemClick.bind(Object(l.a)(e)),e.handleDialogClose=e.handleDialogClose.bind(Object(l.a)(e)),e}return Object(s.a)(n,[{key:"handleItemClick",value:function(e){this.setState({activeItem:e.row}),this.setState({dialog:!0})}},{key:"handleDialogClose",value:function(){this.setState({dialog:!1})}},{key:"componentDidMount",value:function(){var e=this;fetch("/api/reflow_profiles/all").then((function(e){return e.json()})).then((function(t){t.forEach((function(e){e.id=e.name,e.date_created=new Date(e.date_created).toLocaleString(),e.last_run=new Date(e.last_run).toLocaleString()})),e.setState({profiles:t})}))}},{key:"loadClicked",value:function(){var e=this;k.a.post("/api/reflow_profiles/load",{profile_name:this.state.activeItem.name}).then((function(t){if(200===t.status){var n=e.props.history;n&&n.push("/")}}))}},{key:"render",value:function(){return Object(O.jsxs)(O.Fragment,{children:[Object(O.jsx)(X,{}),Object(O.jsxs)(Q.a,{onClose:this.handleDialogClose,open:this.state.dialog,fullWidth:!0,maxWidth:"sm",children:[Object(O.jsxs)(Y.a,{children:[this.state.activeItem.name,Object(O.jsx)(L.a,{"aria-label":"close",onClick:this.handleDialogClose,children:Object(O.jsx)(he.a,{})})]}),Object(O.jsx)(Z.a,{children:Object(O.jsx)(f,{draggable:!1,profile:this.state.activeItem,historicTemps:[]})}),Object(O.jsxs)($.a,{children:[Object(O.jsx)(g.a,{component:v.b,to:{pathname:"/editProfile",state:{profile:this.state.activeItem}},startIcon:Object(O.jsx)(x.a,{}),variant:"contained",color:"primary",children:"Edit Profile"}),Object(O.jsx)(this.SelectButton,{onClick:this.loadClicked,startIcon:Object(O.jsx)(oe.a,{}),variant:"contained",children:"Load"})]})]}),Object(O.jsx)(J.a,{container:!0,direction:"row",align:"center",justifyContent:"center",spacing:2,children:Object(O.jsx)(J.a,{item:!0,xs:12,md:8,lg:6,children:Object(O.jsx)(this.MyDataGrid,{rows:this.state.profiles,columns:this.columns,pageSize:5,checkboxSelection:!1,disableMultipleSelection:!0,onRowClick:this.handleItemClick,autoHeight:!0})})}),Object(O.jsx)(g.a,{component:v.b,to:"/",startIcon:Object(O.jsx)(ae.a,{}),variant:"contained",color:"primary",children:"Cancel"}),Object(O.jsx)(g.a,{startIcon:Object(O.jsx)(re.a,{}),variant:"contained",color:"primary",children:"Upload"}),Object(O.jsx)(g.a,{startIcon:Object(O.jsx)(le.a,{}),variant:"contained",color:"primary",children:"Download"})]})}}]),n}(a.Component),be=Object(te.f)(ue),pe=n(479),Oe=(n(420),n(421),n(229)),fe=n.n(Oe),me=function(e){Object(d.a)(n,e);var t=Object(j.a)(n);function n(e){var a;return Object(r.a)(this,n),(a=t.call(this,e)).componentDidMount=a.componentDidMount.bind(Object(l.a)(a)),a.saveProfile=a.saveProfile.bind(Object(l.a)(a)),a.handleInputChange=a.handleInputChange.bind(Object(l.a)(a)),a.goBack=a.goBack.bind(Object(l.a)(a)),a.loadClicked=a.loadClicked.bind(Object(l.a)(a)),a.cancelClicked=a.cancelClicked.bind(Object(l.a)(a)),a.state={loadDialog:!1,forceLoadDialog:!1},a.newDatapoints=a.props.location.state.profile.datapoints,a.newName=a.props.location.state.profile.name,a}return Object(s.a)(n,[{key:"handleInputChange",value:function(e){this.newName=e.target.value}},{key:"componentDidMount",value:function(){}},{key:"goBack",value:function(){this.props.history.goBack()}},{key:"loadClicked",value:function(){var e=this;k.a.post("/api/reflow_profiles/load",{profile_name:this.newName}).then((function(t){if(200===t.status){var n=e.props.history;n&&n.push("/")}}))}},{key:"cancelClicked",value:function(){this.setState({loadDialog:!1})}},{key:"saveProfile",value:function(){var e=this,t={};t.name=this.newName,t.date_created=Date.now(),t.last_run=0,t.datapoints=this.newDatapoints,k.a.post("/api/reflow_profiles/save",t).then((function(t){e.setState({loadDialog:!0})}))}},{key:"render",value:function(){return Object(O.jsxs)(O.Fragment,{children:[Object(O.jsx)(X,{}),Object(O.jsxs)(Q.a,{open:this.state.loadDialog,children:[Object(O.jsx)(Y.a,{children:"Profile saved"}),Object(O.jsx)(Z.a,{children:"Would you like to load the profile now?"}),Object(O.jsxs)($.a,{children:[Object(O.jsx)(g.a,{autoFocus:!0,onClick:this.cancelClicked,color:"primary",children:"Don't Load"}),Object(O.jsx)(g.a,{onClick:this.loadClicked,color:"primary",autoFocus:!0,children:"Load"})]})]}),Object(O.jsx)("div",{style:{paddingTop:"20px",paddingLeft:"20px",width:"85%",display:"flex",justifyContent:"center"},children:Object(O.jsx)(f,{draggable:!0,profile:this.props.location.state.profile,arrayUpdater:this.newDatapoints})}),Object(O.jsxs)(J.a,{container:!0,spacing:3,alignItems:"center",justify:"center",children:[Object(O.jsx)(J.a,{item:!0,children:Object(O.jsx)(g.a,{onClick:this.goBack,startIcon:Object(O.jsx)(ae.a,{}),variant:"contained",color:"primary",children:"Cancel"})}),Object(O.jsx)(J.a,{item:!0,children:Object(O.jsx)(g.a,{onClick:this.saveProfile,startIcon:Object(O.jsx)(fe.a,{}),variant:"contained",color:"primary",children:"Save"})}),Object(O.jsx)(J.a,{item:!0,children:Object(O.jsx)(pe.a,{style:{color:"white"},onChange:this.handleInputChange,label:"Profile Name",defaultValue:this.newName})})]})]})}}]),n}(a.Component),xe=Object(te.f)(me),ge=function(e){Object(d.a)(n,e);var t=Object(j.a)(n);function n(e){var a;return Object(r.a)(this,n),(a=t.call(this,e)).componentWillUnmount=a.componentWillUnmount.bind(Object(l.a)(a)),a}return Object(s.a)(n,[{key:"componentWillUnmount",value:function(){u.disconnect()}},{key:"render",value:function(){return Object(O.jsx)("div",{className:"App",children:Object(O.jsx)(v.a,{children:Object(O.jsx)(b.Provider,{value:u,children:Object(O.jsxs)(te.c,{children:[Object(O.jsx)(te.a,{exact:!0,path:"/",children:Object(O.jsx)(q,{})}),Object(O.jsx)(te.a,{path:"/editProfile",children:Object(O.jsx)(xe,{})}),Object(O.jsx)(te.a,{path:"/profileList",children:Object(O.jsx)(be,{})}),Object(O.jsx)(te.a,{path:"/settings",children:Object(O.jsx)(K,{})})]})})})})}}]),n}(a.Component),ve=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,487)).then((function(t){var n=t.getCLS,a=t.getFID,i=t.getFCP,o=t.getLCP,c=t.getTTFB;n(e),a(e),i(e),o(e),c(e)}))},Ce=!1;"localhost"!==window.location.hostname&&"127.0.0.1"!==window.location.hostname&&""!==window.location.hostname||(Ce=!0),c.a.render(Object(O.jsx)(i.a.StrictMode,{children:Object(O.jsx)(ge,{isLocal:Ce})}),document.getElementById("root")),ve()}},[[422,1,2]]]);
//# sourceMappingURL=main.2fe41188.chunk.js.map