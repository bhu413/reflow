{"version":3,"sources":["components/Profile.js","App.js","views/home.js","views/profileList.js","views/notFound.js","views/editProfile.js","components/NetworkSettings.js","components/PidSettings.js","components/HardwareSettings.js","components/AppearanceSettings.js","views/settings.js","helpers/socket.js","reportWebVitals.js","index.js","components/StatusBar.js"],"names":["Profile","props","dragStart","bind","drag","dragEnd","state","hitRadius","pointRadius","this","draggable","setState","e","datasetIndex","index","value","gridColor","theme","palette","text","hint","primaryColor","primary","main","transparentPrimary","alpha","secondaryColor","secondary","transparentSecondary","tempColors","Array","fill","historicTempPointSize","activePoint","historicTemps","length","data","datasets","label","profile","datapoints","pointBackgroundColor","showLine","lineTension","backgroundColor","borderColor","borderWidth","pointHitRadius","hoverRadius","dragData","borderDash","options","maintainAspectRatio","aspectRatio","responsive","animation","duration","scales","y","grid","color","ticks","stepSize","min","max","title","display","font","size","x","maxTime","plugins","round","dragX","onDrag","onDragStart","onDragEnd","zoom","wheel","enabled","pinch","mode","tooltip","xAlign","yAlign","displayColors","caretPadding","caretSize","bodySpacing","legend","fullsize","position","align","name","padding","top","bottom","Component","withTheme","App","darkMode","locked","passwordError","password","keyboardLayout","isLocal","window","location","hostname","toggleDarkMode","setPrimaryColor","setSecondaryColor","fetchAppearance","appIdle","handlePasswordEnter","submitPassword","handleKeyboardInput","buffer","Uint8Array","map","toString","padStart","join","localStorage","getItem","socket","on","message","dark_mode","primary_color","secondary_color","fetch","then","response","json","result","disconnect","isDark","setItem","target","button","tempPassword","substring","crypto","subtle","digest","Buffer","from","axios","post","hashed","buf2hex","res","status","themeType","createTheme","type","timeout","onIdle","debounce","open","fullWidth","container","justifyContent","error","onChange","inputProps","autocomplete","form","variant","onClick","layoutName","layout","default","shift","caps","onKeyPress","Provider","exact","path","component","NotFound","Home","steps","description","StartButton","withStyles","root","Button","StopButton","runProfile","forceRunProfile","stop","cancelClicked","coolingDialogClose","currentProfile","historicTemperature","percentDone","activeStep","startWhenCoolingDialog","coolingDialog","current_profile","historic_temperature","nextState","off","override","reason","stopStartButton","startIcon","onClose","autoFocus","maxWidth","xsDown","item","sm","sx","paddingTop","orientation","square","step","style","width","margin","minWidth","smDown","spacing","alignItems","xs","mdUp","Link","to","pathname","tempHistory","ProfileList","SelectButton","DeleteButton","columns","field","headerName","editable","valueFormatter","params","Date","toLocaleString","profiles","activeItem","dialog","forceLoadDialog","allowUploadDownload","deleteDialog","loadClicked","forceLoadClicked","handleItemClick","handleDialogClose","downloadProfile","fileChanged","handleForceDialogClose","handleDeleteDialogClose","deleteClicked","deleteProfile","row","getData","forEach","element","profile_name","force_load","history","push","console","log","downloadableProfile","blob","Blob","JSON","stringify","FileSaver","saveAs","fileReader","FileReader","readAsText","files","onload","uploadedFile","parse","aria-label","direction","lg","rows","rowHeight","pageSize","checkboxSelection","disableMultipleSelection","onRowClick","autoHeight","accept","hidden","date_created","now","last_run","withRouter","EditProfile","loadDialog","enterNameDialog","newName","newDatapoints","newProfile","currentX","currentY","maxNodes","currentPoint","showHistory","saveProfile","handleInputChange","goBack","saveClicked","cancelEnterName","clearName","addX","subtractX","addY","subtractY","addTime","subtractTime","addNode","subtractNode","showHistoryClicked","tempProfile","newPoint","splice","Math","floor","i","j","tempPoint","ceil","checked","keyboard","historySwitch","paddingLeft","historicDatapoints","endAdornment","wrap","marginLeft","NetworkSettings","port","remoteConnections","messageToSend","inputChanged","focused","currentFocused","focusInputChange","save","handleSwitch","handlePortChange","handleMessageChange","sendMessage","handleOnFocus","handleInputClose","handleDialogInput","remote_connections","newSettings","changeFunction","tempString","charAt","inputValue","tempInput","inputDialog","Dialog","DialogTitle","Typography","DialogContent","Grid","TextField","DialogActions","Accordion","AccordionSummary","expandIcon","aria-controls","id","AccordionDetails","Checkbox","disabled","PidSettings","p","d","lookAhead","preheat","preheatPower","alwaysHitPeak","handlePChange","handleIChange","handleDChange","handlePreheatChange","handleLookAheadChange","handlePreheatPowerChange","handleAlwaysHitPeakChange","look_ahead","preheat_power","always_hit_peak","parseInt","InputProps","InputAdornment","HardwareSettings","relayPin","fanPin","coolingFanPin","thermocoupleOffset","percentOffset","relayError","fanError","coolingFanError","fanTurnoffTemp","thermo1","thermo2","calculated","refreshDisabled","thermocoupleAverageMode","handleRelayChange","handleFanChange","handleCoolingFanChange","handleFanTurnoffChange","handleThermocoupleOffset","handleThermocoupleRefresh","handlePercentOffset","handleThermocoupleMode","errorClose","relay_pin","fan_pin","cooling_fan_pin","fan_turnoff_temp","thermocouple_offset","percent_offset","thermocouple_average_mode","sensor_1","sensor_2","current","FormControl","InputLabel","Select","MenuItem","paddingBottom","RadioGroup","FormControlLabel","control","Radio","IconButton","AppearanceSettings","handleDarkSwitch","handlePrimaryChange","handleSecondaryChange","hex","Switch","Settings","StatusBar","Container","socketio","connect","SocketContext","React","createContext","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","StrictMode","document","getElementById","RelayOn","WhatshotIcon","CoolingOn","AcUnitIcon","ConvectionOn","ToysIcon","componentDidMount","componentWillUnmount","drawerChange","qrClicked","qrClosed","snackbarClosed","drawer","qrDialog","thermoDialog","percentage","temperature","address","serverMessage","serverMessageSeverity","serverMessageSnackbar","relayOn","coolingFanOn","fanOn","connected","backdrop","percent","relay","setTimeout","cooling_fan","fan","severity","clearTimeout","temperatureDisplay","relayIcon","coolingFanIcon","fanIcon","anchorOrigin","vertical","horizontal","autoHideDuration","elevation","zIndex","edge","fontWeight","height","minHeight"],"mappings":"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","file":"static/js/main.7a074918.chunk.js","sourcesContent":["import React, { Component } from \"react\";\r\nimport { Scatter } from 'react-chartjs-2';\r\n//import { DraggableGraph } from './DraggableGraph';\r\nimport 'chartjs-plugin-dragdata';\r\n//import Keyboard from 'react-simple-keyboard';\r\nimport { withTheme } from '@material-ui/styles';\r\nimport { alpha } from '@material-ui/core/styles/colorManipulator';\r\n\r\nclass Profile extends Component {\r\n    constructor(props) {\r\n        super(props);\r\n        this.dragStart = this.dragStart.bind(this);\r\n        this.drag = this.drag.bind(this);\r\n        this.dragEnd = this.dragEnd.bind(this);\r\n        this.state = {\r\n            hitRadius: 5,\r\n            pointRadius: 3,\r\n        };  \r\n    }\r\n    \r\n    componentDidMount() {\r\n        if (this.props.draggable) {\r\n            //hitradius over 25 ensures that touch devices can drag points\r\n            this.setState({ hitRadius: 30, pointRadius: 8 });\r\n        }\r\n    }\r\n\r\n\r\n    dragStart(e, datasetIndex, index, value) {\r\n        this.props.dragStart(e, datasetIndex, index, value);\r\n    }\r\n\r\n    drag(e, datasetIndex, index, value) {\r\n        this.props.drag(e, datasetIndex, index, value);\r\n    }\r\n\r\n    dragEnd(e, datasetIndex, index, value) {\r\n        this.props.dragEnd(e, datasetIndex, index, value);\r\n    }\r\n\r\n    render() {\r\n        var gridColor = this.props.theme.palette.text.hint;\r\n        var primaryColor = this.props.theme.palette.primary.main;\r\n        var transparentPrimary = alpha(this.props.theme.palette.primary.main, 0.2);\r\n        var secondaryColor = this.props.theme.palette.secondary.main;\r\n        var transparentSecondary = alpha(this.props.theme.palette.secondary.main, 0.2);\r\n        var tempColors = new Array(10).fill(transparentPrimary);\r\n        var historicTempPointSize = 2;\r\n        if (this.props.draggable) {\r\n            tempColors[this.props.activePoint] = secondaryColor;\r\n        }\r\n        if (this.props.historicTemps && this.props.historicTemps.length === 1) {\r\n            historicTempPointSize = 8;\r\n        }\r\n\r\n        return (\r\n            <Scatter data={{\r\n                datasets: [\r\n                    {\r\n                        label: 'Profile',\r\n                        data: this.props.profile.datapoints,\r\n                        pointBackgroundColor: tempColors,\r\n                        showLine: true,\r\n                        lineTension: 0.05,\r\n                        backgroundColor: transparentPrimary,\r\n                        borderColor: primaryColor,\r\n                        borderWidth: 3,\r\n                        pointRadius: this.state.pointRadius,\r\n                        pointHitRadius: this.state.hitRadius,\r\n                        hoverRadius: this.state.pointRadius + 3,\r\n                        dragData: this.props.draggable,\r\n                    },\r\n                    {\r\n                        label: 'Historic Temerature',\r\n                        data: this.props.historicTemps,\r\n                        showLine: true,\r\n                        lineTension: 0.05,\r\n                        backgroundColor: transparentSecondary,\r\n                        borderColor: secondaryColor,\r\n                        borderWidth: 1,\r\n                        pointRadius: historicTempPointSize,\r\n                        hoverRadius: historicTempPointSize + 1,\r\n                        dragData: false,\r\n                        borderDash: [10, 5],\r\n                        fill: 0,\r\n                    },\r\n                ],\r\n            }} options={{\r\n                maintainAspectRatio: true,\r\n                aspectRatio: 1.9,\r\n                responsive: true,\r\n                animation: {\r\n                    duration: 0,\r\n                },\r\n                scales: {\r\n                    y: {\r\n                        grid: {\r\n                            color: gridColor\r\n                        },\r\n                        ticks: {\r\n                            color: gridColor,\r\n                            stepSize: 25\r\n                        },\r\n                        min: 0,\r\n                        max: 300,\r\n                        title: {\r\n                            text: 'Temperature (°C)',\r\n                            display: true,\r\n                            color: gridColor,\r\n                            font: {\r\n                                size: \"15%\",\r\n                            },\r\n                        },\r\n                    },\r\n                    x: {\r\n                        grid: {\r\n                            color: gridColor\r\n                        },\r\n                        ticks: {\r\n                            color: gridColor,\r\n                            stepSize: 25\r\n                        },\r\n                        min: 0,\r\n                        max: this.props.maxTime,\r\n                        title: {\r\n                            text: 'Time (Seconds)',\r\n                            display: true,\r\n                            color: gridColor,\r\n                            font: {\r\n                                size: \"15%\",\r\n                            },\r\n                        },\r\n                    },\r\n                },\r\n\r\n                plugins: {\r\n                    dragData: {\r\n                        round: 0,\r\n                        dragX: true,\r\n                        onDrag: (e, datasetIndex, index, value) => this.drag(e, datasetIndex, index, value),\r\n                        onDragStart: (e, datasetIndex, index, value) => this.dragStart(e, datasetIndex, index, value),\r\n                        onDragEnd: (e, datasetIndex, index, value) => this.dragEnd(e, datasetIndex, index, value)\r\n                    },\r\n                    zoom: {\r\n                        wheel: {\r\n                            enabled: true,\r\n                        },\r\n                        pinch: {\r\n                            enabled: true\r\n                        },\r\n                        mode: 'xy',\r\n                    },\r\n                    tooltip: {\r\n                        xAlign: 'right',\r\n                        yAlign: 'bottom',\r\n                        displayColors: false,\r\n                        caretPadding: 30,\r\n                        caretSize: 10,\r\n                        bodySpacing: 20,\r\n                    },\r\n                    legend: {\r\n                        display: false,\r\n                    },\r\n                    title: {\r\n                        display: false,\r\n                        color: 'white',\r\n                        fullsize: true,\r\n                        position: 'bottom',\r\n                        align: 'start',\r\n                        text: this.props.profile.name,\r\n                        padding: {\r\n                            top: 0,\r\n                            bottom: 0\r\n                        },\r\n                        font: {\r\n                            size: 30,\r\n                        }\r\n                    },\r\n                },\r\n            }} />\r\n        );\r\n    }\r\n}\r\n//this.props.historicTemps\r\nexport default withTheme(Profile);","import React, { Component } from \"react\";\r\nimport { SocketContext, socket } from './helpers/socket';\r\nimport './App.css';\r\nimport Home from './views/home';\r\nimport Settings from './views/settings';\r\nimport ProfileList from './views/profileList';\r\nimport NotFound from './views/notFound';\r\nimport { createTheme } from '@material-ui/core/styles';\r\nimport { ThemeProvider } from '@material-ui/styles';\r\nimport CssBaseline from '@material-ui/core/CssBaseline';\r\nimport {\r\n  BrowserRouter as Router,\r\n  Switch,\r\n  Route,\r\n} from \"react-router-dom\";\r\nimport EditProfile from \"./views/editProfile\";\r\nimport IdleTimer from 'react-idle-timer'\r\nimport Dialog from '@material-ui/core/Dialog';\r\nimport DialogActions from '@material-ui/core/DialogActions';\r\nimport DialogContent from '@material-ui/core/DialogContent';\r\nimport DialogTitle from '@material-ui/core/DialogTitle';\r\nimport TextField from '@material-ui/core/TextField';\r\nimport { Typography, Button, Grid } from \"@material-ui/core\";\r\nimport axios from 'axios';\r\nimport Keyboard from \"react-simple-keyboard\";\r\n//import { RemoveScrollBar } from 'react-remove-scroll-bar';\r\n\r\nclass App extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      darkMode: true,\r\n      primary: '#3f51b5',\r\n      secondary: '#e91e63',\r\n      locked: false,\r\n      passwordError: false,\r\n      password: '',\r\n      keyboardLayout: 'default',\r\n      isLocal: window.location.hostname === \"localhost\" || window.location.hostname === \"127.0.0.1\"\r\n    };\r\n    this.toggleDarkMode = this.toggleDarkMode.bind(this);\r\n    this.setPrimaryColor = this.setPrimaryColor.bind(this);\r\n    this.setSecondaryColor = this.setSecondaryColor.bind(this);\r\n    this.fetchAppearance = this.fetchAppearance.bind(this);\r\n    this.appIdle = this.appIdle.bind(this);\r\n    this.handlePasswordEnter = this.handlePasswordEnter.bind(this);\r\n    this.submitPassword = this.submitPassword.bind(this);\r\n    this.handleKeyboardInput = this.handleKeyboardInput.bind(this);\r\n  }\r\n\r\n  buf2hex(buffer) { // buffer is an ArrayBuffer\r\n  return [...new Uint8Array(buffer)]\r\n    .map(x => x.toString(16).padStart(2, '0'))\r\n    .join('');\r\n  }\r\n\r\n  componentDidMount() {\r\n    if (localStorage.getItem('locked') === 'true') {\r\n      this.setState({ locked: true });\r\n    }\r\n    this.fetchAppearance();\r\n\r\n    socket.on(\"appearance_update\", (message) => {\r\n      this.setState({\r\n        darkMode: message.dark_mode,\r\n        primary: message.primary_color,\r\n        secondary: message.secondary_color\r\n      })\r\n    });\r\n  }\r\n\r\n  fetchAppearance() {\r\n    fetch('/api/settings/appearance')\r\n      .then(response => response.json())\r\n      .then(result => {\r\n        this.setState({ darkMode: result.dark_mode, primary: result.primary_color, secondary: result.secondary_color });\r\n      });\r\n\r\n  }\r\n\r\n  componentWillUnmount() {\r\n    socket.disconnect();\r\n  }\r\n\r\n  toggleDarkMode(isDark) {\r\n    if (isDark) {\r\n      this.setState({ darkMode: true });\r\n    } else {\r\n      this.setState({ darkMode: false });\r\n    }\r\n  }\r\n\r\n  setPrimaryColor(color) {\r\n    this.setState({ primary: color });\r\n  }\r\n\r\n  setSecondaryColor(color) {\r\n    this.setState({ secondary: color });\r\n  }\r\n\r\n  appIdle() {\r\n    if (this.state.isLocal) {\r\n      this.setState({ locked: true });\r\n      localStorage.setItem('locked', 'true');\r\n    }\r\n  }\r\n\r\n  handlePasswordEnter(e) {\r\n    this.setState({ password: e.target.value });\r\n  }\r\n\r\n  handleKeyboardInput(button) {\r\n    if (button === '{lock}') {\r\n      if (this.state.keyboardLayout === 'caps' || this.state.keyboardLayout === 'shift') {\r\n        this.setState({ keyboardLayout: 'default' });\r\n      } else {\r\n        this.setState({ keyboardLayout: 'caps' });\r\n      }\r\n    } else if (button === '{shift}') {\r\n      if (this.state.keyboardLayout === 'caps' || this.state.keyboardLayout === 'shift') {\r\n        this.setState({ keyboardLayout: 'default' });\r\n      } else {\r\n        this.setState({ keyboardLayout: 'shift' });\r\n      }\r\n    } else {\r\n      let tempPassword = this.state.password;\r\n      if (button === '{bksp}') {\r\n        tempPassword = tempPassword.substring(0, tempPassword.length - 1);\r\n      } else if (button === '{space}') {\r\n        tempPassword += ' ';\r\n      } else if (button === '{enter}') {\r\n        this.submitPassword();\r\n        return;\r\n      } else {\r\n        if (button !== '{tab}') {\r\n          tempPassword += button;\r\n        } \r\n      }\r\n      this.setState({ password: tempPassword });\r\n      if (this.state.keyboardLayout === 'shift') {\r\n        this.setState({ keyboardLayout: 'default' });\r\n      }\r\n    }\r\n  }\r\n\r\n  submitPassword() {\r\n    window.crypto.subtle.digest('sha-256', Buffer.from(this.state.password)).then((digest) => {\r\n      axios.post('/api/check_password', { hashed: this.buf2hex(digest) })\r\n        .then(res => {\r\n          if (res.data.status === 200) {\r\n            this.setState({ locked: false, password: '', passwordError: false });\r\n            localStorage.setItem('locked', 'false');\r\n          } else if (res.data.status === 403) {\r\n            this.setState({ passwordError: true, password: '' });\r\n          }\r\n        });\r\n    });\r\n  }\r\n\r\n\r\n  render() {\r\n    var themeType = 'dark';\r\n    if (!this.state.darkMode) {\r\n      themeType = 'light'\r\n    }\r\n    const theme = createTheme({\r\n      palette: {\r\n        type: themeType,\r\n        primary: {\r\n          main: this.state.primary,\r\n        },\r\n        secondary: {\r\n          main: this.state.secondary,\r\n        },\r\n      }\r\n\r\n    });\r\n\r\n    return (\r\n      <ThemeProvider theme={theme}>\r\n        <IdleTimer\r\n          timeout={600000}\r\n          onIdle={this.appIdle}\r\n          debounce={250}\r\n        />\r\n        <CssBaseline />\r\n        <Dialog open={this.state.locked} fullWidth={true}>\r\n          <DialogTitle>\r\n            <Typography align='center'>\r\n              Oven locked. Please enter password:\r\n            </Typography>\r\n          </DialogTitle>\r\n          <DialogContent>\r\n            <Grid container justifyContent='center'>\r\n              <TextField\r\n                error={this.state.passwordError}\r\n                onChange={this.handlePasswordEnter}\r\n                value={this.state.password}\r\n                type='password'\r\n                inputProps={{\r\n                  autocomplete: 'new-password',\r\n                  form: {\r\n                    autocomplete: 'off',\r\n                  },\r\n                }}\r\n              />\r\n            </Grid>\r\n          </DialogContent>\r\n          <DialogActions>\r\n            <Button color='primary' variant='outline' onClick={this.submitPassword}>Enter</Button>\r\n          </DialogActions>\r\n          <Keyboard\r\n            theme={themeType === 'dark' ? 'hg-theme-dark' : 'hg-theme-default'}\r\n            layoutName={this.state.keyboardLayout}\r\n            layout={{\r\n              default: [\r\n                \"` 1 2 3 4 5 6 7 8 9 0 - = {bksp}\",\r\n                \"{tab} q w e r t y u i o p [ ] \\\\\",\r\n                \"{lock} a s d f g h j k l ; ' {enter}\",\r\n                \"{shift} z x c v b n m , . / {shift}\",\r\n                \"{space}\"\r\n              ],\r\n              shift: [\r\n                \"~ ! @ # $ % ^ & * ( ) _ + {bksp}\",\r\n                \"{tab} Q W E R T Y U I O P { } |\",\r\n                '{lock} A S D F G H J K L : \" {enter}',\r\n                \"{shift} Z X C V B N M < > ? {shift}\",\r\n                \"{space}\"\r\n              ],\r\n              caps: [\r\n                \"~ ! @ # $ % ^ & * ( ) _ + {bksp}\",\r\n                \"{tab} Q W E R T Y U I O P { } |\",\r\n                '{lock} A S D F G H J K L : \" {enter}',\r\n                \"{shift} Z X C V B N M < > ? {shift}\",\r\n                \"{space}\"\r\n              ]\r\n            }}\r\n            onKeyPress={this.handleKeyboardInput}\r\n          />\r\n        </Dialog>\r\n        <Router>\r\n\r\n          <SocketContext.Provider value={socket}>\r\n            <Switch>\r\n\r\n              <Route exact path=\"/\" >\r\n                <Home />\r\n              </Route>\r\n              <Route path=\"/editProfile\" >\r\n                <EditProfile />\r\n              </Route>\r\n              <Route path=\"/profileList\" >\r\n                <ProfileList />\r\n              </Route>\r\n              <Route path=\"/settings\" >\r\n                <Settings\r\n                  toggleDarkMode={this.toggleDarkMode}\r\n                  setPrimaryColor={this.setPrimaryColor}\r\n                  setSecondaryColor={this.setSecondaryColor}\r\n                  primary={this.state.primary}\r\n                  secondary={this.state.secondary}\r\n                  darkMode={this.state.darkMode}\r\n                />\r\n              </Route>\r\n              <Route component={NotFound} />\r\n            </Switch>\r\n          </SocketContext.Provider>\r\n        </Router>\r\n      </ThemeProvider>\r\n\r\n\r\n\r\n    );\r\n  }\r\n}\r\n//<h1>{props.isLocal.toString()}</h1>\r\nexport { App };\r\n","import { React, Component } from 'react';\r\nimport Stepper from '@material-ui/core/Stepper';\r\nimport Step from '@material-ui/core/Step';\r\nimport StepLabel from '@material-ui/core/StepLabel';\r\nimport Profile from '../components/Profile';\r\nimport EditIcon from '@material-ui/icons/Edit';\r\nimport { Button, Container, Grid, Typography, Box, Paper } from '@material-ui/core';\r\nimport { Link } from \"react-router-dom\";\r\nimport { socket } from '../helpers/socket';\r\nimport axios from 'axios';\r\nimport PlayArrowIcon from '@material-ui/icons/PlayArrow';\r\nimport StopIcon from '@material-ui/icons/Stop';\r\nimport StatusBar from '../components/StatusBar';\r\nimport { withStyles } from '@material-ui/core/styles';\r\nimport Dialog from '@material-ui/core/Dialog';\r\nimport DialogActions from '@material-ui/core/DialogActions';\r\nimport DialogContent from '@material-ui/core/DialogContent';\r\nimport DialogTitle from '@material-ui/core/DialogTitle';\r\nimport ListAltIcon from '@material-ui/icons/ListAlt';\r\nimport Hidden from '@material-ui/core/Hidden';\r\n\r\nclass Home extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.runProfile = this.runProfile.bind(this);\r\n    this.forceRunProfile = this.forceRunProfile.bind(this);\r\n    this.stop = this.stop.bind(this);\r\n    this.cancelClicked = this.cancelClicked.bind(this);\r\n    this.coolingDialogClose = this.coolingDialogClose.bind(this);\r\n    this.state = ({\r\n      currentProfile: {\r\n        \"name\": \"flat\",\r\n        \"date_created\": 0,\r\n        \"last_run\": 0,\r\n        \"datapoints\": [\r\n          {\r\n            \"x\": 0,\r\n            \"y\": 30\r\n          },\r\n          {\r\n            \"x\": 75,\r\n            \"y\": 30\r\n          },\r\n          {\r\n            \"x\": 150,\r\n            \"y\": 30\r\n          },\r\n          {\r\n            \"x\": 225,\r\n            \"y\": 30\r\n          },\r\n          {\r\n            \"x\": 300,\r\n            \"y\": 30\r\n          },\r\n          {\r\n            \"x\": 375,\r\n            \"y\": 30\r\n          }\r\n        ]\r\n      },\r\n      historicTemperature: [],\r\n      percentDone: 0,\r\n      status: \"Ready\",\r\n      activeStep: 0,\r\n      startWhenCoolingDialog: false,\r\n      coolingDialog: false\r\n    });\r\n\r\n  }\r\n\r\n  steps = [\r\n    {\r\n      label: 'Ready'\r\n    },\r\n    {\r\n      label: 'Preheat',\r\n      description: ''\r\n    },\r\n    {\r\n      label: 'Run Profile',\r\n      description: ''\r\n    },\r\n    {\r\n      label: 'Peak',\r\n      description: ''\r\n    },\r\n    {\r\n      label: 'Cooling',\r\n      description: ''\r\n    }\r\n  ];\r\n\r\n  StartButton = withStyles({\r\n    root: {\r\n      backgroundColor: '#00ba16',\r\n      '&:hover': {\r\n        backgroundColor: '#009612'\r\n      }\r\n    }\r\n  })(Button);\r\n\r\n  StopButton = withStyles({\r\n    root: {\r\n      backgroundColor: '#bf0000',\r\n      '&:hover': {\r\n        backgroundColor: '#870000'\r\n      }\r\n    }\r\n  })(Button);\r\n\r\n  componentDidMount() {\r\n    fetch('/api/current_profile')\r\n      .then(response => response.json())\r\n      .then(result => {\r\n        this.setState({ currentProfile: result.current_profile });\r\n      });\r\n    socket.on(\"status_update\", (message) => {\r\n      this.setState({\r\n        currentProfile: message.current_profile,\r\n        historicTemperature: message.historic_temperature,\r\n        status: message.status\r\n      });\r\n      if (this.state.status === \"Ready\") {\r\n        this.setState({ activeStep: 0 });\r\n      } else if (this.state.status === \"Preheat\") {\r\n        this.setState({ activeStep: 1 });\r\n      } else if (this.state.status === \"Running\") {\r\n        this.setState({ activeStep: 2 });\r\n      } else if (this.state.status === \"Peak\") {\r\n        this.setState({ activeStep: 3 });\r\n      } else if (this.state.status === \"Cooling\") {\r\n        this.setState({ activeStep: 4 });\r\n      }\r\n    });\r\n    socket.on(\"notify_cooling\", (message) => {\r\n      this.setState({\r\n        coolingDialog: true\r\n      });\r\n    });\r\n  }\r\n\r\n  //need to fix\r\n  shouldComponentUpdate(nextState) {\r\n    return true;\r\n  }\r\n\r\n  componentWillUnmount() {\r\n    socket.off(\"status_update\");\r\n    socket.off(\"notify_cooling\");\r\n  }\r\n\r\n  runProfile() {\r\n      axios.post('/api/run', { override: false })\r\n        .then(res => {\r\n          if (res.data.status === 200) {\r\n            this.setState({ status: \"Running\" });\r\n          } else if (res.data.status === 409) {\r\n            this.setState({ startWhenCoolingDialog: true });\r\n          }\r\n        });\r\n  }\r\n\r\n  forceRunProfile() {\r\n    axios.post('/api/run', { override: true })\r\n      .then(res => {\r\n        if (res.data.status === 200) {\r\n          this.setState({ status: \"Running\", startWhenCoolingDialog: false  });\r\n        }\r\n      });\r\n  }\r\n\r\n  stop() {\r\n    axios.post('/api/stop', { reason: \"test\" })\r\n      .then(res => {\r\n        if (res.data.status === 200) {\r\n          this.setState({ status: \"Ready\" });\r\n        }\r\n      });\r\n  }\r\n\r\n  cancelClicked() {\r\n    this.setState({ startWhenCoolingDialog: false });\r\n  }\r\n\r\n  coolingDialogClose() {\r\n    this.setState({ coolingDialog: false });\r\n  }\r\n\r\n  render() {\r\n    const isRunning = this.state.status === \"Preheat\" || this.state.status === \"Running\" || this.state.status === \"Peak\" ;\r\n    let stopStartButton;\r\n    if (isRunning) {\r\n      stopStartButton = <this.StopButton onClick={this.stop} startIcon={<StopIcon />} variant=\"contained\" color=\"primary\">Stop</this.StopButton>;\r\n    } else {\r\n      stopStartButton = <this.StartButton onClick={this.runProfile} startIcon={<PlayArrowIcon />} variant=\"contained\" color=\"primary\">Start</this.StartButton>;\r\n    }\r\n    return (\r\n      <>\r\n        <StatusBar />\r\n\r\n        <Dialog open={this.state.startWhenCoolingDialog} onClose={this.cancelClicked}>\r\n          <DialogTitle>\r\n            Oven still cooling\r\n          </DialogTitle>\r\n          <DialogContent>\r\n            Start profile anyway?\r\n          </DialogContent>\r\n          <DialogActions>\r\n            <Button onClick={this.cancelClicked} color=\"primary\">\r\n              Cancel\r\n            </Button>\r\n            <Button onClick={this.forceRunProfile} color=\"primary\" autoFocus>\r\n              Start Anyway\r\n            </Button>\r\n          </DialogActions>\r\n        </Dialog>\r\n\r\n        <Dialog open={this.state.coolingDialog} onClose={this.coolingDialogClose}>\r\n          <DialogTitle>\r\n            Cooling Started\r\n          </DialogTitle>\r\n          <DialogContent>\r\n            Door can be opened\r\n          </DialogContent>\r\n          <DialogActions>\r\n            <Button onClick={this.coolingDialogClose} color=\"primary\">\r\n              Ok\r\n            </Button>\r\n          </DialogActions>\r\n        </Dialog>\r\n\r\n        <Container maxWidth={false}>\r\n          \r\n          <Grid container>\r\n            <Hidden xsDown>\r\n              <Grid item sm={2}>\r\n                <Box sx={{ paddingTop: 20 }}>\r\n                  <Paper>\r\n                    <Stepper activeStep={this.state.activeStep} orientation='vertical' square={false}>\r\n                      {this.steps.map((step, index) => (\r\n                        <Step key={step.label} >\r\n                          <StepLabel>\r\n                            <Typography variant='subtitle2' align='left'>\r\n                              {step.label}\r\n                            </Typography>\r\n                          </StepLabel>\r\n                        </Step>\r\n                      ))}\r\n                    </Stepper>\r\n                  </Paper>\r\n                </Box>\r\n              </Grid>\r\n            </Hidden>\r\n              \r\n            \r\n            <Grid item sm={10}>\r\n              <div style={{ paddingTop: \"20px\", width: '93%', margin: '0 0 0 auto', minWidth: 350 }}>\r\n                <Paper>\r\n                  <Hidden smDown>\r\n                    <Typography align='center' variant='h5'>\r\n                      <u>{this.state.currentProfile.name}</u>\r\n                    </Typography>\r\n                  </Hidden>\r\n                  <div style={{padding: '10px 10px 6px 10px '}}>\r\n                    <Profile draggable={false} profile={this.state.currentProfile} historicTemps={this.state.historicTemperature}/>\r\n                  </div>\r\n                </Paper>\r\n              </div>\r\n            </Grid>\r\n          </Grid>\r\n\r\n          <Grid container spacing={3} alignItems=\"center\" justifyContent='space-between' style={{ paddingTop: '15px' }}>\r\n            <Grid item xs={4}>\r\n              <Hidden mdUp>\r\n                <Paper style={{ padding: '6px 7px 6px 10px' }}>\r\n                  <Typography>\r\n                    Profile: {this.state.currentProfile.name}\r\n                  </Typography>\r\n                </Paper>\r\n              </Hidden>\r\n            </Grid>\r\n            \r\n            \r\n            <Grid item>\r\n              \r\n              <Grid container spacing={3}>\r\n                <Grid item>\r\n                  <Button component={Link} to={{ pathname: '/profileList' }} startIcon={<ListAltIcon />} variant=\"contained\" color=\"primary\" >Profile List</Button>\r\n                </Grid>\r\n                <Grid item>\r\n                  <Button component={Link} to={{ pathname: '/editProfile', state: { profile: this.state.currentProfile, tempHistory: this.state.historicTemperature } }} startIcon={<EditIcon />} variant=\"contained\" color=\"primary\" >Edit</Button>\r\n                </Grid>\r\n                <Grid item>\r\n                  {stopStartButton}\r\n                </Grid>\r\n              </Grid>\r\n            </Grid>\r\n          </Grid>\r\n        </Container>\r\n      </>\r\n    );\r\n  }\r\n}\r\n\r\nexport default Home;","import { React, Component } from 'react';\r\nimport Profile from '../components/Profile';\r\nimport { Button, Grid, Dialog, DialogTitle, DialogContent, DialogActions, IconButton, Container } from '@material-ui/core';\r\nimport { DataGrid } from '@material-ui/data-grid'\r\nimport { Link, withRouter } from \"react-router-dom\";\r\nimport axios from 'axios';\r\nimport CancelIcon from '@material-ui/icons/Cancel';\r\nimport DoneIcon from '@material-ui/icons/Done';\r\nimport PublishIcon from '@material-ui/icons/Publish';\r\nimport SaveAltIcon from '@material-ui/icons/SaveAlt';\r\nimport { withStyles } from '@material-ui/core/styles';\r\nimport EditIcon from '@material-ui/icons/Edit';\r\nimport CloseIcon from '@material-ui/icons/Close';\r\nimport StatusBar from '../components/StatusBar';\r\nimport DeleteIcon from '@material-ui/icons/Delete';\r\nimport FileSaver from 'file-saver';\r\nimport NoteAddIcon from '@material-ui/icons/NoteAdd';\r\n\r\nclass ProfileList extends Component {\r\n  constructor() {\r\n    super();\r\n    var isLocal = false;\r\n    if (window.location.hostname === \"localhost\" || window.location.hostname === \"127.0.0.1\" || window.location.hostname === \"\") {\r\n      isLocal = true;\r\n    }\r\n    this.state = ({\r\n      profiles: [],\r\n      activeItem: \"\",\r\n      dialog: false,\r\n      forceLoadDialog: false,\r\n      allowUploadDownload: !isLocal,\r\n      deleteDialog: false,\r\n    });\r\n    this.loadClicked = this.loadClicked.bind(this);\r\n    this.forceLoadClicked = this.forceLoadClicked.bind(this);\r\n    this.handleItemClick = this.handleItemClick.bind(this);\r\n    this.handleDialogClose = this.handleDialogClose.bind(this);\r\n    this.downloadProfile = this.downloadProfile.bind(this);\r\n    this.fileChanged = this.fileChanged.bind(this);\r\n    this.handleForceDialogClose = this.handleForceDialogClose.bind(this);\r\n    this.handleDeleteDialogClose = this.handleDeleteDialogClose.bind(this);\r\n    this.deleteClicked = this.deleteClicked.bind(this);\r\n    this.deleteProfile = this.deleteProfile.bind(this);\r\n  }\r\n\r\n  SelectButton = withStyles({\r\n    root: {\r\n      backgroundColor: '#00ba16',\r\n      '&:hover': {\r\n        backgroundColor: '#009612'\r\n      }\r\n    }\r\n  })(Button);\r\n\r\n  DeleteButton = withStyles({\r\n    root: {\r\n      backgroundColor: '#bf0000',\r\n      '&:hover': {\r\n        backgroundColor: '#870000'\r\n      }\r\n    }\r\n  })(Button);\r\n\r\n  columns = [\r\n    {\r\n      field: 'name',\r\n      headerName: 'Profile Name',\r\n      width: 300,\r\n    },\r\n    {\r\n      field: 'last_run',\r\n      headerName: 'Last Loaded',\r\n      type: 'dateTime',\r\n      width: 200,\r\n      editable: false,\r\n      valueFormatter: (params) => {\r\n        if (params.value === 0) {\r\n          return 'never';\r\n        } else {\r\n          return new Date(params.value).toLocaleString();\r\n        }\r\n      }\r\n    },\r\n    {\r\n      field: 'date_created',\r\n      headerName: 'Date Created',\r\n      type: 'dateTime',\r\n      width: 200,\r\n      editable: false,\r\n      valueFormatter: (params) => {\r\n        if (params.value === 0) {\r\n          return 'n/a';\r\n        } else {\r\n          return new Date(params.value).toLocaleString();\r\n        }\r\n      }\r\n    }\r\n  ];\r\n\r\n\r\n  handleItemClick(e) {\r\n    this.setState({ activeItem: e.row })\r\n    this.setState({ dialog: true });\r\n  }\r\n\r\n  handleDialogClose() {\r\n    this.setState({ dialog: false });\r\n  }\r\n\r\n  handleForceDialogClose() {\r\n    this.setState({ forceLoadDialog: false });\r\n  }\r\n\r\n  handleDeleteDialogClose() {\r\n    this.setState({ deleteDialog: false });\r\n  }\r\n\r\n  componentDidMount() {\r\n    this.getData();\r\n  }\r\n\r\n  getData() {\r\n    fetch('/api/reflow_profiles/all')\r\n      .then(response => response.json())\r\n      .then(result => {\r\n        result.forEach(element => {\r\n          element['id'] = element.name;\r\n        });\r\n        this.setState({ profiles: result });\r\n      });\r\n  }\r\n\r\n  loadClicked() {\r\n    axios.post('/api/reflow_profiles/load', { profile_name: this.state.activeItem.name, force_load: false })\r\n      .then(res => {\r\n        //check if response is ok or if validation failed\r\n        if (res.data.status === 200) {\r\n          //go to home page\r\n          const { history } = this.props;\r\n          if (history) history.push('/');\r\n        }\r\n        else if (res.data.status === 409) {\r\n          console.log('got 409')\r\n          this.setState({ forceLoadDialog: true });\r\n        }\r\n      });\r\n  }\r\n\r\n  forceLoadClicked() {\r\n    axios.post('/api/reflow_profiles/load', { profile_name: this.state.activeItem.name, force_load: true })\r\n      .then(res => {\r\n        //check if response is ok or if validation failed\r\n        if (res.data.status === 200) {\r\n          //go to home page\r\n          const { history } = this.props;\r\n          if (history) history.push('/');\r\n        }\r\n      });\r\n  }\r\n\r\n  downloadProfile() {\r\n    var downloadableProfile = this.state.activeItem;\r\n    delete downloadableProfile['id'];\r\n    var blob = new Blob([JSON.stringify(downloadableProfile, null, 3)], { type: \"text/plain;charset=utf-8\" });\r\n    FileSaver.saveAs(blob, downloadableProfile.name + \".json\");\r\n  }\r\n\r\n  fileChanged(e) {\r\n    const fileReader = new FileReader();\r\n    fileReader.readAsText(e.target.files[0], \"UTF-8\");\r\n    fileReader.onload = (e) => {\r\n      var uploadedFile = JSON.parse(e.target.result);\r\n      axios.post('/api/reflow_profiles/save', uploadedFile)\r\n        .then(res => {\r\n          this.getData();\r\n        });\r\n    };\r\n  }\r\n\r\n  deleteProfile() {\r\n    axios.post('/api/reflow_profiles/delete', { profile_name: this.state.activeItem.name })\r\n      .then(res => {\r\n        this.getData();\r\n        this.setState({ deleteDialog: false, dialog: false });\r\n      });\r\n  }\r\n\r\n  deleteClicked() {\r\n    this.setState({ deleteDialog: true });\r\n  }\r\n\r\n  render() {\r\n    return (\r\n      <>\r\n        <StatusBar />\r\n        <Dialog onClose={this.handleDialogClose} open={this.state.dialog} fullWidth={true}>\r\n          <DialogTitle>\r\n            <Grid container justifyContent='space-between'>\r\n              <Grid item>\r\n                {this.state.activeItem.name}\r\n              </Grid>\r\n              <Grid item>\r\n                <IconButton aria-label=\"close\" onClick={this.handleDialogClose}>\r\n                  <CloseIcon />\r\n                </IconButton>\r\n              </Grid>\r\n            </Grid>\r\n          </DialogTitle>\r\n          <DialogContent>\r\n            <div style={{width: '91%'}}>\r\n              <Profile draggable={false} profile={this.state.activeItem} historicTemps={[]} />\r\n            </div>\r\n          </DialogContent>\r\n          <DialogActions>\r\n            <Grid container justifyContent='space-between'>\r\n              <Grid item>\r\n                <this.DeleteButton startIcon={<DeleteIcon />} variant='contained' color='primary' onClick={this.deleteClicked}>Delete</this.DeleteButton>\r\n              </Grid>\r\n              <Grid item>\r\n                <Grid container spacing={2}>\r\n                  <Grid item>\r\n                    {this.state.allowUploadDownload &&\r\n                      <Button startIcon={<SaveAltIcon />} variant=\"contained\" color=\"primary\" onClick={this.downloadProfile}>Download</Button>\r\n                    }\r\n                  </Grid>\r\n                  <Grid item>\r\n                    <Button component={Link} to={{ pathname: '/editProfile', state: { profile: this.state.activeItem } }} startIcon={<EditIcon />} variant=\"contained\" color=\"primary\">Edit</Button>\r\n                  </Grid>\r\n                  <Grid item>\r\n                    <this.SelectButton onClick={this.loadClicked} startIcon={<DoneIcon />} variant=\"contained\" color='primary'>Load</this.SelectButton>\r\n                  </Grid>\r\n                </Grid>\r\n              </Grid>\r\n            </Grid>\r\n          </DialogActions>\r\n        </Dialog>\r\n\r\n        <Dialog open={this.state.forceLoadDialog}>\r\n          <DialogTitle>\r\n            Oven Currently Running\r\n          </DialogTitle>\r\n          <DialogContent>\r\n            Stop oven and load profile?\r\n          </DialogContent>\r\n          <DialogActions>\r\n            <Button onClick={this.handleForceDialogClose} color=\"primary\">\r\n              Cancel\r\n            </Button>\r\n            <Button onClick={this.forceLoadClicked} color=\"primary\" autoFocus>\r\n              Force Load\r\n            </Button>\r\n          </DialogActions>\r\n        </Dialog>\r\n\r\n        <Dialog open={this.state.deleteDialog} onClose={this.handleDeleteDialogClose}>\r\n          <DialogTitle>\r\n            Delete Profile\r\n          </DialogTitle>\r\n          <DialogContent>\r\n            Are you sure you want to delete \"{this.state.activeItem.name}\"?\r\n          </DialogContent>\r\n          <DialogActions>\r\n            <Button onClick={this.handleDeleteDialogClose} color=\"primary\">\r\n              Cancel\r\n            </Button>\r\n            <Button onClick={this.deleteProfile} color=\"primary\" autoFocus>\r\n              Yes\r\n            </Button>\r\n          </DialogActions>\r\n        </Dialog>\r\n\r\n        <Container maxWidth={false}>\r\n          <Grid container direction={\"row\"} align={\"center\"} justifyContent={\"center\"} spacing={2}>\r\n            <Grid item xs={12} lg={12} style={{paddingTop: '20px'}}>\r\n              <DataGrid\r\n                rows={this.state.profiles}\r\n                rowHeight={45}\r\n                columns={this.columns}\r\n                pageSize={5}\r\n                checkboxSelection={false}\r\n                disableMultipleSelection={true}\r\n                onRowClick={this.handleItemClick}\r\n                autoHeight={true}\r\n              />\r\n            </Grid>\r\n          </Grid>\r\n        </Container>\r\n        \r\n        <Container maxWidth={false}>\r\n          <Grid container spacing={3} justifyContent=\"flex-end\">\r\n            <Grid item>\r\n              <Button component={Link} to=\"/\" startIcon={<CancelIcon />} variant=\"contained\" color=\"primary\">Cancel</Button>\r\n            </Grid>\r\n              {this.state.allowUploadDownload &&\r\n                <Grid item>\r\n              <Button startIcon={<PublishIcon />} variant=\"contained\" color=\"primary\" component=\"label\" >Upload<input type=\"file\" accept=\"application/JSON\" hidden onChange={this.fileChanged} /></Button>\r\n                </Grid>\r\n              }\r\n            <Grid item>\r\n              <Button component={Link} to={{\r\n                pathname: '/editProfile', state: {\r\n                  profile: {\r\n                    name: \"new_profile\",\r\n                    date_created: Date.now(),\r\n                    last_run: 0,\r\n                    datapoints: [\r\n                      {\r\n                        x: 0,\r\n                        y: 30\r\n                      },\r\n                      {\r\n                        x: 75,\r\n                        y: 30\r\n                      },\r\n                      {\r\n                        x: 150,\r\n                        y: 30\r\n                      },\r\n                      {\r\n                        x: 225,\r\n                        y: 30\r\n                      },\r\n                      {\r\n                        x: 300,\r\n                        y: 30\r\n                      },\r\n                      {\r\n                        x: 375,\r\n                        y: 30\r\n                      }\r\n                    ]\r\n              } } }} startIcon={<NoteAddIcon />} variant=\"contained\" color=\"primary\" >Create New</Button>\r\n            </Grid>\r\n          </Grid>\r\n        </Container>\r\n\r\n\r\n        \r\n      </>\r\n    );\r\n  }\r\n}\r\n\r\nexport default withRouter(ProfileList);","import React, { Component } from \"react\";\r\nimport Typography from '@material-ui/core/Typography';\r\nimport StatusBar from '../components/StatusBar';\r\n\r\nclass NotFound extends Component {\r\n\r\n\r\n    render() {\r\n        return (\r\n            <>\r\n                <StatusBar />\r\n                <Typography variant='h5' align='center'>404. Hope you find your way back!</Typography>\r\n            </>\r\n            \r\n        );\r\n    }\r\n}\r\n\r\nexport default NotFound;","import { React, Component } from 'react';\r\nimport Profile from '../components/Profile';\r\nimport { Button, Input, Grid, Container, InputAdornment, IconButton, Typography, Switch } from '@material-ui/core';\r\nimport Keyboard from 'react-simple-keyboard';\r\nimport { withRouter } from \"react-router-dom\";\r\nimport 'react-simple-keyboard/build/css/index.css';\r\nimport axios from 'axios';\r\nimport CancelIcon from '@material-ui/icons/Cancel';\r\nimport Dialog from '@material-ui/core/Dialog';\r\nimport DialogActions from '@material-ui/core/DialogActions';\r\nimport DialogContent from '@material-ui/core/DialogContent';\r\nimport DialogTitle from '@material-ui/core/DialogTitle';\r\nimport StatusBar from '../components/StatusBar';\r\nimport ClearIcon from '@material-ui/icons/Clear';\r\nimport SaveIcon from '@material-ui/icons/Save';\r\nimport AddIcon from '@material-ui/icons/Add';\r\nimport RemoveIcon from '@material-ui/icons/Remove';\r\nimport ArrowUpwardIcon from '@material-ui/icons/ArrowUpward';\r\nimport ArrowDownwardIcon from '@material-ui/icons/ArrowDownward';\r\nimport ArrowBackIcon from '@material-ui/icons/ArrowBack';\r\nimport ArrowForwardIcon from '@material-ui/icons/ArrowForward';\r\nimport Paper from '@material-ui/core/Paper';\r\nimport Hidden from '@material-ui/core/Hidden';\r\nimport './keyboard.css';\r\nimport { withTheme } from '@material-ui/styles';\r\n\r\n\r\nclass EditProfile extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = ({\r\n      loadDialog: false,\r\n      forceLoadDialog: false,\r\n      enterNameDialog: false,\r\n      newName: this.props.location.state.profile.name,\r\n      newDatapoints: this.props.location.state.profile.datapoints,\r\n      newProfile: this.props.location.state.profile,\r\n      currentX: this.props.location.state.profile.datapoints[0].x,\r\n      currentY: this.props.location.state.profile.datapoints[0].y,\r\n      maxTime: 400,\r\n      maxNodes: 6,\r\n      currentPoint: 0,\r\n      showHistory: false,\r\n      keyboardLayout: 'default',\r\n      tempHistory: this.props.location.state.tempHistory || [],\r\n      isLocal: window.location.hostname === \"localhost\" || window.location.hostname === \"127.0.0.1\"\r\n    });\r\n    this.saveProfile = this.saveProfile.bind(this);\r\n    this.handleInputChange = this.handleInputChange.bind(this);\r\n    this.goBack = this.goBack.bind(this);\r\n    this.loadClicked = this.loadClicked.bind(this);\r\n    this.forceLoadClicked = this.forceLoadClicked.bind(this);\r\n    this.cancelClicked = this.cancelClicked.bind(this);\r\n    this.saveClicked = this.saveClicked.bind(this);\r\n    this.handleKeyboardInput = this.handleKeyboardInput.bind(this);\r\n    this.cancelEnterName = this.cancelEnterName.bind(this);\r\n    this.clearName = this.clearName.bind(this);\r\n    this.dragStart = this.dragStart.bind(this);\r\n    this.drag = this.drag.bind(this);\r\n    this.dragEnd = this.dragEnd.bind(this);\r\n    this.addX = this.addX.bind(this);\r\n    this.subtractX = this.subtractX.bind(this);\r\n    this.addY = this.addY.bind(this);\r\n    this.subtractY = this.subtractY.bind(this);\r\n    this.addTime = this.addTime.bind(this);\r\n    this.subtractTime = this.subtractTime.bind(this);\r\n    this.addNode = this.addNode.bind(this);\r\n    this.subtractNode = this.subtractNode.bind(this);\r\n    this.showHistoryClicked = this.showHistoryClicked.bind(this);\r\n  }\r\n\r\n  addX() {\r\n    if (this.state.currentX < this.state.maxTime) {\r\n      var tempProfile = this.state.newProfile;\r\n      tempProfile.datapoints[this.state.currentPoint].x += 1;\r\n      this.setState({ newProfile: tempProfile, currentX: this.state.currentX + 1 });\r\n    }\r\n  }\r\n\r\n  subtractX() {\r\n    if (this.state.currentX > 0) {\r\n      var tempProfile = this.state.newProfile;\r\n      tempProfile.datapoints[this.state.currentPoint].x -= 1;\r\n      this.setState({ newProfile: tempProfile, currentX: this.state.currentX - 1 });\r\n    }\r\n  }\r\n\r\n  addY() {\r\n    if (this.state.currentY < 300) {\r\n      var tempProfile = this.state.newProfile;\r\n      tempProfile.datapoints[this.state.currentPoint].y += 1;\r\n      this.setState({ newProfile: tempProfile, currentY: this.state.currentY + 1 });\r\n    }\r\n  }\r\n\r\n  subtractY() {\r\n    if (this.state.currentY > 0) {\r\n      var tempProfile = this.state.newProfile;\r\n      tempProfile.datapoints[this.state.currentPoint].y -= 1;\r\n      this.setState({ newProfile: tempProfile, currentY: this.state.currentY - 1 });\r\n    }\r\n  }\r\n\r\n  addTime() {\r\n    if (this.state.maxTime < 2000) {\r\n      this.setState({maxTime: this.state.maxTime + 100})\r\n    }\r\n  }\r\n\r\n  subtractTime() {\r\n    if (this.state.maxTime > 0 && this.state.maxTime - 100 >= this.state.newProfile.datapoints[this.state.newProfile.datapoints.length - 1].x) {\r\n      this.setState({ maxTime: this.state.maxTime - 100 })\r\n    }\r\n  }\r\n\r\n  addNode() {\r\n    if (this.state.newProfile.datapoints.length < 10) {\r\n      var tempProfile = this.state.newProfile;\r\n      var newPoint = {};\r\n      if (this.state.currentPoint === this.state.newProfile.datapoints.length - 1) {\r\n        if (this.state.newProfile.datapoints[this.state.currentPoint].x <= this.state.maxTime - 50) {\r\n          newPoint.x = tempProfile.datapoints[this.state.currentPoint].x + 25;\r\n          newPoint.y = tempProfile.datapoints[this.state.currentPoint].y;\r\n          tempProfile.datapoints.splice(this.state.currentPoint + 1, 0, newPoint);\r\n          this.setState({ currentPoint: this.state.currentPoint + 1, currentX: newPoint.x, currentY: newPoint.y });\r\n        } else {\r\n          newPoint.x = Math.floor((tempProfile.datapoints[this.state.currentPoint].x + tempProfile.datapoints[this.state.currentPoint - 1].x) / 2);\r\n          newPoint.y = Math.floor((tempProfile.datapoints[this.state.currentPoint].y + tempProfile.datapoints[this.state.currentPoint - 1].y) / 2)\r\n          tempProfile.datapoints.splice(this.state.currentPoint, 0, newPoint);\r\n          this.setState({ currentX: newPoint.x, currentY: newPoint.y });\r\n        }\r\n      } else {\r\n        newPoint.x = Math.floor((tempProfile.datapoints[this.state.currentPoint].x + tempProfile.datapoints[this.state.currentPoint + 1].x) / 2);\r\n        newPoint.y = Math.floor((tempProfile.datapoints[this.state.currentPoint].y + tempProfile.datapoints[this.state.currentPoint + 1].y) / 2)\r\n        tempProfile.datapoints.splice(this.state.currentPoint + 1, 0, newPoint);\r\n        this.setState({ currentPoint: this.state.currentPoint + 1, currentX: newPoint.x, currentY: newPoint.y });\r\n      }\r\n      this.setState({ newProfile: tempProfile, maxNodes: this.state.maxNodes + 1});\r\n    }\r\n  }\r\n\r\n  subtractNode() {\r\n    if (this.state.newProfile.datapoints.length > 2) {\r\n      var tempProfile = this.state.newProfile;\r\n      if (this.state.currentPoint === 0) {\r\n        tempProfile.datapoints.splice(this.state.currentPoint, 1);\r\n        this.setState({\r\n          currentX: this.state.newProfile.datapoints[this.state.currentPoint].x,\r\n          currentY: this.state.newProfile.datapoints[this.state.currentPoint].y\r\n        });\r\n      } else {\r\n        tempProfile.datapoints.splice(this.state.currentPoint, 1);\r\n        this.setState({\r\n          currentPoint: this.state.currentPoint - 1,\r\n          currentX: this.state.newProfile.datapoints[this.state.currentPoint - 1].x,\r\n          currentY: this.state.newProfile.datapoints[this.state.currentPoint - 1].y\r\n        });\r\n      }\r\n      this.setState({ newProfile: tempProfile, maxNodes: this.state.maxNodes - 1 });\r\n    }\r\n  }\r\n\r\n  dragStart(e, datasetIndex, index, value) {\r\n    this.setState({ currentPoint: index });\r\n  }\r\n\r\n  drag(e, datasetIndex, index, value) {\r\n    var tempProfile = this.state.newProfile;\r\n    tempProfile.datapoints[index] = value;\r\n    this.setState({ currentX: value.x, currentY: value.y, newProfile: tempProfile });\r\n  }\r\n\r\n  dragEnd(e, datasetIndex, index, value) {\r\n    var tempProfile = this.state.newProfile;\r\n    tempProfile.datapoints[index] = value;\r\n\r\n    //sort datapoints so that lines don't overlap\r\n    for (let i = 0; i < tempProfile.datapoints.length; i++) {\r\n      for (let j = i; j < tempProfile.datapoints.length; j++) {\r\n        if (tempProfile.datapoints[j].x < tempProfile.datapoints[i].x) {\r\n          //keep track of index/current point\r\n          if (i === index) {\r\n            index = j;\r\n          } else if (j === index) {\r\n            index = i;\r\n          }\r\n          var tempPoint = tempProfile.datapoints[i];\r\n          tempProfile.datapoints[i] = tempProfile.datapoints[j];\r\n          tempProfile.datapoints[j] = tempPoint;\r\n        }\r\n      }\r\n    }\r\n    this.setState({ currentX: value.x, currentY: value.y, currentPoint: index, newProfile: tempProfile });\r\n  }\r\n\r\n  handleInputChange(e) {\r\n    var tempProfile = this.state.newProfile;\r\n    tempProfile.name = e.target.value;\r\n    this.setState({ newProfile: tempProfile });\r\n  }\r\n  \r\n  componentDidMount() {\r\n    this.setState({\r\n      maxTime: Math.ceil(this.state.newProfile.datapoints[this.state.newProfile.datapoints.length - 1].x / 100) * 100,\r\n      maxNodes: this.state.newProfile.datapoints.length\r\n    });\r\n  }\r\n\r\n  goBack() {\r\n    this.props.history.goBack();\r\n  }\r\n\r\n  loadClicked() {\r\n    axios.post('/api/reflow_profiles/load', { profile_name: this.state.newProfile.name, force_load: false })\r\n      .then(res => {\r\n        //check if response is ok or if validation failed\r\n        if (res.data.status === 200) {\r\n          //go to home page\r\n          const { history } = this.props;\r\n          if (history) history.push('/');\r\n        }\r\n        else if (res.data.status === 409) {\r\n          this.setState({ loadDialog: false });\r\n          this.setState({ forceLoadDialog: true });\r\n        }\r\n      });\r\n  }\r\n\r\n  forceLoadClicked() {\r\n    axios.post('/api/reflow_profiles/load', { profile_name: this.state.newProfile.name, force_load: true })\r\n      .then(res => {\r\n        //check if response is ok or if validation failed\r\n        if (res.data.status === 200) {\r\n          //go to home page\r\n          const { history } = this.props;\r\n          if (history) history.push('/');\r\n        }\r\n      });\r\n  }\r\n\r\n  cancelClicked() {\r\n    this.setState({ loadDialog: false, forceLoadDialog: false});\r\n  }\r\n\r\n  saveProfile() {\r\n    this.setState({enterNameDialog: false});\r\n    var tempProfile = this.state.newProfile;\r\n    tempProfile.date_created = Date.now();\r\n    tempProfile.last_run = 0;\r\n    this.setState({ newProfile: tempProfile });\r\n    axios.post('/api/reflow_profiles/save', this.state.newProfile)\r\n      .then(res => {\r\n        this.setState({ loadDialog: true });\r\n      });\r\n\r\n  }\r\n\r\n  saveClicked() {\r\n    this.setState({ enterNameDialog: true });\r\n  }\r\n\r\n  handleKeyboardInput(button) {\r\n    if (button === '{lock}') {\r\n      if (this.state.keyboardLayout === 'caps' || this.state.keyboardLayout === 'shift') {\r\n        this.setState({ keyboardLayout: 'default' });\r\n      } else {\r\n        this.setState({ keyboardLayout: 'caps' });\r\n      }\r\n    } else if (button === '{shift}') {\r\n      if (this.state.keyboardLayout === 'caps' || this.state.keyboardLayout === 'shift') {\r\n        this.setState({ keyboardLayout: 'default' });\r\n      } else {\r\n        this.setState({ keyboardLayout: 'shift' });\r\n      }\r\n    } else {\r\n      let newName = this.state.newProfile.name;\r\n      if (button === '{bksp}') {\r\n        newName = newName.substring(0, newName.length - 1);\r\n      } else if (button === '{space}') {\r\n        newName += ' ';\r\n      } else if (button === '{enter}') {\r\n        this.saveProfile();\r\n        return;\r\n      } else {\r\n        if (button !== '{tab}') {\r\n          newName += button;\r\n        }\r\n      }\r\n      var tempProfile = this.state.newProfile;\r\n      tempProfile.name = newName;\r\n      this.setState({ newProfile: tempProfile });\r\n      if (this.state.keyboardLayout === 'shift') {\r\n        this.setState({ keyboardLayout: 'default' });\r\n      }\r\n    }\r\n  }\r\n\r\n  cancelEnterName() {\r\n    this.setState({ enterNameDialog: false });\r\n  }\r\n\r\n  clearName() {\r\n    var tempProfile = this.state.newProfile;\r\n    tempProfile.name = \"\";\r\n    this.setState({ newProfile: tempProfile });\r\n  }\r\n\r\n  showHistoryClicked(e) {\r\n    this.setState({ showHistory: e.target.checked });\r\n  }\r\n\r\n  render() {\r\n    var keyboard = <></>;\r\n    if (this.state.isLocal) {\r\n      keyboard = <Keyboard\r\n        theme={this.props.theme.palette.type === 'dark' ? 'hg-theme-dark' : 'hg-theme-default'}\r\n        layoutName={this.state.keyboardLayout}\r\n        layout={{\r\n          default: [\r\n            \"` 1 2 3 4 5 6 7 8 9 0 - = {bksp}\",\r\n            \"{tab} q w e r t y u i o p [ ] \\\\\",\r\n            \"{lock} a s d f g h j k l ; ' {enter}\",\r\n            \"{shift} z x c v b n m , . / {shift}\",\r\n            \"{space}\"\r\n          ],\r\n          shift: [\r\n            \"~ ! @ # $ % ^ & * ( ) _ + {bksp}\",\r\n            \"{tab} Q W E R T Y U I O P { } |\",\r\n            '{lock} A S D F G H J K L : \" {enter}',\r\n            \"{shift} Z X C V B N M < > ? {shift}\",\r\n            \"{space}\"\r\n          ],\r\n          caps: [\r\n            \"~ ! @ # $ % ^ & * ( ) _ + {bksp}\",\r\n            \"{tab} Q W E R T Y U I O P { } |\",\r\n            '{lock} A S D F G H J K L : \" {enter}',\r\n            \"{shift} Z X C V B N M < > ? {shift}\",\r\n            \"{space}\"\r\n          ]\r\n        }}\r\n        onKeyPress={this.handleKeyboardInput}\r\n      />;\r\n    }\r\n\r\n    var historySwitch = <></>;\r\n    if (this.state.tempHistory.length > 0) {\r\n      historySwitch = <Grid item>\r\n        <Paper>\r\n          <Grid container justifyContent=\"space-evenly\">\r\n            <Grid item>\r\n              <Typography style={{ paddingLeft: 10 }}>History</Typography>\r\n            </Grid>\r\n            <Grid item>\r\n              <Switch\r\n                checked={this.state.showHistory}\r\n                onChange={this.showHistoryClicked}\r\n                size='small'\r\n                color='secondary'\r\n              />\r\n            </Grid>\r\n          </Grid>\r\n        </Paper>\r\n      </Grid>;\r\n    }\r\n\r\n    var historicDatapoints = []\r\n    if (this.state.showHistory) {\r\n      historicDatapoints = this.state.tempHistory;\r\n    }\r\n\r\n    return (\r\n      <>\r\n        <StatusBar />\r\n        <Dialog open={this.state.loadDialog} onClose={this.cancelClicked}>\r\n          <DialogTitle>\r\n            Profile saved\r\n          </DialogTitle>\r\n          <DialogContent>\r\n            Would you like to load the profile now?\r\n          </DialogContent>\r\n          <DialogActions>\r\n            <Button onClick={this.cancelClicked} color=\"primary\" variant='contained'>\r\n              Don't Load\r\n            </Button>\r\n            <Button onClick={this.loadClicked} color=\"primary\" variant='contained' autoFocus>\r\n              Load\r\n            </Button>\r\n          </DialogActions>\r\n        </Dialog>\r\n\r\n        <Dialog open={this.state.forceLoadDialog} onClose={this.cancelClicked}>\r\n          <DialogTitle>\r\n            Oven Currently Running\r\n          </DialogTitle>\r\n          <DialogContent>\r\n            Stop oven and load profile?\r\n          </DialogContent>\r\n          <DialogActions>\r\n            <Button onClick={this.cancelClicked} color=\"primary\" variant='contained'>\r\n              Cancel\r\n            </Button>\r\n            <Button onClick={this.forceLoadClicked} color=\"primary\" variant='contained' autoFocus>\r\n              Force Load\r\n            </Button>\r\n          </DialogActions>\r\n        </Dialog>\r\n\r\n        <Dialog open={this.state.enterNameDialog} maxWidth={'md'} fullWidth onClose={this.cancelEnterName}>\r\n          <DialogTitle align='center'>\r\n            Name your profile:\r\n          </DialogTitle>\r\n          <DialogContent>\r\n            <Grid container justifyContent='center'>\r\n              <Input onChange={this.handleInputChange} label='Profile Name' value={this.state.newProfile.name}\r\n                endAdornment={\r\n                  <InputAdornment position=\"end\">\r\n                    <IconButton onClick={this.clearName}><ClearIcon /></IconButton>\r\n                  </InputAdornment>\r\n                }\r\n              />\r\n            </Grid>\r\n          </DialogContent>\r\n          <DialogActions>\r\n            <Button onClick={this.cancelEnterName} color=\"primary\" variant='contained'>\r\n              Cancel\r\n            </Button>\r\n            <Button onClick={this.saveProfile} color=\"primary\" variant='contained' autoFocus>\r\n              OK\r\n            </Button>\r\n          </DialogActions>\r\n          {keyboard}\r\n        </Dialog>\r\n\r\n        <Container maxWidth={false}>\r\n          <Grid container >\r\n            <Grid item sm={2} lg={2}>\r\n\r\n              <Hidden xsDown>\r\n                <Grid container spacing={1} direction=\"column\" style={{ paddingTop: '20px' }} >\r\n                  <Grid item align='center'>\r\n                    <Typography variant='h5'>\r\n                      ({this.state.currentX}, {this.state.currentY})\r\n                    </Typography>\r\n                  </Grid>\r\n\r\n                  <Grid item>\r\n                    <Paper>\r\n                      <Grid item align='center'>\r\n                      </Grid>\r\n                      <Grid item align='center'>\r\n                        <IconButton color='primary' size='small' onClick={this.addY}><ArrowUpwardIcon /></IconButton>\r\n                      </Grid>\r\n                      <Grid item>\r\n                        <Grid container justifyContent='space-evenly' wrap='nowrap'>\r\n                          <Grid item>\r\n                            <IconButton color='primary' size='small' onClick={this.subtractX}><ArrowBackIcon /></IconButton>\r\n                          </Grid>\r\n                          <Grid item align='center' style={{ minWidth: 10 }}>\r\n\r\n                          </Grid>\r\n                          <Grid item>\r\n                            <IconButton color='primary' size='small' onClick={this.addX}><ArrowForwardIcon /></IconButton>\r\n                          </Grid>\r\n                        </Grid>\r\n                      </Grid>\r\n\r\n                      <Grid item align='center'>\r\n                        <IconButton color='primary' size='small' onClick={this.subtractY}><ArrowDownwardIcon /></IconButton>\r\n                      </Grid>\r\n                    </Paper>\r\n                  </Grid>\r\n\r\n                  <Grid item>\r\n                    <Paper>\r\n                      <Grid item align='center'>\r\n                        <Typography variant='subtitle1'>Nodes</Typography>\r\n                      </Grid>\r\n                      <Grid container spacing={1} justifyContent='space-evenly'>\r\n                        <Grid item>\r\n                          <IconButton color='primary' size='small' onClick={this.subtractNode}><RemoveIcon /></IconButton>\r\n                        </Grid>\r\n                        <Grid item align='center'>\r\n                          <Typography variant='h6' >{this.state.maxNodes}</Typography>\r\n                        </Grid>\r\n                        <Grid item>\r\n                          <IconButton color='primary' size='small' onClick={this.addNode}><AddIcon /></IconButton>\r\n                        </Grid>\r\n                      </Grid>\r\n                    </Paper>\r\n                  </Grid>\r\n\r\n                  <Grid item>\r\n                    <Paper>\r\n                      <Grid item align='center'>\r\n                        <Typography variant='subtitle1' >Max Time</Typography>\r\n                      </Grid>\r\n                      <Grid container spacing={1} justifyContent='space-evenly'>\r\n                        <Grid item>\r\n                          <IconButton color='primary' size='small' onClick={this.subtractTime}><RemoveIcon /></IconButton>\r\n                        </Grid>\r\n                        <Grid item align='center'>\r\n                          <Typography variant='h6' >{this.state.maxTime}</Typography>\r\n                        </Grid>\r\n                        <Grid item>\r\n                          <IconButton color='primary' size='small' onClick={this.addTime}><AddIcon /></IconButton>\r\n                        </Grid>\r\n                      </Grid>\r\n                    </Paper>\r\n                  </Grid>\r\n\r\n                  {historySwitch}\r\n\r\n                </Grid>\r\n              </Hidden>\r\n              \r\n            </Grid>\r\n\r\n            <Grid item sm={10}>\r\n              <Hidden smDown>\r\n                <Typography align='center' variant='h5'>\r\n                  <u>{this.state.newProfile.name}</u>\r\n                </Typography>\r\n              </Hidden>\r\n              <div style={{ paddingTop: \"20px\", width: '93%', marginLeft: 'auto', minWidth: 350 }}>\r\n                <Profile\r\n                  draggable={true}\r\n                  profile={this.state.newProfile}\r\n                  dragStart={this.dragStart}\r\n                  drag={this.drag}\r\n                  dragEnd={this.dragEnd}\r\n                  maxTime={this.state.maxTime}\r\n                  activePoint={this.state.currentPoint}\r\n                  historicTemps={historicDatapoints}\r\n                />\r\n              </div>\r\n            </Grid>\r\n          </Grid>\r\n        </Container>\r\n        \r\n        <Container maxWidth={false}>\r\n          <Grid container spacing={3} alignItems=\"center\" justifyContent=\"space-between\" style={{ paddingTop: '15px' }}>\r\n            <Grid item xs={4}>\r\n              <Hidden mdUp>\r\n                <Paper style={{ padding: '6px 7px 6px 10px' }}>\r\n                  <Typography>\r\n                    Profile: {this.state.newProfile.name}\r\n                  </Typography>\r\n                </Paper>\r\n              </Hidden>\r\n            </Grid>\r\n            <Grid item>\r\n              <Grid container spacing={3}>\r\n                <Grid item>\r\n                  <Button onClick={this.goBack} startIcon={<CancelIcon />} variant=\"contained\" color=\"primary\">Cancel</Button>\r\n                </Grid>\r\n                <Grid item>\r\n                  <Button onClick={this.saveClicked} startIcon={<SaveIcon />} variant=\"contained\" color=\"primary\">Save</Button>\r\n                </Grid>\r\n              </Grid>\r\n            </Grid>\r\n          </Grid>\r\n        </Container>\r\n        \r\n        {/*<Keyboard theme={\"hg-theme-default\"} />*/}\r\n      </>\r\n    );\r\n  }\r\n}\r\n\r\nexport default withRouter(withTheme(EditProfile));","import React, { Component } from \"react\";\r\nimport Accordion from '@material-ui/core/Accordion';\r\nimport AccordionDetails from '@material-ui/core/AccordionDetails';\r\nimport AccordionSummary from '@material-ui/core/AccordionSummary';\r\nimport Typography from '@material-ui/core/Typography';\r\nimport ExpandMoreIcon from '@material-ui/icons/ExpandMore';\r\nimport Grid from '@material-ui/core/Grid';\r\nimport TextField from '@material-ui/core/TextField';\r\nimport Checkbox from '@material-ui/core/Checkbox';\r\nimport Button from '@material-ui/core/Button';\r\nimport axios from 'axios';\r\nimport Dialog from '@material-ui/core/Dialog';\r\nimport DialogActions from '@material-ui/core/DialogActions';\r\nimport DialogContent from '@material-ui/core/DialogContent';\r\nimport DialogTitle from '@material-ui/core/DialogTitle';\r\nimport './keyboard.css';\r\nimport Keyboard from \"react-simple-keyboard\";\r\nimport { withTheme } from '@material-ui/styles';\r\n\r\nclass NetworkSettings extends Component {\r\n    constructor(props) {\r\n        super(props);\r\n        this.state = {\r\n            port: 3001,\r\n            remoteConnections: true,\r\n            messageToSend: \"\",\r\n            inputChanged: false,\r\n            focused: false,\r\n            currentFocused: null,\r\n            focusInputChange: null,\r\n            isLocal: window.location.hostname === \"localhost\" || window.location.hostname === \"127.0.0.1\"\r\n        };\r\n        this.save = this.save.bind(this);\r\n        this.handleSwitch = this.handleSwitch.bind(this);\r\n        this.handlePortChange = this.handlePortChange.bind(this);\r\n        this.handleMessageChange = this.handleMessageChange.bind(this);\r\n        this.sendMessage = this.sendMessage.bind(this);\r\n        this.handleOnFocus = this.handleOnFocus.bind(this);\r\n        this.handleKeyboardInput = this.handleKeyboardInput.bind(this);\r\n        this.handleInputClose = this.handleInputClose.bind(this);\r\n        this.handleDialogInput = this.handleDialogInput.bind(this);\r\n    }\r\n\r\n    componentDidMount() {\r\n        fetch('/api/settings/network')\r\n            .then(response => response.json())\r\n            .then(result => {\r\n                this.setState({ port: result.port, remoteConnections: result.remote_connections });\r\n            });\r\n    }\r\n\r\n    save() {\r\n        var newSettings = {};\r\n        newSettings.port = this.state.port;\r\n        newSettings.remote_connections = this.state.remoteConnections;\r\n        axios.post('/api/settings/network', newSettings)\r\n            .then(res => {\r\n                if (res.data.status === 200) {\r\n                    this.setState({ inputChanged: false });\r\n                }\r\n            });\r\n    }\r\n\r\n    handleSwitch(e) {\r\n        this.setState({ remoteConnections: e.target.checked, inputChanged: true });\r\n    }\r\n\r\n    handlePortChange(e) {\r\n        this.setState({ port: e.target.value, inputChanged: true });\r\n    }\r\n\r\n    handleMessageChange(e) {\r\n        this.setState({ messageToSend: e.target.value });\r\n    }\r\n\r\n    sendMessage() {\r\n        axios.post('/api/send_message', { message: this.state.messageToSend })\r\n            .then(res => {});\r\n    }\r\n\r\n    handleOnFocus(e, changeFunction, name) {\r\n        if (this.state.isLocal) {\r\n            this.setState({ focusInputChange: changeFunction, currentFocused: name, focused: true });\r\n        }\r\n    }\r\n\r\n    handleInputClose() {\r\n        //get rid of trailing '.' if needed\r\n        var tempString = this.state[this.state.currentFocused].toString();\r\n        if (tempString === '') {\r\n            tempString = '3001'\r\n        } else if (tempString.charAt(tempString.length - 1) === '.') {\r\n\r\n            tempString = tempString.substring(0, tempString.length - 1);\r\n        }\r\n\r\n        //this is super bad code but idk how else to do this\r\n        //i am making a 'fake' event and setting the value so that the method can access it\r\n        var e = {};\r\n        e.target = {};\r\n        e.target.value = tempString;\r\n\r\n        this.state.focusInputChange(e);\r\n        this.setState({ focused: false, inputValue: '' });\r\n    }\r\n\r\n    handleKeyboardInput(button) {\r\n        var tempInput = this.state[this.state.currentFocused].toString();\r\n        if (button === '{bksp}') {\r\n            tempInput = tempInput.substring(0, tempInput.length - 1);\r\n        } else {\r\n            tempInput += button;\r\n        }\r\n\r\n        //again, really bad code. Maybe you can fix it somehow\r\n        var e = {};\r\n        e.target = {};\r\n        e.target.value = tempInput;\r\n        this.state.focusInputChange(e);\r\n    }\r\n\r\n    handleDialogInput(e) {\r\n        this.state.focusInputChange(e);\r\n    }\r\n\r\n    render() {\r\n        var inputDialog = <></>;\r\n        if (this.state.focused) {\r\n            inputDialog = <Dialog open={this.state.focused} onClose={this.handleInputClose} fullWidth>\r\n                <DialogTitle>\r\n                    <Typography>\r\n                        Enter value\r\n                    </Typography>\r\n                </DialogTitle>\r\n                <DialogContent>\r\n                    <Grid container spacing={1} justifyContent='space-between'>\r\n                        <Grid item>\r\n                            <TextField\r\n                                variant=\"outlined\"\r\n                                value={this.state[this.state.currentFocused]}\r\n                                onChange={this.handleDialogInput}\r\n                            />\r\n                        </Grid>\r\n                        <Grid item xs={6}>\r\n                            <Keyboard\r\n                                onKeyPress={this.handleKeyboardInput}\r\n                                layout={{\r\n                                    default: [\r\n                                        \"7 8 9\",\r\n                                        \"4 5 6\",\r\n                                        \"1 2 3\",\r\n                                        \"0 {bksp}\"\r\n                                    ]\r\n                                }}\r\n                                display={{\r\n                                    '{bksp}': \"<\"\r\n                                }}\r\n                                theme={this.props.theme.palette.type === 'dark' ? 'hg-theme-dark' : 'hg-theme-default'}\r\n                            />\r\n                        </Grid>\r\n                    </Grid>\r\n                </DialogContent>\r\n                <DialogActions>\r\n                    <Button color='primary' variant='contained' onClick={this.handleInputClose}>OK</Button>\r\n                </DialogActions>\r\n            </Dialog>;\r\n        }\r\n        return (\r\n            <>\r\n                {inputDialog}\r\n                <Accordion >\r\n                    <AccordionSummary\r\n                        expandIcon={<ExpandMoreIcon />}\r\n                        aria-controls=\"panel1bh-content\"\r\n                        id=\"panel1bh-header\"\r\n                    >\r\n                        <Typography variant='h6'>Network</Typography>\r\n                    </AccordionSummary>\r\n                    <AccordionDetails>\r\n                        <Grid container direction='column' alignItems=\"flex-start\" spacing={3}>\r\n                            <Grid item>\r\n                                <Typography align='left'>\r\n                                    Server Port\r\n                                </Typography>\r\n                                <TextField\r\n                                    variant=\"outlined\"\r\n                                    type='number'\r\n                                    onChange={this.handlePortChange}\r\n                                    onClick={(e) => this.handleOnFocus(e, this.handlePortChange, 'port')}\r\n                                    value={this.state.port} />\r\n                            </Grid>\r\n                            <Grid item>\r\n                                <Typography align='left'>\r\n                                    Allow Remote Connections\r\n                                </Typography>\r\n                                <Checkbox checked={this.state.remoteConnections} onChange={this.handleSwitch} color='primary' />\r\n                            </Grid>\r\n\r\n                            <Grid item>\r\n                                <Typography align='left'>\r\n                                    Send message to all connections\r\n                                </Typography>\r\n                                <TextField variant=\"outlined\" onChange={this.handleMessageChange} value={this.state.messageToSend} />\r\n                                <Button variant='contained' color='primary' onClick={this.sendMessage}>\r\n                                    Send\r\n                                </Button>\r\n                            </Grid>\r\n\r\n                            <Grid container justifyContent='flex-end' spacing={3}>\r\n                                <Grid item>\r\n                                    <Typography variant='caption'>\r\n                                        Changes will be applied after a manual restart of the server.\r\n                                    </Typography>\r\n                                </Grid>\r\n                                <Grid item>\r\n                                    <Button variant='contained' color='primary' disabled={!this.state.inputChanged} onClick={this.save}>\r\n                                        Save\r\n                                    </Button>\r\n                                </Grid>\r\n                            </Grid>\r\n                        </Grid>\r\n                    </AccordionDetails>\r\n                </Accordion>\r\n            </>\r\n        );\r\n    }\r\n}\r\n\r\nexport default withTheme(NetworkSettings);","import React, { Component } from \"react\";\r\nimport Accordion from '@material-ui/core/Accordion';\r\nimport AccordionDetails from '@material-ui/core/AccordionDetails';\r\nimport AccordionSummary from '@material-ui/core/AccordionSummary';\r\nimport Typography from '@material-ui/core/Typography';\r\nimport { Button, TextField, Grid } from \"@material-ui/core\";\r\nimport ExpandMoreIcon from '@material-ui/icons/ExpandMore';\r\nimport Checkbox from '@material-ui/core/Checkbox';\r\nimport InputAdornment from '@material-ui/core/InputAdornment';\r\nimport axios from 'axios';\r\nimport Dialog from '@material-ui/core/Dialog';\r\nimport DialogActions from '@material-ui/core/DialogActions';\r\nimport DialogContent from '@material-ui/core/DialogContent';\r\nimport DialogTitle from '@material-ui/core/DialogTitle';\r\nimport './keyboard.css';\r\nimport Keyboard from \"react-simple-keyboard\";\r\nimport { withTheme } from '@material-ui/styles';\r\n\r\nclass PidSettings extends Component {\r\n    constructor(props) {\r\n        super(props);\r\n        this.state = {\r\n            p: 0,\r\n            i: 0,\r\n            d: 0,\r\n            lookAhead: 0,\r\n            preheat: false,\r\n            preheatPower: 0,\r\n            alwaysHitPeak: false,\r\n            inputChanged: false,\r\n            focused: false,\r\n            currentFocused: null,\r\n            focusInputChange: null,\r\n            isLocal: window.location.hostname === \"localhost\" || window.location.hostname === \"127.0.0.1\"\r\n        };\r\n        this.save = this.save.bind(this);\r\n        this.handlePChange = this.handlePChange.bind(this);\r\n        this.handleIChange = this.handleIChange.bind(this);\r\n        this.handleDChange = this.handleDChange.bind(this);\r\n        this.handlePreheatChange = this.handlePreheatChange.bind(this);\r\n        this.handleLookAheadChange = this.handleLookAheadChange.bind(this);\r\n        this.handlePreheatPowerChange = this.handlePreheatPowerChange.bind(this);\r\n        this.handleAlwaysHitPeakChange = this.handleAlwaysHitPeakChange.bind(this);\r\n        this.handleOnFocus = this.handleOnFocus.bind(this);\r\n        this.handleKeyboardInput = this.handleKeyboardInput.bind(this);\r\n        this.handleInputClose = this.handleInputClose.bind(this);\r\n        this.handleDialogInput = this.handleDialogInput.bind(this);\r\n    }\r\n\r\n    componentDidMount() {\r\n        fetch('/api/settings/pid')\r\n            .then(response => response.json())\r\n            .then(result => {\r\n                this.setState({\r\n                    p: result.p,\r\n                    i: result.i,\r\n                    d: result.d,\r\n                    lookAhead: result.look_ahead,\r\n                    preheat: result.preheat,\r\n                    preheatPower: result.preheat_power,\r\n                    alwaysHitPeak: result.always_hit_peak\r\n                });\r\n            });\r\n    }\r\n\r\n    save() {\r\n        var newSettings = {};\r\n        newSettings.p = this.state.p;\r\n        newSettings.i = this.state.i;\r\n        newSettings.d = this.state.d;\r\n        newSettings.look_ahead = this.state.lookAhead;\r\n        newSettings.preheat = this.state.preheat;\r\n        newSettings.preheat_power = this.state.preheatPower;\r\n        newSettings.always_hit_peak = this.state.alwaysHitPeak;\r\n        axios.post('/api/settings/pid', newSettings)\r\n            .then(res => {\r\n                if (res.data.status === 200) {\r\n                    this.setState({ inputChanged: false });\r\n                }\r\n            });\r\n    }\r\n\r\n    handlePChange(e) {\r\n        this.setState({ p: e.target.value, inputChanged: true });\r\n    }\r\n\r\n    handleIChange(e) {\r\n        this.setState({ i: e.target.value, inputChanged: true });\r\n    }\r\n\r\n    handleDChange(e) {\r\n        this.setState({ d: e.target.value, inputChanged: true });\r\n    }\r\n\r\n    handleLookAheadChange(e) {\r\n        if (e.target.value >= 0) {\r\n            this.setState({ lookAhead: parseInt(e.target.value), inputChanged: true });\r\n        }\r\n    }\r\n\r\n    handlePreheatChange(e) {\r\n        this.setState({ preheat: e.target.checked, inputChanged: true });\r\n    }\r\n\r\n    handlePreheatPowerChange(e) {\r\n        if (e.target.value >= 0 && e.target.value <= 100) {\r\n            this.setState({ preheatPower: e.target.value, inputChanged: true });\r\n        }\r\n    }\r\n\r\n    handleAlwaysHitPeakChange(e) {\r\n        this.setState({ alwaysHitPeak: e.target.checked, inputChanged: true });\r\n    }\r\n\r\n    handleOnFocus(e, changeFunction, name) {\r\n        if (this.state.isLocal) {\r\n            this.setState({ focusInputChange: changeFunction, currentFocused: name, focused: true });\r\n        }\r\n    }\r\n\r\n    handleInputClose() {\r\n        //get rid of trailing '.' if needed\r\n        var tempString = this.state[this.state.currentFocused].toString();\r\n        if (tempString === '') {\r\n            tempString = '0'\r\n        } else if (tempString.charAt(tempString.length - 1) === '.') {\r\n\r\n            tempString = tempString.substring(0, tempString.length - 1);\r\n        }\r\n\r\n        //this is super bad code but idk how else to do this\r\n        //i am making a 'fake' event and setting the value so that the method can access it\r\n        var e = {};\r\n        e.target = {};\r\n        e.target.value = tempString;\r\n\r\n        this.state.focusInputChange(e);\r\n        this.setState({ focused: false, inputValue: '' });\r\n    }\r\n\r\n    handleKeyboardInput(button) {\r\n        var tempInput = this.state[this.state.currentFocused].toString();\r\n        if (button === '{bksp}') {\r\n            tempInput = tempInput.substring(0, tempInput.length - 1);\r\n        } else {\r\n            tempInput += button;\r\n        }\r\n\r\n        //again, really bad code. Maybe you can fix it somehow\r\n        var e = {};\r\n        e.target = {};\r\n        e.target.value = tempInput;\r\n        this.state.focusInputChange(e);\r\n    }\r\n\r\n    handleDialogInput(e) {\r\n        this.state.focusInputChange(e);\r\n    }\r\n\r\n    render() {\r\n        var inputDialog = <></>;\r\n        if (this.state.focused) {\r\n            inputDialog = <Dialog open={this.state.focused} onClose={this.handleInputClose} fullWidth>\r\n                <DialogTitle>\r\n                    <Typography>\r\n                        Enter value\r\n                    </Typography>\r\n                </DialogTitle>\r\n                <DialogContent>\r\n                    <Grid container spacing={1} justifyContent='space-between'>\r\n                        <Grid item>\r\n                            <TextField\r\n                                variant=\"outlined\"\r\n                                value={this.state[this.state.currentFocused]}\r\n                                onChange={this.handleDialogInput}\r\n                            />\r\n                        </Grid>\r\n                        <Grid item xs={6}>\r\n                            <Keyboard\r\n                                onKeyPress={this.handleKeyboardInput}\r\n                                layout={{\r\n                                    default: [\r\n                                        \"7 8 9\",\r\n                                        \"4 5 6\",\r\n                                        \"1 2 3\",\r\n                                        \"0 . {bksp}\"\r\n                                    ]\r\n                                }}\r\n                                display={{\r\n                                    '{bksp}': \"<\"\r\n                                }}\r\n                                theme={this.props.theme.palette.type === 'dark' ? 'hg-theme-dark' : 'hg-theme-default'}\r\n                            />\r\n                        </Grid>\r\n                    </Grid>\r\n                </DialogContent>\r\n                <DialogActions>\r\n                    <Button color='primary' variant='contained' onClick={this.handleInputClose}>OK</Button>\r\n                </DialogActions>\r\n            </Dialog>;\r\n        }\r\n\r\n        return (\r\n            <>\r\n                {inputDialog}\r\n                <Accordion >\r\n                    <AccordionSummary\r\n                        expandIcon={<ExpandMoreIcon />}\r\n                        aria-controls=\"panel2bh-content\"\r\n                        id=\"panel2bh-header\"\r\n                    >\r\n                        <Typography variant='h6'>PID</Typography>\r\n                    </AccordionSummary>\r\n                    <AccordionDetails>\r\n                        <Grid container spacing={3} direction='column' alignItems=\"flex-start\" >\r\n\r\n                            <Grid item>\r\n                                <Grid container spacing={2}>\r\n                                    <Grid item>\r\n                                        <TextField id='p' variant=\"outlined\" type='number' label='Proportional' value={this.state.p} onChange={this.handlePChange} onClick={(e) => this.handleOnFocus(e, this.handlePChange, 'p')} style={{ width: 150 }} />\r\n                                    </Grid>\r\n                                    <Grid item>\r\n                                        <TextField variant=\"outlined\" type='number' label='Integral' value={this.state.i} onChange={this.handleIChange} onClick={(e) => this.handleOnFocus(e, this.handleIChange, 'i')} style={{ width: 150 }} />\r\n                                    </Grid>\r\n                                    <Grid item>\r\n                                        <TextField variant=\"outlined\" type='number' label='Derivative' value={this.state.d} onChange={this.handleDChange} onClick={(e) => this.handleOnFocus(e, this.handleDChange, 'd')} style={{ width: 150 }} />\r\n                                    </Grid>\r\n                                </Grid>\r\n                            </Grid>\r\n                            <Grid item>\r\n                                <Typography align='left'>\r\n                                    Look Ahead\r\n                                </Typography>\r\n                                <TextField\r\n                                    variant=\"outlined\"\r\n                                    type='number'\r\n                                    value={this.state.lookAhead}\r\n                                    onChange={this.handleLookAheadChange}\r\n                                    onClick={(e) => this.handleOnFocus(e, this.handleLookAheadChange, 'lookAhead')}\r\n                                    style={{ width: 150 }}\r\n                                    InputProps={{\r\n                                        endAdornment: <InputAdornment position=\"end\">Seconds</InputAdornment>,\r\n                                    }}\r\n                                />\r\n                            </Grid>\r\n                            <Grid item>\r\n                                <Grid container spacing={3}>\r\n                                    <Grid item>\r\n                                        <Typography align='left'>\r\n                                            Enable Preheat\r\n                                        </Typography>\r\n                                        <Checkbox checked={this.state.preheat} onChange={this.handlePreheatChange} color='primary' />\r\n                                    </Grid>\r\n                                    <Grid item>\r\n                                        <TextField\r\n                                            variant=\"outlined\"\r\n                                            type='number'\r\n                                            label='Preheat Power'\r\n                                            value={this.state.preheatPower}\r\n                                            onChange={this.handlePreheatPowerChange}\r\n                                            onClick={(e) => this.handleOnFocus(e, this.handlePreheatPowerChange, 'preheatPower')}\r\n                                            style={{ width: 150 }}\r\n                                            InputProps={{\r\n                                                endAdornment: <InputAdornment position=\"end\">%</InputAdornment>,\r\n                                            }}\r\n                                        />\r\n                                    </Grid>\r\n                                </Grid>\r\n                            </Grid>\r\n                            <Grid item>\r\n                                <Typography align='left'>\r\n                                    Always Hit Peak\r\n                                </Typography>\r\n                                <Checkbox checked={this.state.alwaysHitPeak} onChange={this.handleAlwaysHitPeakChange} color='primary' />\r\n                            </Grid>\r\n\r\n                            <Grid container justifyContent='flex-end' spacing={3}>\r\n                                <Grid item>\r\n                                    <Button variant='contained' color='primary' disabled={!this.state.inputChanged} onClick={this.save}>\r\n                                        Save\r\n                                    </Button>\r\n                                </Grid>\r\n                            </Grid>\r\n                        </Grid>\r\n                    </AccordionDetails>\r\n                </Accordion>\r\n            </>\r\n        );\r\n    }\r\n}\r\n\r\nexport default withTheme(PidSettings);","import React, { Component } from \"react\";\r\nimport Accordion from '@material-ui/core/Accordion';\r\nimport AccordionDetails from '@material-ui/core/AccordionDetails';\r\nimport AccordionSummary from '@material-ui/core/AccordionSummary';\r\nimport Typography from '@material-ui/core/Typography';\r\nimport { InputLabel, Grid, FormControlLabel } from \"@material-ui/core\";\r\nimport ExpandMoreIcon from '@material-ui/icons/ExpandMore';\r\nimport MenuItem from '@material-ui/core/MenuItem';\r\nimport FormControl from '@material-ui/core/FormControl';\r\nimport Select from '@material-ui/core/Select';\r\nimport Snackbar from '@material-ui/core/Snackbar';\r\nimport Button from '@material-ui/core/Button';\r\nimport TextField from '@material-ui/core/TextField';\r\nimport IconButton from '@material-ui/core/IconButton';\r\nimport RefreshIcon from '@material-ui/icons/Refresh';\r\nimport MuiAlert from '@material-ui/lab/Alert';\r\nimport InputAdornment from '@material-ui/core/InputAdornment';\r\nimport Radio from '@material-ui/core/Radio';\r\nimport RadioGroup from '@material-ui/core/RadioGroup';\r\nimport axios from 'axios';\r\nimport Dialog from '@material-ui/core/Dialog';\r\nimport DialogActions from '@material-ui/core/DialogActions';\r\nimport DialogContent from '@material-ui/core/DialogContent';\r\nimport DialogTitle from '@material-ui/core/DialogTitle';\r\nimport './keyboard.css';\r\nimport Keyboard from \"react-simple-keyboard\";\r\nimport { withTheme } from '@material-ui/styles';\r\n\r\nclass HardwareSettings extends Component {\r\n    constructor(props) {\r\n        super(props);\r\n        this.state = {\r\n            relayPin: 5,\r\n            fanPin: 6,\r\n            coolingFanPin: 16,\r\n            thermocoupleOffset: 0,\r\n            percentOffset: 0,\r\n            inputChanged: false,\r\n            relayError: false,\r\n            fanError: false,\r\n            coolingFanError: false,\r\n            fanTurnoffTemp: 0,\r\n            thermo1: \"n/a\",\r\n            thermo2: \"n/a\",\r\n            calculated: \"n/a\",\r\n            refreshDisabled: false,\r\n            thermocoupleAverageMode: 'false',\r\n            focused: false,\r\n            currentFocused: null,\r\n            focusInputChange: null,\r\n            isLocal: window.location.hostname === \"localhost\" || window.location.hostname === \"127.0.0.1\"\r\n        };\r\n        this.handleRelayChange = this.handleRelayChange.bind(this);\r\n        this.handleFanChange = this.handleFanChange.bind(this);\r\n        this.handleCoolingFanChange = this.handleCoolingFanChange.bind(this);\r\n        this.handleFanTurnoffChange = this.handleFanTurnoffChange.bind(this);\r\n        this.handleThermocoupleOffset = this.handleThermocoupleOffset.bind(this);\r\n        this.handleThermocoupleRefresh = this.handleThermocoupleRefresh.bind(this);\r\n        this.handlePercentOffset = this.handlePercentOffset.bind(this);\r\n        this.handleThermocoupleMode = this.handleThermocoupleMode.bind(this);\r\n        this.errorClose = this.errorClose.bind(this);\r\n        this.save = this.save.bind(this);\r\n        this.handleOnFocus = this.handleOnFocus.bind(this);\r\n        this.handleKeyboardInput = this.handleKeyboardInput.bind(this);\r\n        this.handleInputClose = this.handleInputClose.bind(this);\r\n        this.handleDialogInput = this.handleDialogInput.bind(this);\r\n    }\r\n\r\n    componentDidMount() {\r\n        fetch('/api/settings/hardware')\r\n            .then(response => response.json())\r\n            .then(result => {\r\n                this.setState({\r\n                    relayPin: result.relay_pin,\r\n                    fanPin: result.fan_pin,\r\n                    coolingFanPin: result.cooling_fan_pin,\r\n                    fanTurnoffTemp: result.fan_turnoff_temp,\r\n                    thermocoupleOffset: result.thermocouple_offset,\r\n                    percentOffset: result.percent_offset\r\n                });\r\n                if (result.thermocouple_average_mode === true) {\r\n                    this.setState({ thermocoupleAverageMode: 'true' });\r\n                } else {\r\n                    this.setState({ thermocoupleAverageMode: 'false' });\r\n                }\r\n            });\r\n    }\r\n\r\n    handleRelayChange(e) {\r\n        this.setState({ relayPin: e.target.value, inputChanged: true });\r\n    }\r\n\r\n    handleFanChange(e) {\r\n        this.setState({ fanPin: e.target.value, inputChanged: true });\r\n    }\r\n\r\n    handleCoolingFanChange(e) {\r\n        this.setState({ coolingFanPin: e.target.value, inputChanged: true });\r\n    }\r\n\r\n    handleFanTurnoffChange(e) {\r\n        if (e.target.value >= 0) {\r\n            this.setState({ fanTurnoffTemp: e.target.value, inputChanged: true });\r\n        }\r\n    }\r\n\r\n    handleThermocoupleOffset(e) {\r\n        this.setState({ thermocoupleOffset: e.target.value, inputChanged: true });\r\n    }\r\n\r\n    handlePercentOffset(e) {\r\n        this.setState({ percentOffset: e.target.value, inputChanged: true });\r\n    }\r\n\r\n    handleThermocoupleMode(e) {\r\n        this.setState({ thermocoupleAverageMode: e.target.value, inputChanged: true });\r\n    }\r\n\r\n    handleThermocoupleRefresh() {\r\n        this.setState({ refreshDisabled: true });\r\n        fetch('/api/all_temperatures')\r\n            .then(response => response.json())\r\n            .then(result => {\r\n                this.setState({\r\n                    thermo1: result.sensor_1,\r\n                    thermo2: result.sensor_2,\r\n                    calculated: result.current,\r\n                    refreshDisabled: false\r\n                });\r\n            });\r\n    }\r\n\r\n    errorClose() {\r\n        this.setState({ relayError: false, fanError: false, coolingFanError: false });\r\n    }\r\n\r\n    save() {\r\n        var newSettings = {};\r\n        newSettings.relay_pin = this.state.relayPin;\r\n        newSettings.fan_pin = this.state.fanPin;\r\n        newSettings.cooling_fan_pin = this.state.coolingFanPin;\r\n        newSettings.fan_turnoff_temp = this.state.fanTurnoffTemp;\r\n        newSettings.thermocouple_offset = this.state.thermocoupleOffset;\r\n        newSettings.percent_offset = this.state.percentOffset;\r\n        newSettings.thermocouple_average_mode = this.state.thermocoupleAverageMode === 'true';\r\n        axios.post('/api/settings/hardware', newSettings)\r\n            .then(res => {\r\n                if (res.data.status === 200) {\r\n                    this.setState({ inputChanged: false });\r\n                }\r\n            });\r\n    }\r\n\r\n    handleOnFocus(e, changeFunction, name) {\r\n        if (this.state.isLocal) {\r\n            this.setState({ focusInputChange: changeFunction, currentFocused: name, focused: true });\r\n        }\r\n    }\r\n\r\n    handleInputClose() {\r\n        //get rid of trailing '.' if needed\r\n        var tempString = this.state[this.state.currentFocused].toString();\r\n        if (tempString === '') {\r\n            tempString = '0'\r\n        } else if (tempString.charAt(tempString.length - 1) === '.') {\r\n\r\n            tempString = tempString.substring(0, tempString.length - 1);\r\n        }\r\n\r\n        //this is super bad code but idk how else to do this\r\n        //i am making a 'fake' event and setting the value so that the method can access it\r\n        var e = {};\r\n        e.target = {};\r\n        e.target.value = tempString;\r\n\r\n        this.state.focusInputChange(e);\r\n        this.setState({ focused: false, inputValue: '' });\r\n    }\r\n\r\n    handleKeyboardInput(button) {\r\n        var tempInput = this.state[this.state.currentFocused].toString();\r\n        if (button === '{bksp}') {\r\n            tempInput = tempInput.substring(0, tempInput.length - 1);\r\n        } else {\r\n            tempInput += button;\r\n        }\r\n\r\n        //again, really bad code. Maybe you can fix it somehow\r\n        var e = {};\r\n        e.target = {};\r\n        e.target.value = tempInput;\r\n        this.state.focusInputChange(e);\r\n    }\r\n\r\n    handleDialogInput(e) {\r\n        this.state.focusInputChange(e);\r\n    }\r\n\r\n    render() {\r\n        var inputDialog = <></>;\r\n        if (this.state.focused) {\r\n            inputDialog = <Dialog open={this.state.focused} onClose={this.handleInputClose} fullWidth>\r\n                <DialogTitle>\r\n                    <Typography>\r\n                        Enter value\r\n                    </Typography>\r\n                </DialogTitle>\r\n                <DialogContent>\r\n                    <Grid container spacing={1} justifyContent='space-between'>\r\n                        <Grid item>\r\n                            <TextField\r\n                                variant=\"outlined\"\r\n                                value={this.state[this.state.currentFocused]}\r\n                                onChange={this.handleDialogInput}\r\n                            />\r\n                        </Grid>\r\n                        <Grid item xs={6}>\r\n                            <Keyboard\r\n                                onKeyPress={this.handleKeyboardInput}\r\n                                layout={{\r\n                                    default: [\r\n                                        \"7 8 9\",\r\n                                        \"4 5 6\",\r\n                                        \"1 2 3\",\r\n                                        \"0 . {bksp}\"\r\n                                    ]\r\n                                }}\r\n                                display={{\r\n                                    '{bksp}': \"<\"\r\n                                }}\r\n                                theme={this.props.theme.palette.type === 'dark' ? 'hg-theme-dark' : 'hg-theme-default'}\r\n                            />\r\n                        </Grid>\r\n                    </Grid>\r\n                </DialogContent>\r\n                <DialogActions>\r\n                    <Button color='primary' variant='contained' onClick={this.handleInputClose}>OK</Button>\r\n                </DialogActions>\r\n            </Dialog>;\r\n        }\r\n        return (\r\n            <>\r\n                {inputDialog}\r\n                <Accordion >\r\n                    <AccordionSummary\r\n                        expandIcon={<ExpandMoreIcon />}\r\n                        aria-controls=\"panel3bh-content\"\r\n                        id=\"panel3bh-header\"\r\n                    >\r\n                        <Typography variant='h6' >Hardware</Typography>\r\n                    </AccordionSummary>\r\n                    <AccordionDetails>\r\n\r\n                        <Grid container spacing={3} direction='column'>\r\n                            <Grid item>\r\n                                <Grid container spacing={3}>\r\n                                    <Grid item>\r\n                                        <FormControl error={this.state.relayError}>\r\n                                            <InputLabel>Relay GPIO</InputLabel>\r\n                                            <Select value={this.state.relayPin} onChange={this.handleRelayChange}>\r\n                                                <MenuItem value={4} disabled={this.state.fanPin === 4 || this.state.coolingFanPin === 4}>4 (pin 7)</MenuItem>\r\n                                                <MenuItem value={5} disabled={this.state.fanPin === 5 || this.state.coolingFanPin === 5}>5 (pin 29)</MenuItem>\r\n                                                <MenuItem value={6} disabled={this.state.fanPin === 6 || this.state.coolingFanPin === 6}>6 (pin 31)</MenuItem>\r\n                                                <MenuItem value={16} disabled={this.state.fanPin === 16 || this.state.coolingFanPin === 16}>16 (pin 36)</MenuItem>\r\n                                                <MenuItem value={17} disabled={this.state.fanPin === 17 || this.state.coolingFanPin === 17}>17 (pin 11)</MenuItem>\r\n                                                <MenuItem value={22} disabled={this.state.fanPin === 22 || this.state.coolingFanPin === 22}>22 (pin 15)</MenuItem>\r\n                                                <MenuItem value={23} disabled={this.state.fanPin === 23 || this.state.coolingFanPin === 23}>23 (pin 16)</MenuItem>\r\n                                                <MenuItem value={24} disabled={this.state.fanPin === 24 || this.state.coolingFanPin === 24}>24 (pin 18)</MenuItem>\r\n                                                <MenuItem value={25} disabled={this.state.fanPin === 25 || this.state.coolingFanPin === 25}>25 (pin 22)</MenuItem>\r\n                                                <MenuItem value={26} disabled={this.state.fanPin === 26 || this.state.coolingFanPin === 26}>26 (pin 37)</MenuItem>\r\n                                                <MenuItem value={27} disabled={this.state.fanPin === 27 || this.state.coolingFanPin === 27}>27 (pin 13)</MenuItem>\r\n                                            </Select>\r\n                                        </FormControl>\r\n                                    </Grid>\r\n\r\n                                    <Grid item>\r\n                                        <FormControl error={this.state.coolingFanError}>\r\n                                            <InputLabel>Cooling Fan GPIO</InputLabel>\r\n                                            <Select value={this.state.coolingFanPin} onChange={this.handleCoolingFanChange}>\r\n                                                <MenuItem value={4} disabled={this.state.relayPin === 4 || this.state.fanPin === 4}>4 (pin 7)</MenuItem>\r\n                                                <MenuItem value={5} disabled={this.state.relayPin === 5 || this.state.fanPin === 5}>5 (pin 29)</MenuItem>\r\n                                                <MenuItem value={6} disabled={this.state.relayPin === 6 || this.state.fanPin === 6}>6 (pin 31)</MenuItem>\r\n                                                <MenuItem value={16} disabled={this.state.relayPin === 16 || this.state.fanPin === 16}>16 (pin 36)</MenuItem>\r\n                                                <MenuItem value={17} disabled={this.state.relayPin === 17 || this.state.fanPin === 17}>17 (pin 11)</MenuItem>\r\n                                                <MenuItem value={22} disabled={this.state.relayPin === 22 || this.state.fanPin === 22}>22 (pin 15)</MenuItem>\r\n                                                <MenuItem value={23} disabled={this.state.relayPin === 23 || this.state.fanPin === 23}>23 (pin 16)</MenuItem>\r\n                                                <MenuItem value={24} disabled={this.state.relayPin === 24 || this.state.fanPin === 24}>24 (pin 18)</MenuItem>\r\n                                                <MenuItem value={25} disabled={this.state.relayPin === 25 || this.state.fanPin === 25}>25 (pin 22)</MenuItem>\r\n                                                <MenuItem value={26} disabled={this.state.relayPin === 26 || this.state.fanPin === 26}>26 (pin 37)</MenuItem>\r\n                                                <MenuItem value={27} disabled={this.state.relayPin === 27 || this.state.fanPin === 27}>27 (pin 13)</MenuItem>\r\n                                            </Select>\r\n                                        </FormControl>\r\n                                    </Grid>\r\n\r\n                                    <Grid item>\r\n                                        <FormControl error={this.state.fanError}>\r\n                                            <InputLabel>Convection Fan GPIO</InputLabel>\r\n                                            <Select value={this.state.fanPin} onChange={this.handleFanChange}>\r\n                                                <MenuItem value={4} disabled={this.state.relayPin === 4 || this.state.coolingFanPin === 4}>4 (pin 7)</MenuItem>\r\n                                                <MenuItem value={5} disabled={this.state.relayPin === 5 || this.state.coolingFanPin === 5}>5 (pin 29)</MenuItem>\r\n                                                <MenuItem value={6} disabled={this.state.relayPin === 6 || this.state.coolingFanPin === 6}>6 (pin 31)</MenuItem>\r\n                                                <MenuItem value={16} disabled={this.state.relayPin === 16 || this.state.coolingFanPin === 16}>16 (pin 36)</MenuItem>\r\n                                                <MenuItem value={17} disabled={this.state.relayPin === 17 || this.state.coolingFanPin === 17}>17 (pin 11)</MenuItem>\r\n                                                <MenuItem value={22} disabled={this.state.relayPin === 22 || this.state.coolingFanPin === 22}>22 (pin 15)</MenuItem>\r\n                                                <MenuItem value={23} disabled={this.state.relayPin === 23 || this.state.coolingFanPin === 23}>23 (pin 16)</MenuItem>\r\n                                                <MenuItem value={24} disabled={this.state.relayPin === 24 || this.state.coolingFanPin === 24}>24 (pin 18)</MenuItem>\r\n                                                <MenuItem value={25} disabled={this.state.relayPin === 25 || this.state.coolingFanPin === 25}>25 (pin 22)</MenuItem>\r\n                                                <MenuItem value={26} disabled={this.state.relayPin === 26 || this.state.coolingFanPin === 26}>26 (pin 37)</MenuItem>\r\n                                                <MenuItem value={27} disabled={this.state.relayPin === 27 || this.state.coolingFanPin === 27}>27 (pin 13)</MenuItem>\r\n                                            </Select>\r\n                                        </FormControl>\r\n                                    </Grid>\r\n\r\n                                    <Grid item>\r\n                                        <TextField\r\n                                            variant=\"outlined\"\r\n                                            type='number'\r\n                                            label='Fan off threshold'\r\n                                            value={this.state.fanTurnoffTemp}\r\n                                            onChange={this.handleFanTurnoffChange}\r\n                                            onClick={(e) => this.handleOnFocus(e, this.handleFanTurnoffChange, 'fanTurnoffTemp')}\r\n                                            style={{ width: 150 }}\r\n                                            InputProps={{\r\n                                                endAdornment: <InputAdornment position=\"end\">°C</InputAdornment>,\r\n                                            }} />\r\n                                    </Grid>\r\n                                </Grid>\r\n                            </Grid>\r\n\r\n                            <Grid item>\r\n                                <Typography style={{ paddingBottom: 10 }}>\r\n                                    Temperature Adjustment\r\n                                </Typography>\r\n                                <Grid container spacing={3}>\r\n                                    <Grid item>\r\n                                        <TextField\r\n                                            variant=\"outlined\"\r\n                                            type='number'\r\n                                            label='Constant offset'\r\n                                            value={this.state.thermocoupleOffset}\r\n                                            onChange={this.handleThermocoupleOffset}\r\n                                            onClick={(e) => this.handleOnFocus(e, this.handleThermocoupleOffset, 'thermocoupleOffset')}\r\n                                            style={{ width: 150 }}\r\n                                            InputProps={{\r\n                                                endAdornment: <InputAdornment position=\"end\">°C</InputAdornment>,\r\n                                            }}\r\n                                        />\r\n                                    </Grid>\r\n                                    <Grid item>\r\n                                        <TextField\r\n                                            variant=\"outlined\"\r\n                                            type='number'\r\n                                            label='Percent offset'\r\n                                            value={this.state.percentOffset}\r\n                                            onChange={this.handlePercentOffset}\r\n                                            onClick={(e) => this.handleOnFocus(e, this.handlePercentOffset, 'percentOffset')}\r\n                                            style={{ width: 150 }}\r\n                                            InputProps={{\r\n                                                endAdornment: <InputAdornment position=\"end\">%</InputAdornment>,\r\n                                            }}\r\n                                        />\r\n                                    </Grid>\r\n                                </Grid>\r\n                            </Grid>\r\n\r\n                            <Grid item>\r\n                                <Typography style={{ paddingBottom: 10 }}>\r\n                                    Dual Thermocouple\r\n                                </Typography>\r\n                                <RadioGroup value={this.state.thermocoupleAverageMode} onChange={this.handleThermocoupleMode} >\r\n                                    <FormControlLabel value='false' control={<Radio color=\"primary\" />} label='Use Highest Temperature' />\r\n                                    <FormControlLabel value='true' control={<Radio color=\"primary\" />} label='Use Average' />\r\n                                </RadioGroup>\r\n                            </Grid>\r\n\r\n                            <Grid item>\r\n                                <Typography>\r\n                                    Diagnostics\r\n                                    <IconButton disabled={this.state.refreshDisabled} onClick={this.handleThermocoupleRefresh}><RefreshIcon /></IconButton>\r\n                                </Typography>\r\n                                <Typography style={{ display: 'block' }} variant='caption'>\r\n                                    Thermocouple 1: {this.state.thermo1}°C\r\n                                </Typography>\r\n                                <Typography style={{ display: 'block' }} variant='caption'>\r\n                                    Thermocouple 2: {this.state.thermo2}°C\r\n                                </Typography>\r\n                                <Typography style={{ display: 'block' }} variant='caption'>\r\n                                    Calculated: {this.state.calculated}°C\r\n                                </Typography>\r\n                            </Grid>\r\n\r\n                            <Grid container justifyContent='flex-end' spacing={3}>\r\n                                <Grid item>\r\n                                    <Button variant='contained' color='primary' disabled={!this.state.inputChanged} onClick={this.save}>\r\n                                        Save\r\n                                    </Button>\r\n                                </Grid>\r\n                            </Grid>\r\n                        </Grid>\r\n                    </AccordionDetails>\r\n                </Accordion>\r\n            </>\r\n        );\r\n    }\r\n}\r\n\r\nexport default withTheme(HardwareSettings);","import React, { Component } from \"react\";\r\nimport Accordion from '@material-ui/core/Accordion';\r\nimport AccordionDetails from '@material-ui/core/AccordionDetails';\r\nimport AccordionSummary from '@material-ui/core/AccordionSummary';\r\nimport Typography from '@material-ui/core/Typography';\r\nimport ExpandMoreIcon from '@material-ui/icons/ExpandMore';\r\nimport Grid from '@material-ui/core/Grid';\r\nimport Switch from '@material-ui/core/Switch';\r\nimport Button from '@material-ui/core/Button';\r\nimport axios from 'axios';\r\nimport { CirclePicker } from 'react-color'\r\n\r\nclass AppearanceSettings extends Component {\r\n    constructor(props) {\r\n        super(props);\r\n        this.state = {\r\n            darkMode: this.props.darkMode,\r\n            primary: this.props.primary,\r\n            secondary: this.props.secondary,\r\n            inputChanged: false\r\n        };\r\n        this.save = this.save.bind(this);\r\n        this.handleDarkSwitch = this.handleDarkSwitch.bind(this);\r\n        this.handlePrimaryChange = this.handlePrimaryChange.bind(this);\r\n        this.handleSecondaryChange = this.handleSecondaryChange.bind(this);\r\n    }\r\n\r\n    componentDidMount() {\r\n    }\r\n\r\n    save() {\r\n        var newSettings = {};\r\n        newSettings.dark_mode = this.state.darkMode;\r\n        newSettings.primary_color = this.state.primary;\r\n        newSettings.secondary_color = this.state.secondary;\r\n        axios.post('/api/settings/appearance', newSettings)\r\n            .then(res => {\r\n                if (res.data.status === 200) {\r\n                    this.setState({ inputChanged: false });\r\n                }\r\n            });\r\n    }\r\n\r\n    handleDarkSwitch(e) {\r\n        this.setState({ darkMode: e.target.checked, inputChanged: true });\r\n        this.props.toggleDarkMode(e.target.checked);\r\n    }\r\n\r\n    handlePrimaryChange(color, e) {\r\n        this.setState({ primary: color.hex, inputChanged: true });\r\n        this.props.setPrimaryColor(color.hex);\r\n    }\r\n\r\n    handleSecondaryChange(color, e) {\r\n        this.setState({ secondary: color.hex, inputChanged: true });\r\n        this.props.setSecondaryColor(color.hex);\r\n    }\r\n\r\n    render() {\r\n        return (\r\n            <Accordion >\r\n                <AccordionSummary\r\n                    expandIcon={<ExpandMoreIcon />}\r\n                    aria-controls=\"panel1bh-content\"\r\n                    id=\"panel1bh-header\"\r\n                >\r\n                    <Typography variant='h6'>Appearance</Typography>\r\n                </AccordionSummary>\r\n                <AccordionDetails>\r\n                    <Grid container direction='column' alignItems=\"flex-start\" spacing={3}>\r\n                        <Grid item>\r\n                            <Typography align='left'>\r\n                                Dark Mode\r\n                            </Typography>\r\n                            <Switch checked={this.state.darkMode} onChange={this.handleDarkSwitch} color='primary' />\r\n                        </Grid>\r\n                        <Grid item>\r\n                            <Typography align='left'>\r\n                                Primary Color\r\n                            </Typography>\r\n                            <CirclePicker color={this.state.primary} onChange={this.handlePrimaryChange}/>\r\n                        </Grid>\r\n\r\n                        <Grid item>\r\n                            <Typography align='left'>\r\n                                Secondary Color\r\n                            </Typography>\r\n                            <CirclePicker color={this.state.secondary} onChange={this.handleSecondaryChange} />\r\n                        </Grid>\r\n                        \r\n\r\n                        <Grid container justifyContent='flex-end' spacing={3}>\r\n                            <Grid item>\r\n                                <Grid container direction='column' alignItems='center'>\r\n                                    <Grid item>\r\n                                        <Typography variant='caption' >\r\n                                            <span style={{color: 'red'}}>WARNING: </span>If saved, theme will be applied to all connections.\r\n                                        </Typography>\r\n                                    </Grid>\r\n                                    <Grid item>\r\n                                        <Typography variant='caption' display='inline' >\r\n                                            (useful for differentiating between ovens)\r\n                                        </Typography>\r\n                                    </Grid>\r\n                                </Grid>\r\n                            </Grid>\r\n                            <Grid item>\r\n                                <Button variant='contained' color='primary' disabled={!this.state.inputChanged} onClick={this.save}>\r\n                                    Save\r\n                                </Button>\r\n                            </Grid>\r\n                        </Grid>\r\n                    </Grid>\r\n\r\n                </AccordionDetails>\r\n            </Accordion>\r\n        );\r\n    }\r\n}\r\n\r\nexport default AppearanceSettings;","import React, { Component } from \"react\";\r\nimport StatusBar from '../components/StatusBar';\r\nimport Container from '@material-ui/core/Container';\r\nimport NetworkSettings from '../components/NetworkSettings';\r\nimport PidSettings from '../components/PidSettings';\r\nimport HardwareSettings from \"../components/HardwareSettings\";\r\nimport AppearanceSettings from '../components/AppearanceSettings';\r\n\r\nclass Settings extends Component {\r\n\r\n    render() {\r\n        return (\r\n            <>\r\n                <StatusBar />\r\n                <Container maxWidth={false} style={{paddingTop: '20px'}} >\r\n                    <PidSettings />\r\n                    <HardwareSettings />\r\n                    <NetworkSettings />\r\n                    <AppearanceSettings\r\n                        toggleDarkMode={this.props.toggleDarkMode}\r\n                        setPrimaryColor={this.props.setPrimaryColor}\r\n                        setSecondaryColor={this.props.setSecondaryColor}\r\n                        primary={this.props.primary}\r\n                        secondary={this.props.secondary}\r\n                        darkMode={this.props.darkMode}\r\n                    />\r\n                </Container>\r\n            </>\r\n        );\r\n    }\r\n}\r\n\r\nexport default Settings;","import React from \"react\";\r\nimport socketio from \"socket.io-client\";\r\n\r\n//no url since backend is hosted on the same domain\r\nexport const socket = socketio.connect();\r\nexport const SocketContext = React.createContext();","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport {App} from './App';\nimport reportWebVitals from './reportWebVitals';\n\nvar isLocal = false;\nif (window.location.hostname === \"localhost\" || window.location.hostname === \"127.0.0.1\" || window.location.hostname === \"\") {\n  isLocal = true;\n}\n\nReactDOM.render(\n  <React.StrictMode>\n    <App isLocal={isLocal}/>\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n","import { React, Component } from 'react';\r\nimport { socket } from '../helpers/socket';\r\nimport AppBar from '@material-ui/core/AppBar';\r\nimport Toolbar from '@material-ui/core/Toolbar';\r\nimport Button from '@material-ui/core/Button';\r\nimport Typography from '@material-ui/core/Typography';\r\nimport IconButton from '@material-ui/core/IconButton';\r\nimport MenuIcon from '@material-ui/icons/Menu';\r\nimport HomeIcon from '@material-ui/icons/Home';\r\nimport MenuOpenIcon from '@material-ui/icons/MenuOpen';\r\nimport SettingsIcon from '@material-ui/icons/Settings';\r\nimport { Link } from \"react-router-dom\";\r\nimport axios from 'axios';\r\nimport StopIcon from '@material-ui/icons/Stop';\r\nimport QRCode from \"qrcode.react\";\r\nimport CloseIcon from '@material-ui/icons/Close';\r\nimport WhatshotIcon from '@material-ui/icons/Whatshot';\r\nimport AcUnitIcon from '@material-ui/icons/AcUnit';\r\nimport ToysIcon from '@material-ui/icons/Toys';\r\nimport Snackbar from '@material-ui/core/Snackbar';\r\nimport MuiAlert from '@material-ui/lab/Alert';\r\nimport WifiTetheringIcon from '@material-ui/icons/WifiTethering';\r\nimport { ListItem, Drawer, ListItemText, ListItemIcon, Divider, Dialog, DialogTitle, DialogContent } from '@material-ui/core';\r\nimport { LinearProgress, Grid } from '@material-ui/core';\r\nimport { withStyles } from '@material-ui/core/styles';\r\nimport { withRouter } from \"react-router-dom\";\r\nimport ListAltIcon from '@material-ui/icons/ListAlt';\r\nimport Hidden from '@material-ui/core/Hidden';\r\nimport Backdrop from '@material-ui/core/Backdrop';\r\nimport CircularProgress from '@material-ui/core/CircularProgress';\r\n\r\n\r\nclass StatusBar extends Component {\r\n    constructor(props) {\r\n        super(props);\r\n        this.componentDidMount = this.componentDidMount.bind(this);\r\n        this.componentWillUnmount = this.componentWillUnmount.bind(this);\r\n        this.drawerChange = this.drawerChange.bind(this);\r\n        this.stop = this.stop.bind(this);\r\n        this.qrClicked = this.qrClicked.bind(this);\r\n        this.qrClosed = this.qrClosed.bind(this);\r\n        this.snackbarClosed = this.snackbarClosed.bind(this);\r\n        this.timeout = null;\r\n        this.state = {\r\n            drawer: false,\r\n            qrDialog: false,\r\n            thermoDialog: false,\r\n            percentage: 0,\r\n            temperature: 0,\r\n            status: \"Ready\",\r\n            address: \"\",\r\n            currentProfile: \"\",\r\n            serverMessage: \"\",\r\n            serverMessageSeverity: \"\",\r\n            serverMessageSnackbar: false,\r\n            relayOn: false,\r\n            coolingFanOn: false,\r\n            fanOn: false,\r\n            connected: true,\r\n            backdrop: false\r\n        };\r\n    }\r\n\r\n    StopButton = withStyles({\r\n        root: {\r\n            backgroundColor: '#bf0000',\r\n            '&:hover': {\r\n                backgroundColor: '#870000'\r\n            }\r\n        }\r\n    })(Button);\r\n\r\n    RelayOn = withStyles({\r\n        root: {\r\n            fill: '#c70000',\r\n        }\r\n    })(WhatshotIcon);\r\n\r\n    CoolingOn = withStyles({\r\n        root: {\r\n            fill: '#009cc7',\r\n        }\r\n    })(AcUnitIcon);\r\n\r\n    ConvectionOn = withStyles({\r\n        root: {\r\n            fill: '#00ba16',\r\n        }\r\n    })(ToysIcon);\r\n    \r\n\r\n    stop() {\r\n        axios.post('/api/stop', { reason: \"test\" })\r\n            .then(res => {\r\n                if (res.data.status === 200) {\r\n                    this.setState({ status: \"Ready\" });\r\n                }\r\n            });\r\n    }\r\n\r\n    componentDidMount() {\r\n        fetch('/api/status')\r\n            .then(response => response.json())\r\n            .then(result => {\r\n                this.setState({\r\n                    address: result.address,\r\n                    percentage: result.status.percent,\r\n                    status: result.status.status,\r\n                    currentProfile: result.status.current_profile\r\n                });\r\n            });\r\n        socket.on(\"status_update\", (message) => {\r\n            this.setState({\r\n                percentage: message.percent,\r\n                temperature: message.temperature,\r\n                status: message.status,\r\n                currentProfile: message.current_profile\r\n            });\r\n\r\n            if (message.relay > 0) {\r\n                this.setState({ relayOn: true });\r\n                if (message.relay < 1000) {\r\n                    setTimeout(() => {\r\n                        this.setState({ relayOn: false });\r\n                    }, message.relay);\r\n                }   \r\n            } else {\r\n                this.setState({ relayOn: false });\r\n            }\r\n\r\n            if (message.cooling_fan > 0) {\r\n                this.setState({ coolingFanOn: true });\r\n                if (message.cooling_fan < 1000) {\r\n                    setTimeout(() => {\r\n                        this.setState({ coolingFanOn: false });\r\n                    }, message.cooling_fan);\r\n                }\r\n            } else {\r\n                this.setState({ coolingFanOn: false });\r\n            }\r\n\r\n            if (message.fan > 0) {\r\n                this.setState({ fanOn: true });\r\n                if (message.fan < 1000) {\r\n                    setTimeout(() => {\r\n                        this.setState({ fanOn: false });\r\n                    }, message.fan);\r\n                } \r\n            } else {\r\n                this.setState({ fanOn: false });\r\n            }\r\n        });\r\n        socket.on(\"server_message\", (message) => {\r\n            this.setState({\r\n                serverMessage: message.message,\r\n                serverMessageSeverity: message.severity,\r\n            });\r\n            this.setState({\r\n                serverMessageSnackbar: true\r\n            });\r\n        });\r\n        socket.on(\"disconnect\", () => {\r\n            this.setState({ backdrop: true });\r\n            this.timeout = setTimeout(() => {\r\n                this.setState({ connected: false });\r\n            }, 3000);\r\n            \r\n        });\r\n        socket.on(\"connect\", () => {\r\n            clearTimeout(this.timeout);\r\n            this.setState({ connected: true, backdrop: false });\r\n        });\r\n        if (!socket.connected) {\r\n            this.setState({ backdrop: true });\r\n            this.timeout = setTimeout(() => {\r\n                this.setState({ connected: false });\r\n            }, 3000);\r\n        }\r\n    }\r\n\r\n    drawerChange() {\r\n        if (this.state.drawer) {\r\n            this.setState({ drawer: false });\r\n        } else {\r\n            this.setState({ drawer: true });\r\n        }\r\n    }\r\n\r\n    componentWillUnmount() {\r\n        socket.off(\"status_update\");\r\n        socket.off(\"server_message\");\r\n        socket.off(\"disconnect\");\r\n        socket.off(\"connect\");\r\n    }\r\n\r\n    qrClicked() {\r\n        this.setState({ qrDialog: true });\r\n    }\r\n\r\n    qrClosed() {\r\n        this.setState({ qrDialog: false });\r\n    }\r\n\r\n    snackbarClosed() {\r\n        this.setState({serverMessageSnackbar: false})\r\n    }\r\n\r\n    render() {\r\n        var temperatureDisplay = this.state.temperature + \"°C\";\r\n        if (this.state.temperature === -1) {\r\n            temperatureDisplay = \"Thermocouple Disconnected!\";\r\n        }\r\n\r\n        var relayIcon = <WhatshotIcon />;\r\n        var coolingFanIcon = <AcUnitIcon />;\r\n        var fanIcon = <ToysIcon />;\r\n        if (this.state.relayOn) {\r\n            relayIcon = <this.RelayOn />;\r\n        }\r\n\r\n        if (this.state.coolingFanOn) {\r\n            coolingFanIcon = <this.CoolingOn />\r\n        }\r\n\r\n        if (this.state.fanOn) {\r\n            fanIcon = <this.ConvectionOn />\r\n        }\r\n\r\n        return (\r\n            <>\r\n                <Snackbar anchorOrigin={{\r\n                    vertical: 'top',\r\n                    horizontal: 'right'}} open={this.state.serverMessageSnackbar} autoHideDuration={10000} onClose={this.snackbarClosed}>\r\n                    <MuiAlert elevation={6} variant=\"filled\" severity={this.state.serverMessageSeverity} onClose={this.snackbarClosed}>\r\n                        {this.state.serverMessage}\r\n                    </MuiAlert>\r\n                </Snackbar>\r\n\r\n                <Backdrop style={{zIndex: 10}} open={this.state.backdrop}>\r\n                    <CircularProgress color='primary' />\r\n                </Backdrop>\r\n\r\n                <Dialog onClose={this.qrClosed} open={this.state.qrDialog} fullWidth={false} maxWidth={\"sm\"}>\r\n                    <DialogTitle>\r\n                        <Grid container justifyContent='center'>\r\n                            <Grid item>\r\n                                <Typography variant='h5'>\r\n                                    http://{this.state.address}\r\n                                </Typography>\r\n                            </Grid>\r\n                        </Grid>\r\n                    </DialogTitle>\r\n                    <DialogContent>\r\n                        <Grid container alignItems='center' direction='column'>\r\n                            <Grid item>\r\n                                <QRCode value={\"http://\" + this.state.address} size={200} />\r\n                            </Grid>\r\n                            <Grid item>\r\n                                Note: this control panel can only be accessed by the 12 EE lab computers.\r\n                            </Grid>\r\n                            <Grid item>\r\n                                <IconButton aria-label=\"close\" onClick={this.qrClosed}>\r\n                                    <CloseIcon />\r\n                                </IconButton>\r\n                            </Grid>\r\n                        </Grid>\r\n                    </DialogContent>\r\n                </Dialog>\r\n\r\n                <Dialog open={!this.state.connected}>\r\n                    <DialogTitle>\r\n                        <Typography>\r\n                            Disconnected from server\r\n                        </Typography>\r\n                    </DialogTitle>\r\n                    <DialogContent>\r\n                        Please ensure server is running.\r\n                    </DialogContent>\r\n                </Dialog>\r\n\r\n                <AppBar position=\"static\" >\r\n                    <Toolbar >\r\n                        <IconButton edge=\"start\" color=\"inherit\" aria-label=\"menu\" onClick={this.drawerChange}>\r\n                            <MenuIcon />\r\n                        </IconButton>\r\n                        <Hidden xsDown>\r\n                            <IconButton component={Link} to='/' color=\"inherit\"><HomeIcon /></IconButton>\r\n                        </Hidden>\r\n                        <Grid container spacing={5} style={{ paddingLeft: 20, paddingTop: 5 }}>\r\n                            <Grid item style={{ minWidth: 150 }}>\r\n                                <Typography align='right'>\r\n                                    {temperatureDisplay}\r\n                                </Typography>\r\n                            </Grid>\r\n                            <Grid item style={{ minWidth: 100 }}>\r\n                                <Typography align='center' >\r\n                                    {this.state.status}\r\n                                </Typography>\r\n                            </Grid>\r\n                            <Hidden xsDown>\r\n                                <Grid item>\r\n                                    <Grid container spacing={1}>\r\n                                        <Grid item>\r\n                                            {relayIcon}\r\n                                        </Grid>\r\n                                        <Grid item>\r\n                                            {coolingFanIcon}\r\n                                        </Grid>\r\n                                        <Grid item>\r\n                                            {fanIcon}\r\n                                        </Grid>\r\n                                    </Grid>\r\n                                </Grid>\r\n                            </Hidden>\r\n                            <Grid item>\r\n                                <Typography align='center' style={{fontWeight: 'bold'}} >\r\n                                    {this.state.currentProfile.name}\r\n                                </Typography>\r\n                            </Grid>\r\n                        </Grid>\r\n                        <div style={{ marginLeft: 'auto' }}>\r\n                            {(this.state.status === \"Preheat\" || this.state.status === \"Running\") &&\r\n                                <this.StopButton onClick={this.stop} startIcon={<StopIcon />} variant=\"contained\" color=\"primary\">Stop</this.StopButton>\r\n                            }\r\n                        </div>\r\n\r\n                    </Toolbar>\r\n                    <LinearProgress style={{height: 5}} variant=\"determinate\" color='secondary' value={this.state.percentage} />\r\n                </AppBar>\r\n\r\n                <Drawer open={this.state.drawer} onClose={this.drawerChange} >\r\n                    <ListItem button key={\"menu\"} onClick={this.drawerChange} style={{minHeight: 50}}>\r\n                        <ListItemIcon><MenuOpenIcon /></ListItemIcon>\r\n                    </ListItem>\r\n                    <Divider />\r\n                    <ListItem button key={\"Home\"} component={Link} onClick={this.drawerChange} to='/'>\r\n                        <ListItemIcon><HomeIcon /></ListItemIcon>\r\n                        <ListItemText>Home</ListItemText>\r\n                    </ListItem>\r\n                    <ListItem button key={\"ProfileList\"} component={Link} onClick={this.drawerChange} to='/profileList'>\r\n                        <ListItemIcon><ListAltIcon /></ListItemIcon>\r\n                        <ListItemText>Profile List</ListItemText>\r\n                    </ListItem>\r\n                    <ListItem button key={\"Settings\"} component={Link} onClick={this.drawerChange} to='/settings'>\r\n                        <ListItemIcon><SettingsIcon /></ListItemIcon>\r\n                        <ListItemText>Settings</ListItemText>\r\n                    </ListItem>\r\n                    <ListItem button key={\"Address\"} onClick={this.qrClicked}>\r\n                        <ListItemIcon><WifiTetheringIcon /></ListItemIcon>\r\n                        <ListItemText>Server Address</ListItemText>\r\n                    </ListItem>\r\n                </Drawer>\r\n            </>\r\n        );\r\n    }\r\n}\r\n\r\nexport default withRouter(StatusBar);\r\n\r\n"],"sourceRoot":""}