{"version":3,"sources":["components/Profile.js","App.js","views/home.js","views/profileList.js","views/notFound.js","views/editProfile.js","components/NetworkSettings.js","components/PidSettings.js","components/HardwareSettings.js","components/AppearanceSettings.js","views/settings.js","helpers/socket.js","reportWebVitals.js","index.js","components/StatusBar.js"],"names":["Profile","props","dragStart","bind","drag","dragEnd","state","hitRadius","pointRadius","this","draggable","setState","e","datasetIndex","index","value","gridColor","theme","palette","text","hint","primaryColor","primary","main","transparentPrimary","alpha","secondaryColor","secondary","transparentSecondary","tempColors","Array","fill","historicTempPointSize","activePoint","historicTemps","length","data","datasets","label","profile","datapoints","pointBackgroundColor","showLine","lineTension","backgroundColor","borderColor","borderWidth","pointHitRadius","hoverRadius","dragData","borderDash","options","maintainAspectRatio","aspectRatio","responsive","animation","duration","scales","y","grid","color","ticks","stepSize","min","max","title","display","font","size","x","maxTime","plugins","round","dragX","onDrag","onDragStart","onDragEnd","zoom","wheel","enabled","pinch","mode","tooltip","xAlign","yAlign","displayColors","caretPadding","caretSize","bodySpacing","legend","fullsize","position","align","name","padding","top","bottom","Component","withTheme","App","darkMode","locked","passwordError","password","keyboardLayout","isLocal","window","location","hostname","toggleDarkMode","setPrimaryColor","setSecondaryColor","fetchAppearance","appIdle","handlePasswordEnter","submitPassword","handleKeyboardInput","buffer","Uint8Array","map","toString","padStart","join","localStorage","getItem","socket","on","message","dark_mode","primary_color","secondary_color","fetch","then","response","json","result","off","disconnect","isDark","setItem","target","button","tempPassword","substring","crypto","subtle","digest","Buffer","from","axios","post","hashed","buf2hex","res","status","themeType","createTheme","type","timeout","onIdle","debounce","open","fullWidth","container","justifyContent","error","onChange","inputProps","autocomplete","form","variant","onClick","layoutName","layout","default","shift","caps","onKeyPress","Provider","exact","path","component","NotFound","Home","steps","description","StartButton","withStyles","root","Button","StopButton","runProfile","forceRunProfile","stop","cancelClicked","coolingDialogClose","currentProfile","historicTemperature","percentDone","activeStep","startWhenCoolingDialog","coolingDialog","current_profile","historic_temperature","nextState","override","reason","stopStartButton","startIcon","onClose","maxWidth","xsDown","item","sm","sx","paddingTop","orientation","square","step","style","width","margin","minWidth","smDown","spacing","alignItems","xs","mdUp","noWrap","Link","to","pathname","tempHistory","ProfileList","SelectButton","DeleteButton","columns","field","headerName","editable","valueFormatter","params","Date","toLocaleString","profiles","activeItem","dialog","forceLoadDialog","allowUploadDownload","deleteDialog","saveProfileError","saveProfileErrorDialog","loadClicked","forceLoadClicked","handleItemClick","handleDialogClose","downloadProfile","fileChanged","handleForceDialogClose","handleDeleteDialogClose","deleteClicked","deleteProfile","saveProfileErrorClose","row","getData","forEach","element","profile_name","force_load","history","push","console","log","downloadableProfile","blob","Blob","JSON","stringify","FileSaver","saveAs","fileReader","FileReader","readAsText","files","onload","uploadedFile","parse","deleteButton","downloadButton","hasOwnProperty","is_default","aria-label","height","innerHeight","paddingBottom","rows","rowHeight","pagination","autoPageSize","checkboxSelection","disableMultipleSelection","onRowClick","sortingOrder","sortModel","sort","accept","hidden","date_created","now","last_run","withRouter","EditProfile","loadDialog","enterNameDialog","newName","newDatapoints","newProfile","currentX","currentY","maxNodes","currentPoint","slope","showHistory","saveProfile","handleInputChange","goBack","saveClicked","cancelEnterName","clearName","addX","subtractX","addY","subtractY","addTime","subtractTime","addNode","subtractNode","showHistoryClicked","calculateSlopeAtPoint","rise","run","Number","parseFloat","toFixed","tempProfile","newPoint","splice","Math","floor","i","j","tempPoint","ceil","new_profile","checked","keyboard","historySwitch","paddingLeft","historicDatapoints","formattedTime","abs","sign","autoFocus","endAdornment","lg","direction","fontSize","wrap","marginLeft","NetworkSettings","port","remoteConnections","messageToSend","inputChanged","focused","currentFocused","focusInputChange","save","handleSwitch","handlePortChange","handleMessageChange","sendMessage","handleOnFocus","handleInputClose","handleDialogInput","remote_connections","newSettings","changeFunction","tempString","charAt","inputValue","tempInput","inputDialog","Dialog","DialogTitle","Typography","DialogContent","Grid","TextField","DialogActions","Accordion","AccordionSummary","expandIcon","aria-controls","id","AccordionDetails","Checkbox","disabled","PidSettings","p","d","useCoolingFan","lookAhead","preheat","preheatPower","alwaysHitPeak","handlePChange","handleIChange","handleDChange","handleCoolingFanChange","handlePreheatChange","handleLookAheadChange","handlePreheatPowerChange","handleAlwaysHitPeakChange","use_cooling_fan","look_ahead","preheat_power","always_hit_peak","parseInt","InputProps","InputAdornment","HardwareSettings","relayPin","fanPin","coolingFanPin","buzzerPin","thermocoupleOffset","percentOffset","relayError","fanError","coolingFanError","buzzerError","fanTurnoffTemp","thermo1","thermo2","calculated","refreshDisabled","thermocoupleAverageMode","handleRelayChange","handleFanChange","handleBuzzerChange","handleFanTurnoffChange","handleThermocoupleOffset","handleThermocoupleRefresh","handlePercentOffset","handleThermocoupleMode","errorClose","relay_pin","fan_pin","cooling_fan_pin","buzzer_pin","fan_turnoff_temp","thermocouple_offset","percent_offset","thermocouple_average_mode","sensor_1","sensor_2","current","FormControl","InputLabel","Select","MenuItem","RadioGroup","FormControlLabel","control","Radio","IconButton","AppearanceSettings","handleDarkSwitch","handlePrimaryChange","handleSecondaryChange","hex","Switch","Settings","StatusBar","Container","socketio","connect","SocketContext","React","createContext","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","StrictMode","document","getElementById","RelayOn","WhatshotIcon","CoolingOn","AcUnitIcon","ConvectionOn","ToysIcon","drawerChange","qrClicked","qrClosed","snackbarClosed","drawer","qrDialog","thermoDialog","percentage","temperature","address","serverMessage","serverMessageSeverity","serverMessageSnackbar","relayOn","coolingFanOn","fanOn","connected","backdrop","percent","relay","setTimeout","cooling_fan","fan","severity","clearTimeout","temperatureDisplay","relayIcon","coolingFanIcon","fanIcon","iOS","process","browser","test","navigator","userAgent","anchorOrigin","vertical","horizontal","autoHideDuration","elevation","zIndex","edge","fontWeight","innerWidth","disableDiscovery","disableBackdropTransition","minHeight"],"mappings":"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","file":"static/js/main.96975100.chunk.js","sourcesContent":["import React, { Component } from \"react\";\r\nimport { Scatter } from 'react-chartjs-2';\r\n//import { DraggableGraph } from './DraggableGraph';\r\nimport 'chartjs-plugin-dragdata';\r\n//import Keyboard from 'react-simple-keyboard';\r\nimport { withTheme } from '@material-ui/styles';\r\nimport { alpha } from '@material-ui/core/styles/colorManipulator';\r\n\r\nclass Profile extends Component {\r\n    constructor(props) {\r\n        super(props);\r\n        this.dragStart = this.dragStart.bind(this);\r\n        this.drag = this.drag.bind(this);\r\n        this.dragEnd = this.dragEnd.bind(this);\r\n        this.state = {\r\n            hitRadius: 5,\r\n            pointRadius: 3,\r\n        };  \r\n    }\r\n    \r\n    componentDidMount() {\r\n        if (this.props.draggable) {\r\n            //hitradius over 25 ensures that touch devices can drag points\r\n            this.setState({ hitRadius: 30, pointRadius: 8 });\r\n        }\r\n    }\r\n\r\n\r\n    dragStart(e, datasetIndex, index, value) {\r\n        this.props.dragStart(e, datasetIndex, index, value);\r\n    }\r\n\r\n    drag(e, datasetIndex, index, value) {\r\n        this.props.drag(e, datasetIndex, index, value);\r\n    }\r\n\r\n    dragEnd(e, datasetIndex, index, value) {\r\n        this.props.dragEnd(e, datasetIndex, index, value);\r\n    }\r\n\r\n    render() {\r\n        var gridColor = this.props.theme.palette.text.hint;\r\n        var primaryColor = this.props.theme.palette.primary.main;\r\n        var transparentPrimary = alpha(this.props.theme.palette.primary.main, 0.2);\r\n        var secondaryColor = this.props.theme.palette.secondary.main;\r\n        var transparentSecondary = alpha(this.props.theme.palette.secondary.main, 0.2);\r\n        var tempColors = new Array(10).fill(transparentPrimary);\r\n        var historicTempPointSize = 2;\r\n        if (this.props.draggable) {\r\n            tempColors[this.props.activePoint] = secondaryColor;\r\n        }\r\n        if (this.props.historicTemps && this.props.historicTemps.length === 1) {\r\n            historicTempPointSize = 8;\r\n        }\r\n\r\n        return (\r\n            <Scatter data={{\r\n                datasets: [\r\n                    {\r\n                        label: 'Profile',\r\n                        data: this.props.profile.datapoints,\r\n                        pointBackgroundColor: tempColors,\r\n                        showLine: true,\r\n                        lineTension: 0.05,\r\n                        backgroundColor: transparentPrimary,\r\n                        borderColor: primaryColor,\r\n                        borderWidth: 3,\r\n                        pointRadius: this.state.pointRadius,\r\n                        pointHitRadius: this.state.hitRadius,\r\n                        hoverRadius: this.state.pointRadius + 3,\r\n                        dragData: this.props.draggable,\r\n                    },\r\n                    {\r\n                        label: 'Historic Temerature',\r\n                        data: this.props.historicTemps,\r\n                        showLine: true,\r\n                        lineTension: 0.05,\r\n                        backgroundColor: transparentSecondary,\r\n                        borderColor: secondaryColor,\r\n                        borderWidth: 1,\r\n                        pointRadius: historicTempPointSize,\r\n                        hoverRadius: historicTempPointSize + 1,\r\n                        dragData: false,\r\n                        borderDash: [10, 5],\r\n                        fill: 0,\r\n                    },\r\n                ],\r\n            }} options={{\r\n                maintainAspectRatio: true,\r\n                aspectRatio: 1.9,\r\n                responsive: true,\r\n                animation: {\r\n                    duration: 0,\r\n                },\r\n                scales: {\r\n                    y: {\r\n                        grid: {\r\n                            color: gridColor\r\n                        },\r\n                        ticks: {\r\n                            color: gridColor,\r\n                            stepSize: 25\r\n                        },\r\n                        min: 0,\r\n                        max: 300,\r\n                        title: {\r\n                            text: 'Temperature (C)',\r\n                            display: true,\r\n                            color: gridColor,\r\n                            font: {\r\n                                size: \"15%\",\r\n                            },\r\n                        },\r\n                    },\r\n                    x: {\r\n                        grid: {\r\n                            color: gridColor\r\n                        },\r\n                        ticks: {\r\n                            color: gridColor,\r\n                            stepSize: 25\r\n                        },\r\n                        min: 0,\r\n                        max: this.props.maxTime,\r\n                        title: {\r\n                            text: 'Time (Seconds)',\r\n                            display: true,\r\n                            color: gridColor,\r\n                            font: {\r\n                                size: \"15%\",\r\n                            },\r\n                        },\r\n                    },\r\n                },\r\n\r\n                plugins: {\r\n                    dragData: {\r\n                        round: 0,\r\n                        dragX: true,\r\n                        onDrag: (e, datasetIndex, index, value) => this.drag(e, datasetIndex, index, value),\r\n                        onDragStart: (e, datasetIndex, index, value) => this.dragStart(e, datasetIndex, index, value),\r\n                        onDragEnd: (e, datasetIndex, index, value) => this.dragEnd(e, datasetIndex, index, value)\r\n                    },\r\n                    zoom: {\r\n                        wheel: {\r\n                            enabled: true,\r\n                        },\r\n                        pinch: {\r\n                            enabled: true\r\n                        },\r\n                        mode: 'xy',\r\n                    },\r\n                    tooltip: {\r\n                        xAlign: 'right',\r\n                        yAlign: 'bottom',\r\n                        displayColors: false,\r\n                        caretPadding: 30,\r\n                        caretSize: 10,\r\n                        bodySpacing: 20,\r\n                    },\r\n                    legend: {\r\n                        display: false,\r\n                    },\r\n                    title: {\r\n                        display: false,\r\n                        color: 'white',\r\n                        fullsize: true,\r\n                        position: 'bottom',\r\n                        align: 'start',\r\n                        text: this.props.profile.name,\r\n                        padding: {\r\n                            top: 0,\r\n                            bottom: 0\r\n                        },\r\n                        font: {\r\n                            size: 30,\r\n                        }\r\n                    },\r\n                },\r\n            }} />\r\n        );\r\n    }\r\n}\r\n//this.props.historicTemps\r\nexport default withTheme(Profile);","import React, { Component } from \"react\";\r\nimport { SocketContext, socket } from './helpers/socket';\r\nimport './App.css';\r\nimport Home from './views/home';\r\nimport Settings from './views/settings';\r\nimport ProfileList from './views/profileList';\r\nimport NotFound from './views/notFound';\r\nimport { createTheme } from '@material-ui/core/styles';\r\nimport { ThemeProvider } from '@material-ui/styles';\r\nimport CssBaseline from '@material-ui/core/CssBaseline';\r\nimport {\r\n  BrowserRouter as Router,\r\n  Switch,\r\n  Route,\r\n} from \"react-router-dom\";\r\nimport EditProfile from \"./views/editProfile\";\r\nimport IdleTimer from 'react-idle-timer'\r\nimport Dialog from '@material-ui/core/Dialog';\r\nimport DialogActions from '@material-ui/core/DialogActions';\r\nimport DialogContent from '@material-ui/core/DialogContent';\r\nimport DialogTitle from '@material-ui/core/DialogTitle';\r\nimport TextField from '@material-ui/core/TextField';\r\nimport { Typography, Button, Grid } from \"@material-ui/core\";\r\nimport axios from 'axios';\r\nimport Keyboard from \"react-simple-keyboard\";\r\n//import { RemoveScrollBar } from 'react-remove-scroll-bar';\r\n\r\nclass App extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      darkMode: true,\r\n      primary: '#3f51b5',\r\n      secondary: '#e91e63',\r\n      locked: false,\r\n      passwordError: false,\r\n      password: '',\r\n      keyboardLayout: 'default',\r\n      isLocal: window.location.hostname === \"localhost\" || window.location.hostname === \"127.0.0.1\"\r\n    };\r\n    this.toggleDarkMode = this.toggleDarkMode.bind(this);\r\n    this.setPrimaryColor = this.setPrimaryColor.bind(this);\r\n    this.setSecondaryColor = this.setSecondaryColor.bind(this);\r\n    this.fetchAppearance = this.fetchAppearance.bind(this);\r\n    this.appIdle = this.appIdle.bind(this);\r\n    this.handlePasswordEnter = this.handlePasswordEnter.bind(this);\r\n    this.submitPassword = this.submitPassword.bind(this);\r\n    this.handleKeyboardInput = this.handleKeyboardInput.bind(this);\r\n  }\r\n\r\n  buf2hex(buffer) { // buffer is an ArrayBuffer\r\n  return [...new Uint8Array(buffer)]\r\n    .map(x => x.toString(16).padStart(2, '0'))\r\n    .join('');\r\n  }\r\n\r\n  componentDidMount() {\r\n    if (localStorage.getItem('locked') === 'true') {\r\n      this.setState({ locked: true });\r\n    }\r\n    this.fetchAppearance();\r\n\r\n    socket.on(\"appearance_update\", (message) => {\r\n      this.setState({\r\n        darkMode: message.dark_mode,\r\n        primary: message.primary_color,\r\n        secondary: message.secondary_color,\r\n      });\r\n    });\r\n  }\r\n\r\n  fetchAppearance() {\r\n    fetch('/api/settings/appearance')\r\n      .then(response => response.json())\r\n      .then(result => {\r\n        this.setState({ darkMode: result.dark_mode, primary: result.primary_color, secondary: result.secondary_color });\r\n      });\r\n\r\n  }\r\n\r\n  componentWillUnmount() {\r\n    socket.off(\"appearance_update\");\r\n    socket.disconnect();\r\n  }\r\n\r\n  toggleDarkMode(isDark) {\r\n    if (isDark) {\r\n      this.setState({ darkMode: true });\r\n    } else {\r\n      this.setState({ darkMode: false });\r\n    }\r\n  }\r\n\r\n  setPrimaryColor(color) {\r\n    this.setState({ primary: color });\r\n  }\r\n\r\n  setSecondaryColor(color) {\r\n    this.setState({ secondary: color });\r\n  }\r\n\r\n  appIdle() {\r\n    if (this.state.isLocal) {\r\n      this.setState({ locked: true });\r\n      localStorage.setItem('locked', 'true');\r\n    }\r\n  }\r\n\r\n  handlePasswordEnter(e) {\r\n    this.setState({ password: e.target.value });\r\n  }\r\n\r\n  handleKeyboardInput(button) {\r\n    if (button === '{lock}') {\r\n      if (this.state.keyboardLayout === 'caps' || this.state.keyboardLayout === 'shift') {\r\n        this.setState({ keyboardLayout: 'default' });\r\n      } else {\r\n        this.setState({ keyboardLayout: 'caps' });\r\n      }\r\n    } else if (button === '{shift}') {\r\n      if (this.state.keyboardLayout === 'caps' || this.state.keyboardLayout === 'shift') {\r\n        this.setState({ keyboardLayout: 'default' });\r\n      } else {\r\n        this.setState({ keyboardLayout: 'shift' });\r\n      }\r\n    } else {\r\n      let tempPassword = this.state.password;\r\n      if (button === '{bksp}') {\r\n        tempPassword = tempPassword.substring(0, tempPassword.length - 1);\r\n      } else if (button === '{space}') {\r\n        tempPassword += ' ';\r\n      } else if (button === '{enter}') {\r\n        this.submitPassword();\r\n        return;\r\n      } else {\r\n        if (button !== '{tab}') {\r\n          tempPassword += button;\r\n        } \r\n      }\r\n      this.setState({ password: tempPassword });\r\n      if (this.state.keyboardLayout === 'shift') {\r\n        this.setState({ keyboardLayout: 'default' });\r\n      }\r\n    }\r\n  }\r\n\r\n  submitPassword() {\r\n    window.crypto.subtle.digest('sha-256', Buffer.from(this.state.password)).then((digest) => {\r\n      axios.post('/api/check_password', { hashed: this.buf2hex(digest) })\r\n        .then(res => {\r\n          if (res.data.status === 200) {\r\n            this.setState({ locked: false, password: '', passwordError: false });\r\n            localStorage.setItem('locked', 'false');\r\n          } else if (res.data.status === 403) {\r\n            this.setState({ passwordError: true, password: '' });\r\n          }\r\n        });\r\n    });\r\n  }\r\n\r\n\r\n  render() {\r\n    var themeType = 'dark';\r\n    if (!this.state.darkMode) {\r\n      themeType = 'light'\r\n    }\r\n    const theme = createTheme({\r\n      palette: {\r\n        type: themeType,\r\n        primary: {\r\n          main: this.state.primary,\r\n        },\r\n        secondary: {\r\n          main: this.state.secondary,\r\n        },\r\n      }\r\n\r\n    });\r\n\r\n    return (\r\n      <ThemeProvider theme={theme}>\r\n        \r\n        <IdleTimer\r\n          timeout={7560000}\r\n          onIdle={this.appIdle}\r\n          debounce={250}\r\n        />\r\n        <CssBaseline />\r\n        <Dialog open={this.state.locked} fullWidth={true}>\r\n          <DialogTitle>\r\n            <Typography align='center'>\r\n              Oven locked. Please enter password:\r\n            </Typography>\r\n          </DialogTitle>\r\n          <DialogContent>\r\n            <Grid container justifyContent='center'>\r\n              <TextField\r\n                error={this.state.passwordError}\r\n                onChange={this.handlePasswordEnter}\r\n                value={this.state.password}\r\n                type='password'\r\n                inputProps={{\r\n                  autocomplete: 'new-password',\r\n                  form: {\r\n                    autocomplete: 'off',\r\n                  },\r\n                }}\r\n              />\r\n            </Grid>\r\n          </DialogContent>\r\n          <DialogActions>\r\n            <Button color='primary' variant='outline' onClick={this.submitPassword}>Enter</Button>\r\n          </DialogActions>\r\n          <Keyboard\r\n            theme={themeType === 'dark' ? 'hg-theme-dark' : 'hg-theme-default'}\r\n            layoutName={this.state.keyboardLayout}\r\n            layout={{\r\n              default: [\r\n                \"` 1 2 3 4 5 6 7 8 9 0 - = {bksp}\",\r\n                \"{tab} q w e r t y u i o p [ ] \\\\\",\r\n                \"{lock} a s d f g h j k l ; ' {enter}\",\r\n                \"{shift} z x c v b n m , . / {shift}\",\r\n                \"{space}\"\r\n              ],\r\n              shift: [\r\n                \"~ ! @ # $ % ^ & * ( ) _ + {bksp}\",\r\n                \"{tab} Q W E R T Y U I O P { } |\",\r\n                '{lock} A S D F G H J K L : \" {enter}',\r\n                \"{shift} Z X C V B N M < > ? {shift}\",\r\n                \"{space}\"\r\n              ],\r\n              caps: [\r\n                \"~ ! @ # $ % ^ & * ( ) _ + {bksp}\",\r\n                \"{tab} Q W E R T Y U I O P { } |\",\r\n                '{lock} A S D F G H J K L : \" {enter}',\r\n                \"{shift} Z X C V B N M < > ? {shift}\",\r\n                \"{space}\"\r\n              ]\r\n            }}\r\n            onKeyPress={this.handleKeyboardInput}\r\n          />\r\n        </Dialog>\r\n        \r\n        <Router>\r\n          <SocketContext.Provider value={socket}>\r\n            \r\n            <Switch>\r\n\r\n              <Route exact path=\"/\" >\r\n                <Home />\r\n              </Route>\r\n              <Route path=\"/editProfile\" >\r\n                <EditProfile />\r\n              </Route>\r\n              <Route path=\"/profileList\" >\r\n                <ProfileList />\r\n              </Route>\r\n              <Route path=\"/settings\" >\r\n                <Settings\r\n                  toggleDarkMode={this.toggleDarkMode}\r\n                  setPrimaryColor={this.setPrimaryColor}\r\n                  setSecondaryColor={this.setSecondaryColor}\r\n                  primary={this.state.primary}\r\n                  secondary={this.state.secondary}\r\n                  darkMode={this.state.darkMode}\r\n                />\r\n              </Route>\r\n              <Route component={NotFound} />\r\n            </Switch>\r\n          </SocketContext.Provider>\r\n        </Router>\r\n      </ThemeProvider>\r\n\r\n\r\n\r\n    );\r\n  }\r\n}\r\n//<h1>{props.isLocal.toString()}</h1>\r\nexport { App };\r\n","import { React, Component } from 'react';\r\nimport Stepper from '@material-ui/core/Stepper';\r\nimport Step from '@material-ui/core/Step';\r\nimport StepLabel from '@material-ui/core/StepLabel';\r\nimport Profile from '../components/Profile';\r\nimport EditIcon from '@material-ui/icons/Edit';\r\nimport { Button, Container, Grid, Typography, Box, Paper } from '@material-ui/core';\r\nimport { Link } from \"react-router-dom\";\r\nimport { socket } from '../helpers/socket';\r\nimport axios from 'axios';\r\nimport PlayArrowIcon from '@material-ui/icons/PlayArrow';\r\nimport StopIcon from '@material-ui/icons/Stop';\r\nimport StatusBar from '../components/StatusBar';\r\nimport { withStyles } from '@material-ui/core/styles';\r\nimport Dialog from '@material-ui/core/Dialog';\r\nimport DialogActions from '@material-ui/core/DialogActions';\r\nimport DialogContent from '@material-ui/core/DialogContent';\r\nimport DialogTitle from '@material-ui/core/DialogTitle';\r\nimport ListAltIcon from '@material-ui/icons/ListAlt';\r\nimport Hidden from '@material-ui/core/Hidden';\r\n\r\nclass Home extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.runProfile = this.runProfile.bind(this);\r\n    this.forceRunProfile = this.forceRunProfile.bind(this);\r\n    this.stop = this.stop.bind(this);\r\n    this.cancelClicked = this.cancelClicked.bind(this);\r\n    this.coolingDialogClose = this.coolingDialogClose.bind(this);\r\n    this.state = ({\r\n      currentProfile: {\r\n        \"name\": \"flat\",\r\n        \"date_created\": 0,\r\n        \"last_run\": 0,\r\n        \"datapoints\": [\r\n          {\r\n            \"x\": 0,\r\n            \"y\": 30\r\n          },\r\n          {\r\n            \"x\": 75,\r\n            \"y\": 30\r\n          },\r\n          {\r\n            \"x\": 150,\r\n            \"y\": 30\r\n          },\r\n          {\r\n            \"x\": 225,\r\n            \"y\": 30\r\n          },\r\n          {\r\n            \"x\": 300,\r\n            \"y\": 30\r\n          },\r\n          {\r\n            \"x\": 375,\r\n            \"y\": 30\r\n          }\r\n        ]\r\n      },\r\n      historicTemperature: [],\r\n      percentDone: 0,\r\n      status: \"Ready\",\r\n      activeStep: 0,\r\n      startWhenCoolingDialog: false,\r\n      coolingDialog: false\r\n    });\r\n\r\n  }\r\n\r\n  steps = [\r\n    {\r\n      label: 'Ready'\r\n    },\r\n    {\r\n      label: 'Preheat',\r\n      description: ''\r\n    },\r\n    {\r\n      label: 'Run Profile',\r\n      description: ''\r\n    },\r\n    {\r\n      label: 'Peak',\r\n      description: ''\r\n    },\r\n    {\r\n      label: 'Cooling',\r\n      description: ''\r\n    }\r\n  ];\r\n\r\n  StartButton = withStyles({\r\n    root: {\r\n      backgroundColor: '#00ba16',\r\n      '&:hover': {\r\n        backgroundColor: '#009612'\r\n      }\r\n    }\r\n  })(Button);\r\n\r\n  StopButton = withStyles({\r\n    root: {\r\n      backgroundColor: '#bf0000',\r\n      '&:hover': {\r\n        backgroundColor: '#870000'\r\n      }\r\n    }\r\n  })(Button);\r\n\r\n  componentDidMount() {\r\n    fetch('/api/current_profile')\r\n      .then(response => response.json())\r\n      .then(result => {\r\n        this.setState({ currentProfile: result.current_profile });\r\n      });\r\n    socket.on(\"status_update\", (message) => {\r\n      this.setState({\r\n        currentProfile: message.current_profile,\r\n        historicTemperature: message.historic_temperature,\r\n        status: message.status\r\n      });\r\n      if (this.state.status === \"Ready\") {\r\n        this.setState({ activeStep: 0 });\r\n      } else if (this.state.status === \"Preheat\") {\r\n        this.setState({ activeStep: 1 });\r\n      } else if (this.state.status === \"Running\") {\r\n        this.setState({ activeStep: 2 });\r\n      } else if (this.state.status === \"Peak\") {\r\n        this.setState({ activeStep: 3 });\r\n      } else if (this.state.status === \"Cooling\") {\r\n        this.setState({ activeStep: 4 });\r\n      }\r\n    });\r\n    socket.on(\"notify_cooling\", (message) => {\r\n      this.setState({\r\n        coolingDialog: true\r\n      });\r\n    });\r\n  }\r\n\r\n  //need to fix\r\n  shouldComponentUpdate(nextState) {\r\n    return true;\r\n  }\r\n\r\n  componentWillUnmount() {\r\n    socket.off(\"status_update\");\r\n    socket.off(\"notify_cooling\");\r\n  }\r\n\r\n  runProfile() {\r\n      axios.post('/api/run', { override: false })\r\n        .then(res => {\r\n          if (res.data.status === 200) {\r\n            this.setState({ status: \"Running\" });\r\n          } else if (res.data.status === 409) {\r\n            this.setState({ startWhenCoolingDialog: true });\r\n          }\r\n        });\r\n  }\r\n\r\n  forceRunProfile() {\r\n    axios.post('/api/run', { override: true })\r\n      .then(res => {\r\n        if (res.data.status === 200) {\r\n          this.setState({ status: \"Running\", startWhenCoolingDialog: false  });\r\n        }\r\n      });\r\n  }\r\n\r\n  stop() {\r\n    axios.post('/api/stop', { reason: \"test\" })\r\n      .then(res => {\r\n        if (res.data.status === 200) {\r\n          this.setState({ status: \"Ready\" });\r\n        }\r\n      });\r\n  }\r\n\r\n  cancelClicked() {\r\n    this.setState({ startWhenCoolingDialog: false });\r\n  }\r\n\r\n  coolingDialogClose() {\r\n    this.setState({ coolingDialog: false });\r\n  }\r\n\r\n  render() {\r\n    const isRunning = this.state.status === \"Preheat\" || this.state.status === \"Running\" || this.state.status === \"Peak\" ;\r\n    let stopStartButton;\r\n    if (isRunning) {\r\n      stopStartButton = <this.StopButton onClick={this.stop} startIcon={<StopIcon />} variant=\"contained\" color=\"primary\">Stop</this.StopButton>;\r\n    } else {\r\n      stopStartButton = <this.StartButton onClick={this.runProfile} startIcon={<PlayArrowIcon />} variant=\"contained\" color=\"primary\">Start</this.StartButton>;\r\n    }\r\n    return (\r\n      <>\r\n        <StatusBar />\r\n\r\n        <Dialog open={this.state.startWhenCoolingDialog} onClose={this.cancelClicked} maxWidth='xs' fullWidth>\r\n          <DialogTitle>\r\n            Oven still cooling\r\n          </DialogTitle>\r\n          <DialogContent>\r\n            Start profile anyway?\r\n          </DialogContent>\r\n          <DialogActions>\r\n            <Button onClick={this.cancelClicked} color=\"primary\" variant='contained'>\r\n              Cancel\r\n            </Button>\r\n            <Button onClick={this.forceRunProfile} color=\"primary\" variant='contained'>\r\n              Start Anyway\r\n            </Button>\r\n          </DialogActions>\r\n        </Dialog>\r\n\r\n        <Dialog open={this.state.coolingDialog} onClose={this.coolingDialogClose} maxWidth='xs' fullWidth>\r\n          <DialogTitle>\r\n            Cooling Started\r\n          </DialogTitle>\r\n          <DialogContent>\r\n            Please open oven door.\r\n          </DialogContent>\r\n          <DialogActions>\r\n            <Button onClick={this.coolingDialogClose} color=\"primary\" variant='contained'>\r\n              Ok\r\n            </Button>\r\n          </DialogActions>\r\n        </Dialog>\r\n\r\n        <Container maxWidth={false}>\r\n          \r\n          <Grid container>\r\n            <Hidden xsDown>\r\n              <Grid item sm={2}>\r\n                <Box sx={{ paddingTop: 20 }}>\r\n                  <Paper>\r\n                    <Stepper activeStep={this.state.activeStep} orientation='vertical' square={false}>\r\n                      {this.steps.map((step, index) => (\r\n                        <Step key={step.label} >\r\n                          <StepLabel>\r\n                            <Typography variant='subtitle2' align='left'>\r\n                              {step.label}\r\n                            </Typography>\r\n                          </StepLabel>\r\n                        </Step>\r\n                      ))}\r\n                    </Stepper>\r\n                  </Paper>\r\n                </Box>\r\n              </Grid>\r\n            </Hidden>\r\n              \r\n            \r\n            <Grid item sm={10}>\r\n              <div style={{ paddingTop: \"20px\", width: '91%', margin: '0 0 0 auto', minWidth: 350 }}>\r\n                <Paper>\r\n                  <Hidden smDown>\r\n                    <Typography align='center' variant='h5'>\r\n                      <u>{this.state.currentProfile.name}</u>\r\n                    </Typography>\r\n                  </Hidden>\r\n                  <div style={{padding: '10px 10px 15px 10px '}}>\r\n                    <Profile draggable={false} profile={this.state.currentProfile} historicTemps={this.state.historicTemperature}/>\r\n                  </div>\r\n                </Paper>\r\n              </div>\r\n            </Grid>\r\n          </Grid>\r\n\r\n          <Grid container spacing={3} alignItems=\"center\" justifyContent='space-between' style={{ paddingTop: '15px' }}>\r\n            <Grid item xs={5}>\r\n              <Hidden mdUp>\r\n                <Paper style={{ padding: '6px 7px 6px 10px', minWidth: 285 }}>\r\n                  <Typography noWrap style={{width: 270}}>\r\n                    Profile: {this.state.currentProfile.name}\r\n                  </Typography>\r\n                </Paper>\r\n              </Hidden>\r\n            </Grid>\r\n            \r\n            \r\n            <Grid item>   \r\n              <Grid container spacing={3}>\r\n                <Grid item>\r\n                  <Button component={Link} to={{ pathname: '/profileList' }} startIcon={<ListAltIcon />} variant=\"contained\" color=\"primary\" >Profile List</Button>\r\n                </Grid>\r\n                <Grid item>\r\n                  <Button component={Link} to={{ pathname: '/editProfile', state: { profile: this.state.currentProfile, tempHistory: this.state.historicTemperature } }} startIcon={<EditIcon />} variant=\"contained\" color=\"primary\" >Edit</Button>\r\n                </Grid>\r\n                <Grid item>\r\n                  {stopStartButton}\r\n                </Grid>\r\n              </Grid>\r\n            </Grid>\r\n          </Grid>\r\n        </Container>\r\n      </>\r\n    );\r\n  }\r\n}\r\n\r\nexport default Home;","import { React, Component } from 'react';\r\nimport Profile from '../components/Profile';\r\nimport { Button, Grid, Dialog, DialogTitle, DialogContent, DialogActions, IconButton, Container, Typography, Box } from '@material-ui/core';\r\nimport { DataGrid } from '@material-ui/data-grid'\r\nimport { Link, withRouter } from \"react-router-dom\";\r\nimport axios from 'axios';\r\nimport CancelIcon from '@material-ui/icons/Cancel';\r\nimport DoneIcon from '@material-ui/icons/Done';\r\nimport PublishIcon from '@material-ui/icons/Publish';\r\nimport SaveAltIcon from '@material-ui/icons/SaveAlt';\r\nimport { withStyles } from '@material-ui/core/styles';\r\nimport EditIcon from '@material-ui/icons/Edit';\r\nimport CloseIcon from '@material-ui/icons/Close';\r\nimport StatusBar from '../components/StatusBar';\r\nimport DeleteIcon from '@material-ui/icons/Delete';\r\nimport FileSaver from 'file-saver';\r\nimport NoteAddIcon from '@material-ui/icons/NoteAdd';\r\n\r\nclass ProfileList extends Component {\r\n  constructor() {\r\n    super();\r\n    var isLocal = false;\r\n    if (window.location.hostname === \"localhost\" || window.location.hostname === \"127.0.0.1\" || window.location.hostname === \"\") {\r\n      isLocal = true;\r\n    }\r\n    this.state = ({\r\n      profiles: [],\r\n      activeItem: \"\",\r\n      dialog: false,\r\n      forceLoadDialog: false,\r\n      allowUploadDownload: !isLocal,\r\n      deleteDialog: false,\r\n      saveProfileError: '',\r\n      saveProfileErrorDialog: false,\r\n    });\r\n    this.loadClicked = this.loadClicked.bind(this);\r\n    this.forceLoadClicked = this.forceLoadClicked.bind(this);\r\n    this.handleItemClick = this.handleItemClick.bind(this);\r\n    this.handleDialogClose = this.handleDialogClose.bind(this);\r\n    this.downloadProfile = this.downloadProfile.bind(this);\r\n    this.fileChanged = this.fileChanged.bind(this);\r\n    this.handleForceDialogClose = this.handleForceDialogClose.bind(this);\r\n    this.handleDeleteDialogClose = this.handleDeleteDialogClose.bind(this);\r\n    this.deleteClicked = this.deleteClicked.bind(this);\r\n    this.deleteProfile = this.deleteProfile.bind(this);\r\n    this.saveProfileErrorClose = this.saveProfileErrorClose.bind(this);\r\n  }\r\n\r\n  SelectButton = withStyles({\r\n    root: {\r\n      backgroundColor: '#00ba16',\r\n      '&:hover': {\r\n        backgroundColor: '#009612'\r\n      }\r\n    }\r\n  })(Button);\r\n\r\n  DeleteButton = withStyles({\r\n    root: {\r\n      backgroundColor: '#bf0000',\r\n      '&:hover': {\r\n        backgroundColor: '#870000'\r\n      }\r\n    }\r\n  })(Button);\r\n\r\n  columns = [\r\n    {\r\n      field: 'name',\r\n      headerName: 'Profile Name',\r\n      width: 250,\r\n    },\r\n    {\r\n      field: 'last_run',\r\n      headerName: 'Last Loaded',\r\n      type: 'dateTime',\r\n      width: 180,\r\n      editable: false,\r\n      valueFormatter: (params) => {\r\n        if (params.value === 0) {\r\n          return 'never';\r\n        } else {\r\n          return new Date(params.value).toLocaleString();\r\n        }\r\n      }\r\n    },\r\n    {\r\n      field: 'date_created',\r\n      headerName: 'Date Created',\r\n      type: 'dateTime',\r\n      width: 180,\r\n      editable: false,\r\n      valueFormatter: (params) => {\r\n        if (params.value === 0) {\r\n          return 'n/a';\r\n        } else {\r\n          return new Date(params.value).toLocaleString();\r\n        }\r\n      }\r\n    },\r\n    {\r\n      field: 'is_default',\r\n      headerName: 'Default',\r\n      width: 130,\r\n      valueFormatter: (params) => {\r\n        if (!params.value) {\r\n          return '';\r\n        } else {\r\n          if (params.value === true) {\r\n            return 'Yes';\r\n          }\r\n        }\r\n      }\r\n    }\r\n  ];\r\n\r\n\r\n  handleItemClick(e) {\r\n    this.setState({ activeItem: e.row })\r\n    this.setState({ dialog: true });\r\n  }\r\n\r\n  handleDialogClose() {\r\n    this.setState({ dialog: false });\r\n  }\r\n\r\n  handleForceDialogClose() {\r\n    this.setState({ forceLoadDialog: false });\r\n  }\r\n\r\n  handleDeleteDialogClose() {\r\n    this.setState({ deleteDialog: false });\r\n  }\r\n\r\n  componentDidMount() {\r\n    this.getData();\r\n  }\r\n\r\n  getData() {\r\n    fetch('/api/reflow_profiles/all')\r\n      .then(response => response.json())\r\n      .then(result => {\r\n        result.forEach(element => {\r\n          element['id'] = element.name;\r\n        });\r\n        this.setState({ profiles: result });\r\n      });\r\n  }\r\n\r\n  loadClicked() {\r\n    axios.post('/api/reflow_profiles/load', { profile_name: this.state.activeItem.name, force_load: false })\r\n      .then(res => {\r\n        //check if response is ok or if validation failed\r\n        if (res.data.status === 200) {\r\n          //go to home page\r\n          const { history } = this.props;\r\n          if (history) history.push('/');\r\n        }\r\n        else if (res.data.status === 409) {\r\n          console.log('got 409')\r\n          this.setState({ forceLoadDialog: true });\r\n        }\r\n      });\r\n  }\r\n\r\n  forceLoadClicked() {\r\n    axios.post('/api/reflow_profiles/load', { profile_name: this.state.activeItem.name, force_load: true })\r\n      .then(res => {\r\n        //check if response is ok or if validation failed\r\n        if (res.data.status === 200) {\r\n          //go to home page\r\n          const { history } = this.props;\r\n          if (history) history.push('/');\r\n        }\r\n      });\r\n  }\r\n\r\n  downloadProfile() {\r\n    var downloadableProfile = this.state.activeItem;\r\n    delete downloadableProfile['id'];\r\n    delete downloadableProfile['is_default'];\r\n    var blob = new Blob([JSON.stringify(downloadableProfile, null, 3)], { type: \"text/plain;charset=utf-8\" });\r\n    FileSaver.saveAs(blob, downloadableProfile.name + \".json\");\r\n  }\r\n\r\n  fileChanged(e) {\r\n    const fileReader = new FileReader();\r\n    fileReader.readAsText(e.target.files[0], \"UTF-8\");\r\n    fileReader.onload = (e) => {\r\n      var uploadedFile = JSON.parse(e.target.result);\r\n      axios.post('/api/reflow_profiles/save', uploadedFile)\r\n        .then(res => {\r\n          if (res.data.status === 200) {\r\n            this.getData();\r\n          } else {\r\n            this.setState({ saveProfileError: res.data.message, saveProfileErrorDialog: true });\r\n          }\r\n        });\r\n    };\r\n  }\r\n\r\n  deleteProfile() {\r\n    axios.post('/api/reflow_profiles/delete', { profile_name: this.state.activeItem.name })\r\n      .then(res => {\r\n        this.getData();\r\n        this.setState({ deleteDialog: false, dialog: false });\r\n      });\r\n  }\r\n\r\n  deleteClicked() {\r\n    this.setState({ deleteDialog: true });\r\n  }\r\n\r\n  saveProfileErrorClose() {\r\n    this.setState({ saveProfileErrorDialog: false });\r\n  }\r\n\r\n  render() {\r\n    var deleteButton = <this.DeleteButton startIcon={<DeleteIcon />} variant='contained' color='primary' onClick={this.deleteClicked}>Delete</this.DeleteButton>;\r\n    var downloadButton = <Button startIcon={<SaveAltIcon />} variant=\"contained\" color=\"primary\" onClick={this.downloadProfile}>Download</Button>;\r\n    if (this.state.activeItem) {\r\n      if (this.state.activeItem.hasOwnProperty('is_default')) {\r\n        if (this.state.activeItem.is_default === true) {\r\n          deleteButton = <></>;\r\n        }\r\n      }\r\n    }\r\n\r\n    return (\r\n      <>\r\n        <StatusBar />\r\n        <Dialog onClose={this.handleDialogClose} open={this.state.dialog} maxWidth='lg' fullWidth>\r\n          <DialogTitle>\r\n            <Grid container justifyContent='space-between'>\r\n              <Grid item>\r\n                <Typography noWrap style={{width: 450, paddingTop: 10}}>\r\n                  {this.state.activeItem.name}\r\n                </Typography>\r\n              </Grid>\r\n              <Grid item>\r\n                <IconButton aria-label=\"close\" onClick={this.handleDialogClose}>\r\n                  <CloseIcon />\r\n                </IconButton>\r\n              </Grid>\r\n            </Grid>\r\n          </DialogTitle>\r\n          <DialogContent>\r\n            <Grid container justifyContent='center'>\r\n              <Box width=\"73%\" alignItems='center'>\r\n                <Profile draggable={false} profile={this.state.activeItem} historicTemps={[]} />\r\n              </Box>\r\n            </Grid>\r\n          </DialogContent>\r\n          <DialogActions>\r\n            <Grid container justifyContent='space-between'>\r\n              <Grid item>\r\n                {deleteButton}\r\n              </Grid>\r\n              <Grid item>\r\n                <Grid container spacing={2}>\r\n                  <Grid item>\r\n                    {this.state.allowUploadDownload && downloadButton}\r\n                  </Grid>\r\n                  <Grid item>\r\n                    <Button component={Link} to={{ pathname: '/editProfile', state: { profile: this.state.activeItem } }} startIcon={<EditIcon />} variant=\"contained\" color=\"primary\">Edit</Button>\r\n                  </Grid>\r\n                  <Grid item>\r\n                    <this.SelectButton onClick={this.loadClicked} startIcon={<DoneIcon />} variant=\"contained\" color='primary'>Load</this.SelectButton>\r\n                  </Grid>\r\n                </Grid>\r\n              </Grid>\r\n            </Grid>\r\n          </DialogActions>\r\n        </Dialog>\r\n\r\n        <Dialog open={this.state.forceLoadDialog}>\r\n          <DialogTitle>\r\n            Oven Currently Running\r\n          </DialogTitle>\r\n          <DialogContent>\r\n            Stop oven and load profile?\r\n          </DialogContent>\r\n          <DialogActions>\r\n            <Button onClick={this.handleForceDialogClose} color=\"primary\" variant='contained'>\r\n              Cancel\r\n            </Button>\r\n            <Button onClick={this.forceLoadClicked} color=\"primary\" variant='contained'>\r\n              Force Load\r\n            </Button>\r\n          </DialogActions>\r\n        </Dialog>\r\n\r\n        <Dialog open={this.state.deleteDialog} onClose={this.handleDeleteDialogClose}>\r\n          <DialogTitle>\r\n            Delete Profile\r\n          </DialogTitle>\r\n          <DialogContent>\r\n            Are you sure you want to delete \"{this.state.activeItem.name}\"?\r\n          </DialogContent>\r\n          <DialogActions>\r\n            <Button onClick={this.handleDeleteDialogClose} color=\"primary\" variant='contained'>\r\n              Cancel\r\n            </Button>\r\n            <Button onClick={this.deleteProfile} color=\"primary\" variant='contained'>\r\n              Yes\r\n            </Button>\r\n          </DialogActions>\r\n        </Dialog>\r\n\r\n        <Dialog open={this.state.saveProfileErrorDialog} onClose={this.saveProfileErrorClose}>\r\n          <DialogTitle>\r\n            Error saving profile\r\n          </DialogTitle>\r\n          <DialogContent>\r\n            {this.state.saveProfileError}\r\n          </DialogContent>\r\n          <DialogActions>\r\n            <Button onClick={this.saveProfileErrorClose} color=\"primary\" variant='contained'>\r\n              OK\r\n            </Button>\r\n          </DialogActions>\r\n        </Dialog>\r\n\r\n\r\n        <Container maxWidth={false}>\r\n          <div style={{ height: window.innerHeight - 120, paddingBottom: 10, paddingTop: 10 }}>\r\n            <DataGrid\r\n              rows={this.state.profiles}\r\n              rowHeight={45}\r\n              columns={this.columns}\r\n              pagination={true}\r\n              autoPageSize\r\n              checkboxSelection={false}\r\n              disableMultipleSelection={true}\r\n              onRowClick={this.handleItemClick}\r\n              sortingOrder={['desc', 'asc', null]}\r\n              sortModel={[{ field: 'is_default', sort: 'desc' }]}\r\n            />\r\n          </div>\r\n        </Container>\r\n\r\n        <Container maxWidth={false}>\r\n          <Grid container spacing={3} justifyContent=\"flex-end\" >\r\n            <Grid item >\r\n              <Button component={Link} to=\"/\" startIcon={<CancelIcon />} variant=\"contained\" color=\"primary\">Cancel</Button>\r\n            </Grid>\r\n            {this.state.allowUploadDownload &&\r\n              <Grid item>\r\n                <Button startIcon={<PublishIcon />} variant=\"contained\" color=\"primary\" component=\"label\" >Upload<input type=\"file\" accept=\"application/JSON\" hidden onChange={this.fileChanged} /></Button>\r\n              </Grid>\r\n            }\r\n            <Grid item>\r\n              <Button component={Link} to={{\r\n                pathname: '/editProfile', state: {\r\n                  profile: {\r\n                    name: \"new_profile\",\r\n                    date_created: Date.now(),\r\n                    last_run: 0,\r\n                    datapoints: [\r\n                      {\r\n                        x: 0,\r\n                        y: 30\r\n                      },\r\n                      {\r\n                        x: 75,\r\n                        y: 30\r\n                      },\r\n                      {\r\n                        x: 150,\r\n                        y: 30\r\n                      },\r\n                      {\r\n                        x: 225,\r\n                        y: 30\r\n                      },\r\n                      {\r\n                        x: 300,\r\n                        y: 30\r\n                      },\r\n                      {\r\n                        x: 375,\r\n                        y: 30\r\n                      }\r\n                    ]\r\n                  }\r\n                }\r\n              }} startIcon={<NoteAddIcon />} variant=\"contained\" color=\"primary\" >Create New</Button>\r\n            </Grid>\r\n          </Grid>\r\n        </Container>\r\n\r\n\r\n\r\n      </>\r\n    );\r\n  }\r\n}\r\n\r\nexport default withRouter(ProfileList);","import React, { Component } from \"react\";\r\nimport Typography from '@material-ui/core/Typography';\r\nimport StatusBar from '../components/StatusBar';\r\n\r\nclass NotFound extends Component {\r\n\r\n\r\n    render() {\r\n        return (\r\n            <>\r\n                <StatusBar />\r\n                <Typography variant='h5' align='center'>404. Hope you find your way back!</Typography>\r\n            </>\r\n            \r\n        );\r\n    }\r\n}\r\n\r\nexport default NotFound;","import { React, Component } from 'react';\r\nimport Profile from '../components/Profile';\r\nimport { Button, Input, Grid, Container, InputAdornment, IconButton, Typography, Switch } from '@material-ui/core';\r\nimport Keyboard from 'react-simple-keyboard';\r\nimport { withRouter } from \"react-router-dom\";\r\nimport 'react-simple-keyboard/build/css/index.css';\r\nimport axios from 'axios';\r\nimport CancelIcon from '@material-ui/icons/Cancel';\r\nimport Dialog from '@material-ui/core/Dialog';\r\nimport DialogActions from '@material-ui/core/DialogActions';\r\nimport DialogContent from '@material-ui/core/DialogContent';\r\nimport DialogTitle from '@material-ui/core/DialogTitle';\r\nimport StatusBar from '../components/StatusBar';\r\nimport ClearIcon from '@material-ui/icons/Clear';\r\nimport SaveIcon from '@material-ui/icons/Save';\r\nimport AddIcon from '@material-ui/icons/Add';\r\nimport RemoveIcon from '@material-ui/icons/Remove';\r\nimport ArrowUpwardIcon from '@material-ui/icons/ArrowUpward';\r\nimport ArrowDownwardIcon from '@material-ui/icons/ArrowDownward';\r\nimport ArrowBackIcon from '@material-ui/icons/ArrowBack';\r\nimport ArrowForwardIcon from '@material-ui/icons/ArrowForward';\r\nimport Paper from '@material-ui/core/Paper';\r\nimport Hidden from '@material-ui/core/Hidden';\r\nimport './keyboard.css';\r\nimport { withTheme } from '@material-ui/styles';\r\n\r\n\r\nclass EditProfile extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n\r\n    if (!this.props.location.state) {\r\n      this.props.location.state = {\r\n        profile: {\r\n          name: \"new_profile\",\r\n          date_created: Date.now(),\r\n          last_run: 0,\r\n          datapoints: [\r\n            {\r\n              x: 0,\r\n              y: 30\r\n            },\r\n            {\r\n              x: 75,\r\n              y: 30\r\n            },\r\n            {\r\n              x: 150,\r\n              y: 30\r\n            },\r\n            {\r\n              x: 225,\r\n              y: 30\r\n            },\r\n            {\r\n              x: 300,\r\n              y: 30\r\n            },\r\n            {\r\n              x: 375,\r\n              y: 30\r\n            }\r\n          ]\r\n        }\r\n      };\r\n    }\r\n\r\n    this.state = ({\r\n      loadDialog: false,\r\n      forceLoadDialog: false,\r\n      enterNameDialog: false,\r\n      newName: this.props.location.state.profile.name,\r\n      newDatapoints: this.props.location.state.profile.datapoints,\r\n      newProfile: this.props.location.state.profile,\r\n      currentX: this.props.location.state.profile.datapoints[0].x,\r\n      currentY: this.props.location.state.profile.datapoints[0].y,\r\n      maxTime: 300,\r\n      maxNodes: 6,\r\n      currentPoint: 0,\r\n      slope: 'N/A',\r\n      showHistory: false,\r\n      keyboardLayout: 'default',\r\n      saveProfileError: '',\r\n      saveProfileErrorDialog: false,\r\n      tempHistory: this.props.location.state.tempHistory || [],\r\n      isLocal: window.location.hostname === \"localhost\" || window.location.hostname === \"127.0.0.1\"\r\n    });\r\n    \r\n    this.saveProfile = this.saveProfile.bind(this);\r\n    this.handleInputChange = this.handleInputChange.bind(this);\r\n    this.goBack = this.goBack.bind(this);\r\n    this.loadClicked = this.loadClicked.bind(this);\r\n    this.forceLoadClicked = this.forceLoadClicked.bind(this);\r\n    this.cancelClicked = this.cancelClicked.bind(this);\r\n    this.saveClicked = this.saveClicked.bind(this);\r\n    this.handleKeyboardInput = this.handleKeyboardInput.bind(this);\r\n    this.cancelEnterName = this.cancelEnterName.bind(this);\r\n    this.clearName = this.clearName.bind(this);\r\n    this.dragStart = this.dragStart.bind(this);\r\n    this.drag = this.drag.bind(this);\r\n    this.dragEnd = this.dragEnd.bind(this);\r\n    this.addX = this.addX.bind(this);\r\n    this.subtractX = this.subtractX.bind(this);\r\n    this.addY = this.addY.bind(this);\r\n    this.subtractY = this.subtractY.bind(this);\r\n    this.addTime = this.addTime.bind(this);\r\n    this.subtractTime = this.subtractTime.bind(this);\r\n    this.addNode = this.addNode.bind(this);\r\n    this.subtractNode = this.subtractNode.bind(this);\r\n    this.showHistoryClicked = this.showHistoryClicked.bind(this);\r\n    this.calculateSlopeAtPoint = this.calculateSlopeAtPoint.bind(this);\r\n    this.saveProfileErrorClose = this.saveProfileErrorClose.bind(this);\r\n  }\r\n\r\n  calculateSlopeAtPoint(index) {\r\n    if (index === 0) {\r\n      this.setState({ slope: 'Infinity' });\r\n    } else {\r\n      if (this.state.newProfile.datapoints[index - 1].x === this.state.newProfile.datapoints[index].x) {\r\n        if (this.state.newProfile.datapoints[index - 1].y < this.state.newProfile.datapoints[index].y) {\r\n          this.setState({ slope: 'Infinity' });\r\n        } else {\r\n          this.setState({ slope: '-Infinity' });\r\n        }\r\n      } else {\r\n        var rise = this.state.newProfile.datapoints[index - 1].y - this.state.newProfile.datapoints[index].y;\r\n        var run = this.state.newProfile.datapoints[index - 1].x - this.state.newProfile.datapoints[index].x\r\n        this.setState({ slope: Number.parseFloat(rise / run).toFixed(2) });\r\n      }\r\n    }\r\n  }\r\n\r\n  addX() {\r\n    if (this.state.currentX < this.state.maxTime) {\r\n      var tempProfile = this.state.newProfile;\r\n      tempProfile.datapoints[this.state.currentPoint].x += 1;\r\n      this.setState({ newProfile: tempProfile, currentX: this.state.currentX + 1 });\r\n      this.calculateSlopeAtPoint(this.state.currentPoint);\r\n    }\r\n  }\r\n\r\n  subtractX() {\r\n    if (this.state.currentX > 0) {\r\n      var tempProfile = this.state.newProfile;\r\n      tempProfile.datapoints[this.state.currentPoint].x -= 1;\r\n      this.setState({ newProfile: tempProfile, currentX: this.state.currentX - 1 });\r\n      this.calculateSlopeAtPoint(this.state.currentPoint);\r\n    }\r\n  }\r\n\r\n  addY() {\r\n    if (this.state.currentY < 300) {\r\n      var tempProfile = this.state.newProfile;\r\n      tempProfile.datapoints[this.state.currentPoint].y += 1;\r\n      this.setState({ newProfile: tempProfile, currentY: this.state.currentY + 1 });\r\n      this.calculateSlopeAtPoint(this.state.currentPoint);\r\n    }\r\n  }\r\n\r\n  subtractY() {\r\n    if (this.state.currentY > 0) {\r\n      var tempProfile = this.state.newProfile;\r\n      tempProfile.datapoints[this.state.currentPoint].y -= 1;\r\n      this.setState({ newProfile: tempProfile, currentY: this.state.currentY - 1 });\r\n      this.calculateSlopeAtPoint(this.state.currentPoint);\r\n    }\r\n  }\r\n\r\n  addTime() {\r\n    if (this.state.maxTime < 20000) {\r\n      this.setState({ maxTime: this.state.maxTime + 100 })\r\n    }\r\n  }\r\n\r\n  subtractTime() {\r\n    if (this.state.maxTime > 0 && this.state.maxTime - 100 >= this.state.newProfile.datapoints[this.state.newProfile.datapoints.length - 1].x) {\r\n      this.setState({ maxTime: this.state.maxTime - 100 })\r\n    }\r\n  }\r\n\r\n  addNode() {\r\n    if (this.state.newProfile.datapoints.length < 20) {\r\n      var tempProfile = this.state.newProfile;\r\n      var newPoint = {};\r\n      if (this.state.currentPoint === this.state.newProfile.datapoints.length - 1) {\r\n        if (this.state.newProfile.datapoints[this.state.currentPoint].x <= this.state.maxTime - 50) {\r\n          newPoint.x = tempProfile.datapoints[this.state.currentPoint].x + 25;\r\n          newPoint.y = tempProfile.datapoints[this.state.currentPoint].y;\r\n          tempProfile.datapoints.splice(this.state.currentPoint + 1, 0, newPoint);\r\n          this.setState({ currentPoint: this.state.currentPoint + 1, currentX: newPoint.x, currentY: newPoint.y });\r\n        } else {\r\n          newPoint.x = Math.floor((tempProfile.datapoints[this.state.currentPoint].x + tempProfile.datapoints[this.state.currentPoint - 1].x) / 2);\r\n          newPoint.y = Math.floor((tempProfile.datapoints[this.state.currentPoint].y + tempProfile.datapoints[this.state.currentPoint - 1].y) / 2)\r\n          tempProfile.datapoints.splice(this.state.currentPoint, 0, newPoint);\r\n          this.setState({ currentX: newPoint.x, currentY: newPoint.y });\r\n        }\r\n      } else {\r\n        newPoint.x = Math.floor((tempProfile.datapoints[this.state.currentPoint].x + tempProfile.datapoints[this.state.currentPoint + 1].x) / 2);\r\n        newPoint.y = Math.floor((tempProfile.datapoints[this.state.currentPoint].y + tempProfile.datapoints[this.state.currentPoint + 1].y) / 2)\r\n        tempProfile.datapoints.splice(this.state.currentPoint + 1, 0, newPoint);\r\n        this.setState({ currentPoint: this.state.currentPoint + 1, currentX: newPoint.x, currentY: newPoint.y });\r\n      }\r\n      this.setState({ newProfile: tempProfile, maxNodes: this.state.maxNodes + 1 });\r\n      \r\n    }\r\n  }\r\n\r\n  subtractNode() {\r\n    if (this.state.newProfile.datapoints.length > 2) {\r\n      var tempProfile = this.state.newProfile;\r\n      if (this.state.currentPoint === 0) {\r\n        tempProfile.datapoints.splice(this.state.currentPoint, 1);\r\n        this.setState({\r\n          currentX: this.state.newProfile.datapoints[this.state.currentPoint].x,\r\n          currentY: this.state.newProfile.datapoints[this.state.currentPoint].y\r\n        });\r\n        this.calculateSlopeAtPoint(this.state.currentPoint);\r\n      } else {\r\n        tempProfile.datapoints.splice(this.state.currentPoint, 1);\r\n        this.setState({\r\n          currentPoint: this.state.currentPoint - 1,\r\n          currentX: this.state.newProfile.datapoints[this.state.currentPoint - 1].x,\r\n          currentY: this.state.newProfile.datapoints[this.state.currentPoint - 1].y\r\n        });\r\n        this.calculateSlopeAtPoint(this.state.currentPoint - 1);\r\n      }\r\n      this.setState({ newProfile: tempProfile, maxNodes: this.state.maxNodes - 1 });\r\n    }\r\n  }\r\n\r\n  dragStart(e, datasetIndex, index, value) {\r\n    this.setState({ currentPoint: index, currentX: value.x, currentY: value.y });\r\n    this.calculateSlopeAtPoint(index);\r\n  }\r\n\r\n  drag(e, datasetIndex, index, value) {\r\n    var tempProfile = this.state.newProfile;\r\n    tempProfile.datapoints[index] = value;\r\n    this.setState({ currentX: value.x, currentY: value.y, newProfile: tempProfile });\r\n    this.calculateSlopeAtPoint(index);\r\n  }\r\n\r\n  dragEnd(e, datasetIndex, index, value) {\r\n    var tempProfile = this.state.newProfile;\r\n    tempProfile.datapoints[index] = value;\r\n\r\n    //sort datapoints so that lines don't overlap\r\n    for (let i = 0; i < tempProfile.datapoints.length; i++) {\r\n      for (let j = i; j < tempProfile.datapoints.length; j++) {\r\n        if (tempProfile.datapoints[j].x < tempProfile.datapoints[i].x) {\r\n          //keep track of index/current point\r\n          if (i === index) {\r\n            index = j;\r\n          } else if (j === index) {\r\n            index = i;\r\n          }\r\n          var tempPoint = tempProfile.datapoints[i];\r\n          tempProfile.datapoints[i] = tempProfile.datapoints[j];\r\n          tempProfile.datapoints[j] = tempPoint;\r\n        }\r\n      }\r\n    }\r\n    this.setState({ currentX: value.x, currentY: value.y, currentPoint: index, newProfile: tempProfile });\r\n    this.calculateSlopeAtPoint(index);\r\n  }\r\n\r\n  handleInputChange(e) {\r\n    var tempProfile = this.state.newProfile;\r\n    tempProfile.name = e.target.value;\r\n    this.setState({ newProfile: tempProfile });\r\n  }\r\n\r\n  componentDidMount() {\r\n    this.setState({\r\n      maxTime: Math.ceil(this.state.newProfile.datapoints[this.state.newProfile.datapoints.length - 1].x / 100) * 100,\r\n      maxNodes: this.state.newProfile.datapoints.length\r\n    });\r\n  }\r\n\r\n  goBack() {\r\n    this.props.history.goBack();\r\n  }\r\n\r\n  loadClicked() {\r\n    axios.post('/api/reflow_profiles/load', { profile_name: this.state.newProfile.name, force_load: false })\r\n      .then(res => {\r\n        //check if response is ok or if validation failed\r\n        if (res.data.status === 200) {\r\n          //go to home page\r\n          const { history } = this.props;\r\n          if (history) history.push('/');\r\n        }\r\n        else if (res.data.status === 409) {\r\n          this.setState({ loadDialog: false });\r\n          this.setState({ forceLoadDialog: true });\r\n        }\r\n      });\r\n  }\r\n\r\n  forceLoadClicked() {\r\n    axios.post('/api/reflow_profiles/load', { profile_name: this.state.newProfile.name, force_load: true })\r\n      .then(res => {\r\n        //check if response is ok or if validation failed\r\n        if (res.data.status === 200) {\r\n          //go to home page\r\n          const { history } = this.props;\r\n          if (history) history.push('/');\r\n        }\r\n      });\r\n  }\r\n\r\n  cancelClicked() {\r\n    this.setState({ loadDialog: false, forceLoadDialog: false });\r\n  }\r\n\r\n  saveProfile() {\r\n    this.setState({ enterNameDialog: false });\r\n    var tempProfile = this.state.newProfile;\r\n    tempProfile.date_created = Date.now();\r\n    tempProfile.last_run = 0;\r\n    this.setState({ newProfile: tempProfile });\r\n    axios.post('/api/reflow_profiles/save', this.state.newProfile)\r\n      .then(res => {\r\n        console.log(res.data);\r\n        if (res.data.status === 200) {\r\n          this.setState({ newProfile: res.data.new_profile });\r\n          this.setState({ loadDialog: true });\r\n        } else {\r\n          this.setState({saveProfileError: res.data.message, saveProfileErrorDialog: true});\r\n        }\r\n        \r\n      });\r\n\r\n  }\r\n\r\n  saveClicked() {\r\n    this.setState({ enterNameDialog: true });\r\n  }\r\n\r\n  handleKeyboardInput(button) {\r\n    if (button === '{lock}') {\r\n      if (this.state.keyboardLayout === 'caps' || this.state.keyboardLayout === 'shift') {\r\n        this.setState({ keyboardLayout: 'default' });\r\n      } else {\r\n        this.setState({ keyboardLayout: 'caps' });\r\n      }\r\n    } else if (button === '{shift}') {\r\n      if (this.state.keyboardLayout === 'caps' || this.state.keyboardLayout === 'shift') {\r\n        this.setState({ keyboardLayout: 'default' });\r\n      } else {\r\n        this.setState({ keyboardLayout: 'shift' });\r\n      }\r\n    } else {\r\n      let newName = this.state.newProfile.name;\r\n      if (button === '{bksp}') {\r\n        newName = newName.substring(0, newName.length - 1);\r\n      } else if (button === '{space}') {\r\n        newName += ' ';\r\n      } else if (button === '{enter}') {\r\n        this.saveProfile();\r\n        return;\r\n      } else {\r\n        if (button !== '{tab}') {\r\n          newName += button;\r\n        }\r\n      }\r\n      var tempProfile = this.state.newProfile;\r\n      tempProfile.name = newName;\r\n      this.setState({ newProfile: tempProfile });\r\n      if (this.state.keyboardLayout === 'shift') {\r\n        this.setState({ keyboardLayout: 'default' });\r\n      }\r\n    }\r\n  }\r\n\r\n  cancelEnterName() {\r\n    this.setState({ enterNameDialog: false });\r\n  }\r\n\r\n  clearName() {\r\n    var tempProfile = this.state.newProfile;\r\n    tempProfile.name = \"\";\r\n    this.setState({ newProfile: tempProfile });\r\n  }\r\n\r\n  showHistoryClicked(e) {\r\n    this.setState({ showHistory: e.target.checked });\r\n  }\r\n\r\n  saveProfileErrorClose() {\r\n    this.setState({ saveProfileErrorDialog: false });\r\n  }\r\n\r\n  render() {\r\n    \r\n    var keyboard = <></>;\r\n    if (this.state.isLocal) {\r\n      keyboard = <Keyboard\r\n        theme={this.props.theme.palette.type === 'dark' ? 'hg-theme-dark' : 'hg-theme-default'}\r\n        layoutName={this.state.keyboardLayout}\r\n        layout={{\r\n          default: [\r\n            \"` 1 2 3 4 5 6 7 8 9 0 - = {bksp}\",\r\n            \"{tab} q w e r t y u i o p [ ] \\\\\",\r\n            \"{lock} a s d f g h j k l ; ' {enter}\",\r\n            \"{shift} z x c v b n m , . / {shift}\",\r\n            \"{space}\"\r\n          ],\r\n          shift: [\r\n            \"~ ! @ # $ % ^ & * ( ) _ + {bksp}\",\r\n            \"{tab} Q W E R T Y U I O P { } |\",\r\n            '{lock} A S D F G H J K L : \" {enter}',\r\n            \"{shift} Z X C V B N M < > ? {shift}\",\r\n            \"{space}\"\r\n          ],\r\n          caps: [\r\n            \"~ ! @ # $ % ^ & * ( ) _ + {bksp}\",\r\n            \"{tab} Q W E R T Y U I O P { } |\",\r\n            '{lock} A S D F G H J K L : \" {enter}',\r\n            \"{shift} Z X C V B N M < > ? {shift}\",\r\n            \"{space}\"\r\n          ]\r\n        }}\r\n        onKeyPress={this.handleKeyboardInput}\r\n      />;\r\n    }\r\n\r\n    var historySwitch = <></>;\r\n    if (this.state.tempHistory.length > 1) {\r\n      historySwitch =\r\n        <Grid item>\r\n          <Paper>\r\n            <Grid container justifyContent=\"space-evenly\">\r\n              <Grid item>\r\n                <Typography style={{ paddingLeft: 10 }}>Measured</Typography>\r\n              </Grid>\r\n              <Grid item>\r\n                <Switch\r\n                  checked={this.state.showHistory}\r\n                  onChange={this.showHistoryClicked}\r\n                  size='small'\r\n                  color='secondary'\r\n                />\r\n              </Grid>\r\n            </Grid>\r\n          </Paper>\r\n        </Grid>;\r\n    }\r\n\r\n    var historicDatapoints = []\r\n    if (this.state.showHistory) {\r\n      historicDatapoints = this.state.tempHistory;\r\n    }\r\n\r\n    //https://stackoverflow.com/questions/9461621/format-a-number-as-2-5k-if-a-thousand-or-more-otherwise-900\r\n    var formattedTime = Math.abs(this.state.maxTime) > 999 ? Math.sign(this.state.maxTime) * ((Math.abs(this.state.maxTime) / 1000).toFixed(1)) + 'k' : Math.sign(this.state.maxTime) * Math.abs(this.state.maxTime);\r\n\r\n\r\n    return (\r\n      <>\r\n        <StatusBar />\r\n        <Dialog open={this.state.loadDialog} onClose={this.cancelClicked}>\r\n          <DialogTitle>\r\n            Profile saved\r\n          </DialogTitle>\r\n          <DialogContent>\r\n            Would you like to load the profile now?\r\n          </DialogContent>\r\n          <DialogActions>\r\n            <Button onClick={this.cancelClicked} color=\"primary\" variant='contained'>\r\n              Don't Load\r\n            </Button>\r\n            <Button onClick={this.loadClicked} color=\"primary\" variant='contained' autoFocus>\r\n              Load\r\n            </Button>\r\n          </DialogActions>\r\n        </Dialog>\r\n\r\n        <Dialog open={this.state.saveProfileErrorDialog} onClose={this.saveProfileErrorClose}>\r\n          <DialogTitle>\r\n            Error saving profile\r\n          </DialogTitle>\r\n          <DialogContent>\r\n            {this.state.saveProfileError}\r\n          </DialogContent>\r\n          <DialogActions>\r\n            <Button onClick={this.saveProfileErrorClose} color=\"primary\" variant='contained'>\r\n              OK\r\n            </Button>\r\n          </DialogActions>\r\n        </Dialog>\r\n\r\n        <Dialog open={this.state.forceLoadDialog} onClose={this.cancelClicked}>\r\n          <DialogTitle>\r\n            Oven Currently Running\r\n          </DialogTitle>\r\n          <DialogContent>\r\n            Stop oven and load profile?\r\n          </DialogContent>\r\n          <DialogActions>\r\n            <Button onClick={this.cancelClicked} color=\"primary\" variant='contained'>\r\n              Cancel\r\n            </Button>\r\n            <Button onClick={this.forceLoadClicked} color=\"primary\" variant='contained' autoFocus>\r\n              Force Load\r\n            </Button>\r\n          </DialogActions>\r\n        </Dialog>\r\n\r\n        <Dialog open={this.state.enterNameDialog} maxWidth={'md'} fullWidth onClose={this.cancelEnterName}>\r\n          <DialogTitle align='center'>\r\n            Name your profile:\r\n          </DialogTitle>\r\n          <DialogContent>\r\n            <Grid container justifyContent='center'>\r\n              <Input onChange={this.handleInputChange} label='Profile Name' value={this.state.newProfile.name}\r\n                endAdornment={\r\n                  <InputAdornment position=\"end\">\r\n                    <IconButton onClick={this.clearName}><ClearIcon /></IconButton>\r\n                  </InputAdornment>\r\n                }\r\n              />\r\n            </Grid>\r\n          </DialogContent>\r\n          <DialogActions>\r\n            <Button onClick={this.cancelEnterName} color=\"primary\" variant='contained'>\r\n              Cancel\r\n            </Button>\r\n            <Button onClick={this.saveProfile} color=\"primary\" variant='contained' autoFocus>\r\n              OK\r\n            </Button>\r\n          </DialogActions>\r\n          {keyboard}\r\n        </Dialog>\r\n\r\n        <Container maxWidth={false}>\r\n          <Grid container >\r\n            <Grid item sm={2} lg={2}>\r\n\r\n              <Hidden xsDown>\r\n                <Grid container spacing={1} direction=\"column\" style={{ paddingTop: '5px' }} >\r\n                  <Grid item align='center'>\r\n                    <Typography variant='h6'>\r\n                      ({this.state.currentX}, {this.state.currentY})\r\n                    </Typography>\r\n                    <Typography style={{ fontSize: 13 }}>\r\n                      {this.state.slope} C/Second\r\n                    </Typography>\r\n                  </Grid>\r\n\r\n                  <Grid item style={{minWidth: 180}}>\r\n                    <Paper >\r\n                      <Grid item align='center'>\r\n                      </Grid>\r\n                      <Grid item align='center'>\r\n                        <IconButton color='primary' size='small' onClick={this.addY}><ArrowUpwardIcon /></IconButton>\r\n                      </Grid>\r\n                      <Grid item>\r\n                        <Grid container justifyContent='space-evenly' wrap='nowrap'>\r\n                          <Grid item>\r\n                            <IconButton color='primary' size='small' onClick={this.subtractX}><ArrowBackIcon /></IconButton>\r\n                          </Grid>\r\n                          <Grid item align='center' style={{ minWidth: 15 }}>\r\n\r\n                          </Grid>\r\n                          <Grid item>\r\n                            <IconButton color='primary' size='small' onClick={this.addX}><ArrowForwardIcon /></IconButton>\r\n                          </Grid>\r\n                        </Grid>\r\n                      </Grid>\r\n\r\n                      <Grid item align='center'>\r\n                        <IconButton color='primary' size='small' onClick={this.subtractY}><ArrowDownwardIcon /></IconButton>\r\n                      </Grid>\r\n                    </Paper>\r\n                  </Grid>\r\n\r\n                  <Grid item>\r\n                    <Paper>\r\n                      <Grid item align='center'>\r\n                        <Typography variant='subtitle1'>Nodes</Typography>\r\n                      </Grid>\r\n                      <Grid container spacing={1} justifyContent='space-evenly'>\r\n                        <Grid item>\r\n                          <IconButton color='primary' size='small' onClick={this.subtractNode}><RemoveIcon /></IconButton>\r\n                        </Grid>\r\n                        <Grid item align='center' >\r\n                          <Typography variant='h6' style={{ minWidth: 40 }} >{this.state.maxNodes}</Typography>\r\n                        </Grid>\r\n                        <Grid item>\r\n                          <IconButton color='primary' size='small' onClick={this.addNode}><AddIcon /></IconButton>\r\n                        </Grid>\r\n                      </Grid>\r\n                    </Paper>\r\n                  </Grid>\r\n\r\n                  <Grid item>\r\n                    <Paper>\r\n                      <Grid item align='center'>\r\n                        <Typography variant='subtitle1' >Max Time</Typography>\r\n                      </Grid>\r\n                      <Grid container spacing={1} justifyContent='space-evenly'>\r\n                        <Grid item>\r\n                          <IconButton color='primary' size='small' onClick={this.subtractTime}><RemoveIcon /></IconButton>\r\n                        </Grid>\r\n                        <Grid item align='center' >\r\n                          <Typography variant='h6' style={{ minWidth: 40, fontSize: 17 }}>{formattedTime}</Typography>\r\n                        </Grid>\r\n                        <Grid item>\r\n                          <IconButton color='primary' size='small' onClick={this.addTime}><AddIcon /></IconButton>\r\n                        </Grid>\r\n                      </Grid>\r\n                    </Paper>\r\n                  </Grid>\r\n\r\n                  {historySwitch}\r\n\r\n                </Grid>\r\n              </Hidden>\r\n\r\n            </Grid>\r\n\r\n            <Grid item sm={10}>\r\n              <Hidden smDown>\r\n                <Typography align='center' variant='h5' style={{ paddingTop: \"20px\" }}>\r\n                  <u>{this.state.newProfile.name}</u>\r\n                </Typography>\r\n              </Hidden>\r\n              <div style={{ paddingTop: \"20px\", width: '91%', marginLeft: 'auto', minWidth: 350 }}>\r\n                <Profile\r\n                  draggable={true}\r\n                  profile={this.state.newProfile}\r\n                  dragStart={this.dragStart}\r\n                  drag={this.drag}\r\n                  dragEnd={this.dragEnd}\r\n                  maxTime={this.state.maxTime}\r\n                  activePoint={this.state.currentPoint}\r\n                  historicTemps={historicDatapoints}\r\n                />\r\n              </div>\r\n            </Grid>\r\n          </Grid>\r\n        </Container>\r\n\r\n        <Container maxWidth={false}>\r\n          <Grid container spacing={3} alignItems=\"center\" justifyContent=\"space-between\" style={{ paddingTop: '15px' }}>\r\n            <Grid item xs={7}>\r\n              <Hidden mdUp>\r\n                <Paper style={{ padding: '6px 7px 6px 10px', minWidth: 420 }}>\r\n                  <Typography noWrap style={{ width: 410 }}>\r\n                    Profile: {this.state.newProfile.name}\r\n                  </Typography>\r\n                </Paper>\r\n              </Hidden>\r\n            </Grid>\r\n            <Grid item>\r\n              <Grid container spacing={3}>\r\n                <Grid item>\r\n                  <Button onClick={this.goBack} startIcon={<CancelIcon />} variant=\"contained\" color=\"primary\">Cancel</Button>\r\n                </Grid>\r\n                <Grid item>\r\n                  <Button onClick={this.saveClicked} startIcon={<SaveIcon />} variant=\"contained\" color=\"primary\">Save</Button>\r\n                </Grid>\r\n              </Grid>\r\n            </Grid>\r\n          </Grid>\r\n        </Container>\r\n\r\n        {/*<Keyboard theme={\"hg-theme-default\"} />*/}\r\n      </>\r\n    );\r\n  }\r\n}\r\n\r\nexport default withRouter(withTheme(EditProfile));","import React, { Component } from \"react\";\r\nimport Accordion from '@material-ui/core/Accordion';\r\nimport AccordionDetails from '@material-ui/core/AccordionDetails';\r\nimport AccordionSummary from '@material-ui/core/AccordionSummary';\r\nimport Typography from '@material-ui/core/Typography';\r\nimport ExpandMoreIcon from '@material-ui/icons/ExpandMore';\r\nimport Grid from '@material-ui/core/Grid';\r\nimport TextField from '@material-ui/core/TextField';\r\nimport Checkbox from '@material-ui/core/Checkbox';\r\nimport Button from '@material-ui/core/Button';\r\nimport axios from 'axios';\r\nimport Dialog from '@material-ui/core/Dialog';\r\nimport DialogActions from '@material-ui/core/DialogActions';\r\nimport DialogContent from '@material-ui/core/DialogContent';\r\nimport DialogTitle from '@material-ui/core/DialogTitle';\r\nimport './keyboard.css';\r\nimport Keyboard from \"react-simple-keyboard\";\r\nimport { withTheme } from '@material-ui/styles';\r\n\r\nclass NetworkSettings extends Component {\r\n    constructor(props) {\r\n        super(props);\r\n        this.state = {\r\n            port: 3001,\r\n            remoteConnections: true,\r\n            messageToSend: \"\",\r\n            inputChanged: false,\r\n            focused: false,\r\n            currentFocused: null,\r\n            focusInputChange: null,\r\n            isLocal: window.location.hostname === \"localhost\" || window.location.hostname === \"127.0.0.1\"\r\n        };\r\n        this.save = this.save.bind(this);\r\n        this.handleSwitch = this.handleSwitch.bind(this);\r\n        this.handlePortChange = this.handlePortChange.bind(this);\r\n        this.handleMessageChange = this.handleMessageChange.bind(this);\r\n        this.sendMessage = this.sendMessage.bind(this);\r\n        this.handleOnFocus = this.handleOnFocus.bind(this);\r\n        this.handleKeyboardInput = this.handleKeyboardInput.bind(this);\r\n        this.handleInputClose = this.handleInputClose.bind(this);\r\n        this.handleDialogInput = this.handleDialogInput.bind(this);\r\n    }\r\n\r\n    componentDidMount() {\r\n        fetch('/api/settings/network')\r\n            .then(response => response.json())\r\n            .then(result => {\r\n                this.setState({ port: result.port, remoteConnections: result.remote_connections });\r\n            });\r\n    }\r\n\r\n    save() {\r\n        var newSettings = {};\r\n        newSettings.port = this.state.port;\r\n        newSettings.remote_connections = this.state.remoteConnections;\r\n        axios.post('/api/settings/network', newSettings)\r\n            .then(res => {\r\n                if (res.data.status === 200) {\r\n                    this.setState({ inputChanged: false });\r\n                }\r\n            });\r\n    }\r\n\r\n    handleSwitch(e) {\r\n        this.setState({ remoteConnections: e.target.checked, inputChanged: true });\r\n    }\r\n\r\n    handlePortChange(e) {\r\n        this.setState({ port: e.target.value, inputChanged: true });\r\n    }\r\n\r\n    handleMessageChange(e) {\r\n        this.setState({ messageToSend: e.target.value });\r\n    }\r\n\r\n    sendMessage() {\r\n        axios.post('/api/send_message', { message: this.state.messageToSend })\r\n            .then(res => {});\r\n    }\r\n\r\n    handleOnFocus(e, changeFunction, name) {\r\n        if (this.state.isLocal) {\r\n            this.setState({ focusInputChange: changeFunction, currentFocused: name, focused: true });\r\n        }\r\n    }\r\n\r\n    handleInputClose() {\r\n        //get rid of trailing '.' if needed\r\n        var tempString = this.state[this.state.currentFocused].toString();\r\n        if (tempString === '') {\r\n            tempString = '3001'\r\n        } else if (tempString.charAt(tempString.length - 1) === '.') {\r\n\r\n            tempString = tempString.substring(0, tempString.length - 1);\r\n        }\r\n\r\n        //this is super bad code but idk how else to do this\r\n        //i am making a 'fake' event and setting the value so that the method can access it\r\n        var e = {};\r\n        e.target = {};\r\n        e.target.value = tempString;\r\n\r\n        this.state.focusInputChange(e);\r\n        this.setState({ focused: false, inputValue: '' });\r\n    }\r\n\r\n    handleKeyboardInput(button) {\r\n        var tempInput = this.state[this.state.currentFocused].toString();\r\n        if (button === '{bksp}') {\r\n            tempInput = tempInput.substring(0, tempInput.length - 1);\r\n        } else {\r\n            tempInput += button;\r\n        }\r\n\r\n        //again, really bad code. Maybe you can fix it somehow\r\n        var e = {};\r\n        e.target = {};\r\n        e.target.value = tempInput;\r\n        this.state.focusInputChange(e);\r\n    }\r\n\r\n    handleDialogInput(e) {\r\n        this.state.focusInputChange(e);\r\n    }\r\n\r\n    render() {\r\n        var inputDialog = <></>;\r\n        if (this.state.focused) {\r\n            inputDialog = <Dialog open={this.state.focused} onClose={this.handleInputClose} fullWidth>\r\n                <DialogTitle>\r\n                    <Typography>\r\n                        Enter value\r\n                    </Typography>\r\n                </DialogTitle>\r\n                <DialogContent>\r\n                    <Grid container spacing={1} justifyContent='space-between'>\r\n                        <Grid item>\r\n                            <TextField\r\n                                variant=\"outlined\"\r\n                                value={this.state[this.state.currentFocused]}\r\n                                onChange={this.handleDialogInput}\r\n                            />\r\n                        </Grid>\r\n                        <Grid item xs={6}>\r\n                            <Keyboard\r\n                                onKeyPress={this.handleKeyboardInput}\r\n                                layout={{\r\n                                    default: [\r\n                                        \"7 8 9\",\r\n                                        \"4 5 6\",\r\n                                        \"1 2 3\",\r\n                                        \"0 {bksp}\"\r\n                                    ]\r\n                                }}\r\n                                display={{\r\n                                    '{bksp}': \"<\"\r\n                                }}\r\n                                theme={this.props.theme.palette.type === 'dark' ? 'hg-theme-dark' : 'hg-theme-default'}\r\n                            />\r\n                        </Grid>\r\n                    </Grid>\r\n                </DialogContent>\r\n                <DialogActions>\r\n                    <Button color='primary' variant='contained' onClick={this.handleInputClose}>OK</Button>\r\n                </DialogActions>\r\n            </Dialog>;\r\n        }\r\n        return (\r\n            <>\r\n                {inputDialog}\r\n                <Accordion >\r\n                    <AccordionSummary\r\n                        expandIcon={<ExpandMoreIcon />}\r\n                        aria-controls=\"panel1bh-content\"\r\n                        id=\"panel1bh-header\"\r\n                    >\r\n                        <Typography variant='h6'>Network</Typography>\r\n                    </AccordionSummary>\r\n                    <AccordionDetails>\r\n                        <Grid container direction='column' alignItems=\"flex-start\" spacing={3}>\r\n                            <Grid item>\r\n                                <Typography align='left'>\r\n                                    Server Port\r\n                                </Typography>\r\n                                <TextField\r\n                                    variant=\"outlined\"\r\n                                    type='number'\r\n                                    onChange={this.handlePortChange}\r\n                                    onClick={(e) => this.handleOnFocus(e, this.handlePortChange, 'port')}\r\n                                    value={this.state.port} />\r\n                            </Grid>\r\n                            <Grid item>\r\n                                <Typography align='left'>\r\n                                    Allow Remote Connections\r\n                                </Typography>\r\n                                <Checkbox checked={this.state.remoteConnections} onChange={this.handleSwitch} color='primary' />\r\n                            </Grid>\r\n\r\n                            {/*\r\n                            <Grid item>\r\n                                <Typography align='left'>\r\n                                    Send message to all connections\r\n                                </Typography>\r\n                                <TextField variant=\"outlined\" onChange={this.handleMessageChange} value={this.state.messageToSend} />\r\n                                <Button variant='contained' color='primary' onClick={this.sendMessage}>\r\n                                    Send\r\n                                </Button>\r\n                            </Grid>\r\n                            */}\r\n                            \r\n                            <Grid container justifyContent='flex-end' spacing={3}>\r\n                                <Grid item>\r\n                                    <Typography variant='caption'>\r\n                                        Changes will be applied after a manual restart of the server.\r\n                                    </Typography>\r\n                                </Grid>\r\n                                <Grid item>\r\n                                    <Button variant='contained' color='primary' disabled={!this.state.inputChanged} onClick={this.save}>\r\n                                        Save\r\n                                    </Button>\r\n                                </Grid>\r\n                            </Grid>\r\n                        </Grid>\r\n                    </AccordionDetails>\r\n                </Accordion>\r\n            </>\r\n        );\r\n    }\r\n}\r\n\r\nexport default withTheme(NetworkSettings);","import React, { Component } from \"react\";\r\nimport Accordion from '@material-ui/core/Accordion';\r\nimport AccordionDetails from '@material-ui/core/AccordionDetails';\r\nimport AccordionSummary from '@material-ui/core/AccordionSummary';\r\nimport Typography from '@material-ui/core/Typography';\r\nimport { Button, TextField, Grid } from \"@material-ui/core\";\r\nimport ExpandMoreIcon from '@material-ui/icons/ExpandMore';\r\nimport Checkbox from '@material-ui/core/Checkbox';\r\nimport InputAdornment from '@material-ui/core/InputAdornment';\r\nimport axios from 'axios';\r\nimport Dialog from '@material-ui/core/Dialog';\r\nimport DialogActions from '@material-ui/core/DialogActions';\r\nimport DialogContent from '@material-ui/core/DialogContent';\r\nimport DialogTitle from '@material-ui/core/DialogTitle';\r\nimport './keyboard.css';\r\nimport Keyboard from \"react-simple-keyboard\";\r\nimport { withTheme } from '@material-ui/styles';\r\n\r\nclass PidSettings extends Component {\r\n    constructor(props) {\r\n        super(props);\r\n        this.state = {\r\n            p: 0,\r\n            i: 0,\r\n            d: 0,\r\n            useCoolingFan: false,\r\n            lookAhead: 0,\r\n            preheat: false,\r\n            preheatPower: 0,\r\n            alwaysHitPeak: false,\r\n            inputChanged: false,\r\n            focused: false,\r\n            currentFocused: null,\r\n            focusInputChange: null,\r\n            isLocal: window.location.hostname === \"localhost\" || window.location.hostname === \"127.0.0.1\"\r\n        };\r\n        this.save = this.save.bind(this);\r\n        this.handlePChange = this.handlePChange.bind(this);\r\n        this.handleIChange = this.handleIChange.bind(this);\r\n        this.handleDChange = this.handleDChange.bind(this);\r\n        this.handleCoolingFanChange = this.handleCoolingFanChange.bind(this);\r\n        this.handlePreheatChange = this.handlePreheatChange.bind(this);\r\n        this.handleLookAheadChange = this.handleLookAheadChange.bind(this);\r\n        this.handlePreheatPowerChange = this.handlePreheatPowerChange.bind(this);\r\n        this.handleAlwaysHitPeakChange = this.handleAlwaysHitPeakChange.bind(this);\r\n        this.handleOnFocus = this.handleOnFocus.bind(this);\r\n        this.handleKeyboardInput = this.handleKeyboardInput.bind(this);\r\n        this.handleInputClose = this.handleInputClose.bind(this);\r\n        this.handleDialogInput = this.handleDialogInput.bind(this);\r\n    }\r\n\r\n    componentDidMount() {\r\n        fetch('/api/settings/pid')\r\n            .then(response => response.json())\r\n            .then(result => {\r\n                this.setState({\r\n                    p: result.p,\r\n                    i: result.i,\r\n                    d: result.d,\r\n                    useCoolingFan: result.use_cooling_fan,\r\n                    lookAhead: result.look_ahead,\r\n                    preheat: result.preheat,\r\n                    preheatPower: result.preheat_power,\r\n                    alwaysHitPeak: result.always_hit_peak\r\n                });\r\n            });\r\n    }\r\n\r\n    save() {\r\n        var newSettings = {};\r\n        newSettings.p = this.state.p;\r\n        newSettings.i = this.state.i;\r\n        newSettings.d = this.state.d;\r\n        newSettings.use_cooling_fan = this.state.useCoolingFan;\r\n        newSettings.look_ahead = this.state.lookAhead;\r\n        newSettings.preheat = this.state.preheat;\r\n        newSettings.preheat_power = this.state.preheatPower;\r\n        newSettings.always_hit_peak = this.state.alwaysHitPeak;\r\n        axios.post('/api/settings/pid', newSettings)\r\n            .then(res => {\r\n                if (res.data.status === 200) {\r\n                    this.setState({ inputChanged: false });\r\n                }\r\n            });\r\n    }\r\n\r\n    handlePChange(e) {\r\n        this.setState({ p: e.target.value, inputChanged: true });\r\n    }\r\n\r\n    handleIChange(e) {\r\n        this.setState({ i: e.target.value, inputChanged: true });\r\n    }\r\n\r\n    handleDChange(e) {\r\n        this.setState({ d: e.target.value, inputChanged: true });\r\n    }\r\n\r\n    handleCoolingFanChange(e) {\r\n        this.setState({ useCoolingFan: e.target.checked, inputChanged: true });\r\n    }\r\n\r\n    handleLookAheadChange(e) {\r\n        if (e.target.value >= 0) {\r\n            this.setState({ lookAhead: parseInt(e.target.value), inputChanged: true });\r\n        }\r\n    }\r\n\r\n    handlePreheatChange(e) {\r\n        this.setState({ preheat: e.target.checked, inputChanged: true });\r\n    }\r\n\r\n    handlePreheatPowerChange(e) {\r\n        if (e.target.value >= 0 && e.target.value <= 100) {\r\n            this.setState({ preheatPower: e.target.value, inputChanged: true });\r\n        }\r\n    }\r\n\r\n    handleAlwaysHitPeakChange(e) {\r\n        this.setState({ alwaysHitPeak: e.target.checked, inputChanged: true });\r\n    }\r\n\r\n    handleOnFocus(e, changeFunction, name) {\r\n        if (this.state.isLocal) {\r\n            this.setState({ focusInputChange: changeFunction, currentFocused: name, focused: true });\r\n        }\r\n    }\r\n\r\n    handleInputClose() {\r\n        //get rid of trailing '.' if needed\r\n        var tempString = this.state[this.state.currentFocused].toString();\r\n        if (tempString === '') {\r\n            tempString = '0'\r\n        } else if (tempString.charAt(tempString.length - 1) === '.') {\r\n\r\n            tempString = tempString.substring(0, tempString.length - 1);\r\n        }\r\n\r\n        //this is super bad code but idk how else to do this\r\n        //i am making a 'fake' event and setting the value so that the method can access it\r\n        var e = {};\r\n        e.target = {};\r\n        e.target.value = tempString;\r\n\r\n        this.state.focusInputChange(e);\r\n        this.setState({ focused: false, inputValue: '' });\r\n    }\r\n\r\n    handleKeyboardInput(button) {\r\n        var tempInput = this.state[this.state.currentFocused].toString();\r\n        if (button === '{bksp}') {\r\n            tempInput = tempInput.substring(0, tempInput.length - 1);\r\n        } else {\r\n            tempInput += button;\r\n        }\r\n\r\n        //again, really bad code. Maybe you can fix it somehow\r\n        var e = {};\r\n        e.target = {};\r\n        e.target.value = tempInput;\r\n        this.state.focusInputChange(e);\r\n    }\r\n\r\n    handleDialogInput(e) {\r\n        this.state.focusInputChange(e);\r\n    }\r\n\r\n    render() {\r\n        var inputDialog = <></>;\r\n        if (this.state.focused) {\r\n            inputDialog = <Dialog open={this.state.focused} onClose={this.handleInputClose} fullWidth>\r\n                <DialogTitle>\r\n                    <Typography>\r\n                        Enter value\r\n                    </Typography>\r\n                </DialogTitle>\r\n                <DialogContent>\r\n                    <Grid container spacing={1} justifyContent='space-between'>\r\n                        <Grid item>\r\n                            <TextField\r\n                                variant=\"outlined\"\r\n                                value={this.state[this.state.currentFocused]}\r\n                                onChange={this.handleDialogInput}\r\n                            />\r\n                        </Grid>\r\n                        <Grid item xs={6}>\r\n                            <Keyboard\r\n                                onKeyPress={this.handleKeyboardInput}\r\n                                layout={{\r\n                                    default: [\r\n                                        \"7 8 9\",\r\n                                        \"4 5 6\",\r\n                                        \"1 2 3\",\r\n                                        \"0 . {bksp}\"\r\n                                    ]\r\n                                }}\r\n                                display={{\r\n                                    '{bksp}': \"<\"\r\n                                }}\r\n                                theme={this.props.theme.palette.type === 'dark' ? 'hg-theme-dark' : 'hg-theme-default'}\r\n                            />\r\n                        </Grid>\r\n                    </Grid>\r\n                </DialogContent>\r\n                <DialogActions>\r\n                    <Button color='primary' variant='contained' onClick={this.handleInputClose}>OK</Button>\r\n                </DialogActions>\r\n            </Dialog>;\r\n        }\r\n\r\n        return (\r\n            <>\r\n                {inputDialog}\r\n                <Accordion >\r\n                    <AccordionSummary\r\n                        expandIcon={<ExpandMoreIcon />}\r\n                        aria-controls=\"panel2bh-content\"\r\n                        id=\"panel2bh-header\"\r\n                    >\r\n                        <Typography variant='h6'>PID</Typography>\r\n                    </AccordionSummary>\r\n                    <AccordionDetails>\r\n                        <Grid container spacing={3} direction='column' alignItems=\"flex-start\" >\r\n\r\n                            <Grid item>\r\n                                <Grid container spacing={2}>\r\n                                    <Grid item>\r\n                                        <TextField id='p' variant=\"outlined\" type='number' label='Proportional' value={this.state.p} onChange={this.handlePChange} onClick={(e) => this.handleOnFocus(e, this.handlePChange, 'p')} style={{ width: 150 }} />\r\n                                    </Grid>\r\n                                    <Grid item>\r\n                                        <TextField variant=\"outlined\" type='number' label='Integral' value={this.state.i} onChange={this.handleIChange} onClick={(e) => this.handleOnFocus(e, this.handleIChange, 'i')} style={{ width: 150 }} />\r\n                                    </Grid>\r\n                                    <Grid item>\r\n                                        <TextField variant=\"outlined\" type='number' label='Derivative' value={this.state.d} onChange={this.handleDChange} onClick={(e) => this.handleOnFocus(e, this.handleDChange, 'd')} style={{ width: 150 }} />\r\n                                    </Grid>\r\n                                </Grid>\r\n                            </Grid>\r\n\r\n                            <Grid item>\r\n                                <Typography align='left'>\r\n                                    Use cooling fan with PID\r\n                                </Typography>\r\n                                <Checkbox checked={this.state.useCoolingFan} onChange={this.handleCoolingFanChange} color='primary' />\r\n                            </Grid>\r\n\r\n                            <Grid item>\r\n                                <Typography align='left'>\r\n                                    Look Ahead\r\n                                </Typography>\r\n                                <TextField\r\n                                    variant=\"outlined\"\r\n                                    type='number'\r\n                                    value={this.state.lookAhead}\r\n                                    onChange={this.handleLookAheadChange}\r\n                                    onClick={(e) => this.handleOnFocus(e, this.handleLookAheadChange, 'lookAhead')}\r\n                                    style={{ width: 150 }}\r\n                                    InputProps={{\r\n                                        endAdornment: <InputAdornment position=\"end\">Seconds</InputAdornment>,\r\n                                    }}\r\n                                />\r\n                            </Grid>\r\n\r\n                            <Grid item>\r\n                                <Grid container spacing={3}>\r\n                                    <Grid item>\r\n                                        <Typography align='left'>\r\n                                            Enable Preheat\r\n                                        </Typography>\r\n                                        <Checkbox checked={this.state.preheat} onChange={this.handlePreheatChange} color='primary' />\r\n                                    </Grid>\r\n                                    <Grid item>\r\n                                        <TextField\r\n                                            variant=\"outlined\"\r\n                                            type='number'\r\n                                            label='Preheat Power'\r\n                                            value={this.state.preheatPower}\r\n                                            onChange={this.handlePreheatPowerChange}\r\n                                            onClick={(e) => this.handleOnFocus(e, this.handlePreheatPowerChange, 'preheatPower')}\r\n                                            style={{ width: 150 }}\r\n                                            InputProps={{\r\n                                                endAdornment: <InputAdornment position=\"end\">%</InputAdornment>,\r\n                                            }}\r\n                                        />\r\n                                    </Grid>\r\n                                </Grid>\r\n                            </Grid>\r\n                            <Grid item>\r\n                                <Typography align='left'>\r\n                                    Always Hit Peak\r\n                                </Typography>\r\n                                <Checkbox checked={this.state.alwaysHitPeak} onChange={this.handleAlwaysHitPeakChange} color='primary' />\r\n                            </Grid>\r\n\r\n                            <Grid container justifyContent='flex-end' spacing={3}>\r\n                                <Grid item>\r\n                                    <Button variant='contained' color='primary' disabled={!this.state.inputChanged} onClick={this.save}>\r\n                                        Save\r\n                                    </Button>\r\n                                </Grid>\r\n                            </Grid>\r\n                        </Grid>\r\n                    </AccordionDetails>\r\n                </Accordion>\r\n            </>\r\n        );\r\n    }\r\n}\r\n\r\nexport default withTheme(PidSettings);","import React, { Component } from \"react\";\r\nimport Accordion from '@material-ui/core/Accordion';\r\nimport AccordionDetails from '@material-ui/core/AccordionDetails';\r\nimport AccordionSummary from '@material-ui/core/AccordionSummary';\r\nimport Typography from '@material-ui/core/Typography';\r\nimport { InputLabel, Grid, FormControlLabel } from \"@material-ui/core\";\r\nimport ExpandMoreIcon from '@material-ui/icons/ExpandMore';\r\nimport MenuItem from '@material-ui/core/MenuItem';\r\nimport FormControl from '@material-ui/core/FormControl';\r\nimport Select from '@material-ui/core/Select';\r\nimport Snackbar from '@material-ui/core/Snackbar';\r\nimport Button from '@material-ui/core/Button';\r\nimport TextField from '@material-ui/core/TextField';\r\nimport IconButton from '@material-ui/core/IconButton';\r\nimport RefreshIcon from '@material-ui/icons/Refresh';\r\nimport MuiAlert from '@material-ui/lab/Alert';\r\nimport InputAdornment from '@material-ui/core/InputAdornment';\r\nimport Radio from '@material-ui/core/Radio';\r\nimport RadioGroup from '@material-ui/core/RadioGroup';\r\nimport axios from 'axios';\r\nimport Dialog from '@material-ui/core/Dialog';\r\nimport DialogActions from '@material-ui/core/DialogActions';\r\nimport DialogContent from '@material-ui/core/DialogContent';\r\nimport DialogTitle from '@material-ui/core/DialogTitle';\r\nimport './keyboard.css';\r\nimport Keyboard from \"react-simple-keyboard\";\r\nimport { withTheme } from '@material-ui/styles';\r\n\r\nclass HardwareSettings extends Component {\r\n    constructor(props) {\r\n        super(props);\r\n        this.state = {\r\n            relayPin: 4,\r\n            fanPin: 22,\r\n            coolingFanPin: 16,\r\n            buzzerPin: 6,\r\n            thermocoupleOffset: 0,\r\n            percentOffset: 0,\r\n            inputChanged: false,\r\n            relayError: false,\r\n            fanError: false,\r\n            coolingFanError: false,\r\n            buzzerError: false,\r\n            fanTurnoffTemp: 0,\r\n            thermo1: \"n/a\",\r\n            thermo2: \"n/a\",\r\n            calculated: \"n/a\",\r\n            refreshDisabled: false,\r\n            thermocoupleAverageMode: 'false',\r\n            focused: false,\r\n            currentFocused: null,\r\n            focusInputChange: null,\r\n            isLocal: window.location.hostname === \"localhost\" || window.location.hostname === \"127.0.0.1\"\r\n        };\r\n        this.handleRelayChange = this.handleRelayChange.bind(this);\r\n        this.handleFanChange = this.handleFanChange.bind(this);\r\n        this.handleCoolingFanChange = this.handleCoolingFanChange.bind(this);\r\n        this.handleBuzzerChange = this.handleBuzzerChange.bind(this);\r\n        this.handleFanTurnoffChange = this.handleFanTurnoffChange.bind(this);\r\n        this.handleThermocoupleOffset = this.handleThermocoupleOffset.bind(this);\r\n        this.handleThermocoupleRefresh = this.handleThermocoupleRefresh.bind(this);\r\n        this.handlePercentOffset = this.handlePercentOffset.bind(this);\r\n        this.handleThermocoupleMode = this.handleThermocoupleMode.bind(this);\r\n        this.errorClose = this.errorClose.bind(this);\r\n        this.save = this.save.bind(this);\r\n        this.handleOnFocus = this.handleOnFocus.bind(this);\r\n        this.handleKeyboardInput = this.handleKeyboardInput.bind(this);\r\n        this.handleInputClose = this.handleInputClose.bind(this);\r\n        this.handleDialogInput = this.handleDialogInput.bind(this);\r\n    }\r\n\r\n    componentDidMount() {\r\n        fetch('/api/settings/hardware')\r\n            .then(response => response.json())\r\n            .then(result => {\r\n                this.setState({\r\n                    relayPin: result.relay_pin,\r\n                    fanPin: result.fan_pin,\r\n                    coolingFanPin: result.cooling_fan_pin,\r\n                    buzzerPin: result.buzzer_pin,\r\n                    fanTurnoffTemp: result.fan_turnoff_temp,\r\n                    thermocoupleOffset: result.thermocouple_offset,\r\n                    percentOffset: result.percent_offset\r\n                });\r\n                if (result.thermocouple_average_mode === true) {\r\n                    this.setState({ thermocoupleAverageMode: 'true' });\r\n                } else {\r\n                    this.setState({ thermocoupleAverageMode: 'false' });\r\n                }\r\n            });\r\n    }\r\n\r\n    handleRelayChange(e) {\r\n        this.setState({ relayPin: e.target.value, inputChanged: true });\r\n    }\r\n\r\n    handleFanChange(e) {\r\n        this.setState({ fanPin: e.target.value, inputChanged: true });\r\n    }\r\n\r\n    handleCoolingFanChange(e) {\r\n        this.setState({ coolingFanPin: e.target.value, inputChanged: true });\r\n    }\r\n\r\n    handleBuzzerChange(e) {\r\n        this.setState({ buzzerPin: e.target.value, inputChanged: true });\r\n    }\r\n\r\n    handleFanTurnoffChange(e) {\r\n        if (e.target.value >= 0) {\r\n            this.setState({ fanTurnoffTemp: e.target.value, inputChanged: true });\r\n        }\r\n    }\r\n\r\n    handleThermocoupleOffset(e) {\r\n        this.setState({ thermocoupleOffset: e.target.value, inputChanged: true });\r\n    }\r\n\r\n    handlePercentOffset(e) {\r\n        this.setState({ percentOffset: e.target.value, inputChanged: true });\r\n    }\r\n\r\n    handleThermocoupleMode(e) {\r\n        this.setState({ thermocoupleAverageMode: e.target.value, inputChanged: true });\r\n    }\r\n\r\n    handleThermocoupleRefresh() {\r\n        this.setState({ refreshDisabled: true });\r\n        fetch('/api/all_temperatures')\r\n            .then(response => response.json())\r\n            .then(result => {\r\n                this.setState({\r\n                    thermo1: result.sensor_1,\r\n                    thermo2: result.sensor_2,\r\n                    calculated: result.current,\r\n                    refreshDisabled: false\r\n                });\r\n            });\r\n    }\r\n\r\n    errorClose() {\r\n        this.setState({ relayError: false, fanError: false, coolingFanError: false });\r\n    }\r\n\r\n    save() {\r\n        var newSettings = {};\r\n        newSettings.relay_pin = this.state.relayPin;\r\n        newSettings.fan_pin = this.state.fanPin;\r\n        newSettings.cooling_fan_pin = this.state.coolingFanPin;\r\n        newSettings.buzzer_pin = this.state.buzzerPin;\r\n        newSettings.fan_turnoff_temp = this.state.fanTurnoffTemp;\r\n        newSettings.thermocouple_offset = this.state.thermocoupleOffset;\r\n        newSettings.percent_offset = this.state.percentOffset;\r\n        newSettings.thermocouple_average_mode = this.state.thermocoupleAverageMode === 'true';\r\n        axios.post('/api/settings/hardware', newSettings)\r\n            .then(res => {\r\n                if (res.data.status === 200) {\r\n                    this.setState({ inputChanged: false });\r\n                }\r\n            });\r\n    }\r\n\r\n    handleOnFocus(e, changeFunction, name) {\r\n        if (this.state.isLocal) {\r\n            this.setState({ focusInputChange: changeFunction, currentFocused: name, focused: true });\r\n        }\r\n    }\r\n\r\n    handleInputClose() {\r\n        //get rid of trailing '.' if needed\r\n        var tempString = this.state[this.state.currentFocused].toString();\r\n        if (tempString === '') {\r\n            tempString = '0'\r\n        } else if (tempString.charAt(tempString.length - 1) === '.') {\r\n\r\n            tempString = tempString.substring(0, tempString.length - 1);\r\n        }\r\n\r\n        //this is super bad code but idk how else to do this\r\n        //i am making a 'fake' event and setting the value so that the method can access it\r\n        var e = {};\r\n        e.target = {};\r\n        e.target.value = tempString;\r\n\r\n        this.state.focusInputChange(e);\r\n        this.setState({ focused: false, inputValue: '' });\r\n    }\r\n\r\n    handleKeyboardInput(button) {\r\n        var tempInput = this.state[this.state.currentFocused].toString();\r\n        if (button === '{bksp}') {\r\n            tempInput = tempInput.substring(0, tempInput.length - 1);\r\n        } else {\r\n            tempInput += button;\r\n        }\r\n\r\n        //again, really bad code. Maybe you can fix it somehow\r\n        var e = {};\r\n        e.target = {};\r\n        e.target.value = tempInput;\r\n        this.state.focusInputChange(e);\r\n    }\r\n\r\n    handleDialogInput(e) {\r\n        this.state.focusInputChange(e);\r\n    }\r\n\r\n    render() {\r\n        var inputDialog = <></>;\r\n        if (this.state.focused) {\r\n            inputDialog = <Dialog open={this.state.focused} onClose={this.handleInputClose} fullWidth>\r\n                <DialogTitle>\r\n                    <Typography>\r\n                        Enter value\r\n                    </Typography>\r\n                </DialogTitle>\r\n                <DialogContent>\r\n                    <Grid container spacing={1} justifyContent='space-between'>\r\n                        <Grid item>\r\n                            <TextField\r\n                                variant=\"outlined\"\r\n                                value={this.state[this.state.currentFocused]}\r\n                                onChange={this.handleDialogInput}\r\n                            />\r\n                        </Grid>\r\n                        <Grid item xs={6}>\r\n                            <Keyboard\r\n                                onKeyPress={this.handleKeyboardInput}\r\n                                layout={{\r\n                                    default: [\r\n                                        \"7 8 9\",\r\n                                        \"4 5 6\",\r\n                                        \"1 2 3\",\r\n                                        \"0 . {bksp}\"\r\n                                    ]\r\n                                }}\r\n                                display={{\r\n                                    '{bksp}': \"<\"\r\n                                }}\r\n                                theme={this.props.theme.palette.type === 'dark' ? 'hg-theme-dark' : 'hg-theme-default'}\r\n                            />\r\n                        </Grid>\r\n                    </Grid>\r\n                </DialogContent>\r\n                <DialogActions>\r\n                    <Button color='primary' variant='contained' onClick={this.handleInputClose}>OK</Button>\r\n                </DialogActions>\r\n            </Dialog>;\r\n        }\r\n        return (\r\n            <>\r\n                {inputDialog}\r\n                <Accordion >\r\n                    <AccordionSummary\r\n                        expandIcon={<ExpandMoreIcon />}\r\n                        aria-controls=\"panel3bh-content\"\r\n                        id=\"panel3bh-header\"\r\n                    >\r\n                        <Typography variant='h6' >Hardware</Typography>\r\n                    </AccordionSummary>\r\n                    <AccordionDetails>\r\n\r\n                        <Grid container spacing={3} direction='column'>\r\n                            <Grid item>\r\n                                <Grid container spacing={3}>\r\n                                    <Grid item>\r\n                                        <FormControl error={this.state.relayError}>\r\n                                            <InputLabel>Relay GPIO</InputLabel>\r\n                                            <Select value={this.state.relayPin} onChange={this.handleRelayChange}>\r\n                                                <MenuItem value={0}>Disabled</MenuItem>\r\n                                                <MenuItem value={4} disabled={this.state.fanPin === 4 || this.state.coolingFanPin === 4 || this.state.buzzerPin === 4}>4 (pin 7)</MenuItem>\r\n                                                <MenuItem value={5} disabled={this.state.fanPin === 5 || this.state.coolingFanPin === 5 || this.state.buzzerPin === 5}>5 (pin 29)</MenuItem>\r\n                                                <MenuItem value={6} disabled={this.state.fanPin === 6 || this.state.coolingFanPin === 6 || this.state.buzzerPin === 6}>6 (pin 31)</MenuItem>\r\n                                                <MenuItem value={16} disabled={this.state.fanPin === 16 || this.state.coolingFanPin === 16 || this.state.buzzerPin === 16}>16 (pin 36)</MenuItem>\r\n                                                <MenuItem value={17} disabled={this.state.fanPin === 17 || this.state.coolingFanPin === 17 || this.state.buzzerPin === 17}>17 (pin 11)</MenuItem>\r\n                                                <MenuItem value={22} disabled={this.state.fanPin === 22 || this.state.coolingFanPin === 22 || this.state.buzzerPin === 22}>22 (pin 15)</MenuItem>\r\n                                                <MenuItem value={23} disabled={this.state.fanPin === 23 || this.state.coolingFanPin === 23 || this.state.buzzerPin === 23}>23 (pin 16)</MenuItem>\r\n                                                <MenuItem value={24} disabled={this.state.fanPin === 24 || this.state.coolingFanPin === 24 || this.state.buzzerPin === 24}>24 (pin 18)</MenuItem>\r\n                                                <MenuItem value={25} disabled={this.state.fanPin === 25 || this.state.coolingFanPin === 25 || this.state.buzzerPin === 25}>25 (pin 22)</MenuItem>\r\n                                                <MenuItem value={26} disabled={this.state.fanPin === 26 || this.state.coolingFanPin === 26 || this.state.buzzerPin === 26}>26 (pin 37)</MenuItem>\r\n                                                <MenuItem value={27} disabled={this.state.fanPin === 27 || this.state.coolingFanPin === 27 || this.state.buzzerPin === 27}>27 (pin 13)</MenuItem>\r\n                                            </Select>\r\n                                        </FormControl>\r\n                                    </Grid>\r\n\r\n                                    <Grid item>\r\n                                        <FormControl error={this.state.coolingFanError}>\r\n                                            <InputLabel>Cooling Fan GPIO</InputLabel>\r\n                                            <Select value={this.state.coolingFanPin} onChange={this.handleCoolingFanChange}>\r\n                                                <MenuItem value={0}>Disabled</MenuItem>\r\n                                                <MenuItem value={4} disabled={this.state.relayPin === 4 || this.state.fanPin === 4 || this.state.buzzerPin === 4}>4 (pin 7)</MenuItem>\r\n                                                <MenuItem value={5} disabled={this.state.relayPin === 5 || this.state.fanPin === 5 || this.state.buzzerPin === 5}>5 (pin 29)</MenuItem>\r\n                                                <MenuItem value={6} disabled={this.state.relayPin === 6 || this.state.fanPin === 6 || this.state.buzzerPin === 6}>6 (pin 31)</MenuItem>\r\n                                                <MenuItem value={16} disabled={this.state.relayPin === 16 || this.state.fanPin === 16 || this.state.buzzerPin === 16}>16 (pin 36)</MenuItem>\r\n                                                <MenuItem value={17} disabled={this.state.relayPin === 17 || this.state.fanPin === 17 || this.state.buzzerPin === 17}>17 (pin 11)</MenuItem>\r\n                                                <MenuItem value={22} disabled={this.state.relayPin === 22 || this.state.fanPin === 22 || this.state.buzzerPin === 22}>22 (pin 15)</MenuItem>\r\n                                                <MenuItem value={23} disabled={this.state.relayPin === 23 || this.state.fanPin === 23 || this.state.buzzerPin === 23}>23 (pin 16)</MenuItem>\r\n                                                <MenuItem value={24} disabled={this.state.relayPin === 24 || this.state.fanPin === 24 || this.state.buzzerPin === 24}>24 (pin 18)</MenuItem>\r\n                                                <MenuItem value={25} disabled={this.state.relayPin === 25 || this.state.fanPin === 25 || this.state.buzzerPin === 25}>25 (pin 22)</MenuItem>\r\n                                                <MenuItem value={26} disabled={this.state.relayPin === 26 || this.state.fanPin === 26 || this.state.buzzerPin === 26}>26 (pin 37)</MenuItem>\r\n                                                <MenuItem value={27} disabled={this.state.relayPin === 27 || this.state.fanPin === 27 || this.state.buzzerPin === 27}>27 (pin 13)</MenuItem>\r\n                                            </Select>\r\n                                        </FormControl>\r\n                                    </Grid>\r\n\r\n                                    <Grid item>\r\n                                        <FormControl error={this.state.fanError}>\r\n                                            <InputLabel>Convection Fan GPIO</InputLabel>\r\n                                            <Select value={this.state.fanPin} onChange={this.handleFanChange}>\r\n                                                <MenuItem value={0}>Disabled</MenuItem>\r\n                                                <MenuItem value={4} disabled={this.state.relayPin === 4 || this.state.coolingFanPin === 4 || this.state.buzzerPin === 4}>4 (pin 7)</MenuItem>\r\n                                                <MenuItem value={5} disabled={this.state.relayPin === 5 || this.state.coolingFanPin === 5 || this.state.buzzerPin === 5}>5 (pin 29)</MenuItem>\r\n                                                <MenuItem value={6} disabled={this.state.relayPin === 6 || this.state.coolingFanPin === 6 || this.state.buzzerPin === 6}>6 (pin 31)</MenuItem>\r\n                                                <MenuItem value={16} disabled={this.state.relayPin === 16 || this.state.coolingFanPin === 16 || this.state.buzzerPin === 16}>16 (pin 36)</MenuItem>\r\n                                                <MenuItem value={17} disabled={this.state.relayPin === 17 || this.state.coolingFanPin === 17 || this.state.buzzerPin === 17}>17 (pin 11)</MenuItem>\r\n                                                <MenuItem value={22} disabled={this.state.relayPin === 22 || this.state.coolingFanPin === 22 || this.state.buzzerPin === 22}>22 (pin 15)</MenuItem>\r\n                                                <MenuItem value={23} disabled={this.state.relayPin === 23 || this.state.coolingFanPin === 23 || this.state.buzzerPin === 23}>23 (pin 16)</MenuItem>\r\n                                                <MenuItem value={24} disabled={this.state.relayPin === 24 || this.state.coolingFanPin === 24 || this.state.buzzerPin === 24}>24 (pin 18)</MenuItem>\r\n                                                <MenuItem value={25} disabled={this.state.relayPin === 25 || this.state.coolingFanPin === 25 || this.state.buzzerPin === 25}>25 (pin 22)</MenuItem>\r\n                                                <MenuItem value={26} disabled={this.state.relayPin === 26 || this.state.coolingFanPin === 26 || this.state.buzzerPin === 26}>26 (pin 37)</MenuItem>\r\n                                                <MenuItem value={27} disabled={this.state.relayPin === 27 || this.state.coolingFanPin === 27 || this.state.buzzerPin === 27}>27 (pin 13)</MenuItem>\r\n                                            </Select>\r\n                                        </FormControl>\r\n                                    </Grid>\r\n\r\n                                    <Grid item>\r\n                                        <FormControl error={this.state.buzzerError}>\r\n                                            <InputLabel>Buzzer GPIO</InputLabel>\r\n                                            <Select value={this.state.buzzerPin} onChange={this.handleBuzzerChange}>\r\n                                                <MenuItem value={0}>Disabled</MenuItem>\r\n                                                <MenuItem value={4} disabled={this.state.relayPin === 4 || this.state.coolingFanPin === 4 || this.state.fanPin === 4}>4 (pin 7)</MenuItem>\r\n                                                <MenuItem value={5} disabled={this.state.relayPin === 5 || this.state.coolingFanPin === 5 || this.state.fanPin === 5}>5 (pin 29)</MenuItem>\r\n                                                <MenuItem value={6} disabled={this.state.relayPin === 6 || this.state.coolingFanPin === 6 || this.state.fanPin === 6}>6 (pin 31)</MenuItem>\r\n                                                <MenuItem value={16} disabled={this.state.relayPin === 16 || this.state.coolingFanPin === 16 || this.state.fanPin === 16}>16 (pin 36)</MenuItem>\r\n                                                <MenuItem value={17} disabled={this.state.relayPin === 17 || this.state.coolingFanPin === 17 || this.state.fanPin === 17}>17 (pin 11)</MenuItem>\r\n                                                <MenuItem value={22} disabled={this.state.relayPin === 22 || this.state.coolingFanPin === 22 || this.state.fanPin === 22}>22 (pin 15)</MenuItem>\r\n                                                <MenuItem value={23} disabled={this.state.relayPin === 23 || this.state.coolingFanPin === 23 || this.state.fanPin === 23}>23 (pin 16)</MenuItem>\r\n                                                <MenuItem value={24} disabled={this.state.relayPin === 24 || this.state.coolingFanPin === 24 || this.state.fanPin === 24}>24 (pin 18)</MenuItem>\r\n                                                <MenuItem value={25} disabled={this.state.relayPin === 25 || this.state.coolingFanPin === 25 || this.state.fanPin === 25}>25 (pin 22)</MenuItem>\r\n                                                <MenuItem value={26} disabled={this.state.relayPin === 26 || this.state.coolingFanPin === 26 || this.state.fanPin === 26}>26 (pin 37)</MenuItem>\r\n                                                <MenuItem value={27} disabled={this.state.relayPin === 27 || this.state.coolingFanPin === 27 || this.state.fanPin === 27}>27 (pin 13)</MenuItem>\r\n                                            </Select>\r\n                                        </FormControl>\r\n                                    </Grid>\r\n\r\n                                    <Grid item>\r\n                                        <TextField\r\n                                            variant=\"outlined\"\r\n                                            type='number'\r\n                                            label='Stop cooling at:'\r\n                                            value={this.state.fanTurnoffTemp}\r\n                                            onChange={this.handleFanTurnoffChange}\r\n                                            onClick={(e) => this.handleOnFocus(e, this.handleFanTurnoffChange, 'fanTurnoffTemp')}\r\n                                            style={{ width: 150 }}\r\n                                            InputProps={{\r\n                                                endAdornment: <InputAdornment position=\"end\">C</InputAdornment>,\r\n                                            }} />\r\n                                    </Grid>\r\n                                </Grid>\r\n                            </Grid>\r\n\r\n                            <Grid item>\r\n                                <Typography style={{ paddingBottom: 10 }}>\r\n                                    Temperature Adjustment\r\n                                </Typography>\r\n                                <Grid container spacing={3}>\r\n                                    <Grid item>\r\n                                        <TextField\r\n                                            variant=\"outlined\"\r\n                                            type='number'\r\n                                            label='Constant offset'\r\n                                            value={this.state.thermocoupleOffset}\r\n                                            onChange={this.handleThermocoupleOffset}\r\n                                            onClick={(e) => this.handleOnFocus(e, this.handleThermocoupleOffset, 'thermocoupleOffset')}\r\n                                            style={{ width: 150 }}\r\n                                            InputProps={{\r\n                                                endAdornment: <InputAdornment position=\"end\">C</InputAdornment>,\r\n                                            }}\r\n                                        />\r\n                                    </Grid>\r\n                                    <Grid item>\r\n                                        <TextField\r\n                                            variant=\"outlined\"\r\n                                            type='number'\r\n                                            label='Percent offset'\r\n                                            value={this.state.percentOffset}\r\n                                            onChange={this.handlePercentOffset}\r\n                                            onClick={(e) => this.handleOnFocus(e, this.handlePercentOffset, 'percentOffset')}\r\n                                            style={{ width: 150 }}\r\n                                            InputProps={{\r\n                                                endAdornment: <InputAdornment position=\"end\">%</InputAdornment>,\r\n                                            }}\r\n                                        />\r\n                                    </Grid>\r\n                                </Grid>\r\n                            </Grid>\r\n\r\n                            <Grid item>\r\n                                <Typography style={{ paddingBottom: 10 }}>\r\n                                    Dual Thermocouple\r\n                                </Typography>\r\n                                <RadioGroup value={this.state.thermocoupleAverageMode} onChange={this.handleThermocoupleMode} >\r\n                                    <FormControlLabel value='false' control={<Radio color=\"primary\" />} label='Use Highest Temperature' />\r\n                                    <FormControlLabel value='true' control={<Radio color=\"primary\" />} label='Use Average' />\r\n                                </RadioGroup>\r\n                            </Grid>\r\n\r\n                            <Grid item>\r\n                                <Typography>\r\n                                    Diagnostics\r\n                                    <IconButton disabled={this.state.refreshDisabled} onClick={this.handleThermocoupleRefresh}><RefreshIcon /></IconButton>\r\n                                </Typography>\r\n                                <Typography style={{ display: 'block' }} variant='caption'>\r\n                                    Thermocouple 1: {this.state.thermo1}C\r\n                                </Typography>\r\n                                <Typography style={{ display: 'block' }} variant='caption'>\r\n                                    Thermocouple 2: {this.state.thermo2}C\r\n                                </Typography>\r\n                                <Typography style={{ display: 'block' }} variant='caption'>\r\n                                    Calculated: {this.state.calculated}C\r\n                                </Typography>\r\n                            </Grid>\r\n\r\n                            <Grid container justifyContent='flex-end' spacing={3}>\r\n                                <Grid item>\r\n                                    <Button variant='contained' color='primary' disabled={!this.state.inputChanged} onClick={this.save}>\r\n                                        Save\r\n                                    </Button>\r\n                                </Grid>\r\n                            </Grid>\r\n                        </Grid>\r\n                    </AccordionDetails>\r\n                </Accordion>\r\n            </>\r\n        );\r\n    }\r\n}\r\n\r\nexport default withTheme(HardwareSettings);","import React, { Component } from \"react\";\r\nimport Accordion from '@material-ui/core/Accordion';\r\nimport AccordionDetails from '@material-ui/core/AccordionDetails';\r\nimport AccordionSummary from '@material-ui/core/AccordionSummary';\r\nimport Typography from '@material-ui/core/Typography';\r\nimport ExpandMoreIcon from '@material-ui/icons/ExpandMore';\r\nimport Grid from '@material-ui/core/Grid';\r\nimport Switch from '@material-ui/core/Switch';\r\nimport Button from '@material-ui/core/Button';\r\nimport axios from 'axios';\r\nimport { CirclePicker } from 'react-color'\r\n\r\nclass AppearanceSettings extends Component {\r\n    constructor(props) {\r\n        super(props);\r\n        this.state = {\r\n            darkMode: this.props.darkMode,\r\n            primary: this.props.primary,\r\n            secondary: this.props.secondary,\r\n            inputChanged: false\r\n        };\r\n        this.save = this.save.bind(this);\r\n        this.handleDarkSwitch = this.handleDarkSwitch.bind(this);\r\n        this.handlePrimaryChange = this.handlePrimaryChange.bind(this);\r\n        this.handleSecondaryChange = this.handleSecondaryChange.bind(this);\r\n    }\r\n\r\n    componentDidMount() {\r\n    }\r\n\r\n    save() {\r\n        var newSettings = {};\r\n        newSettings.dark_mode = this.state.darkMode;\r\n        newSettings.primary_color = this.state.primary;\r\n        newSettings.secondary_color = this.state.secondary;\r\n        axios.post('/api/settings/appearance', newSettings)\r\n            .then(res => {\r\n                if (res.data.status === 200) {\r\n                    this.setState({ inputChanged: false });\r\n                }\r\n            });\r\n    }\r\n\r\n    handleDarkSwitch(e) {\r\n        this.setState({ darkMode: e.target.checked, inputChanged: true });\r\n        this.props.toggleDarkMode(e.target.checked);\r\n    }\r\n\r\n    handlePrimaryChange(color, e) {\r\n        this.setState({ primary: color.hex, inputChanged: true });\r\n        this.props.setPrimaryColor(color.hex);\r\n    }\r\n\r\n    handleSecondaryChange(color, e) {\r\n        this.setState({ secondary: color.hex, inputChanged: true });\r\n        this.props.setSecondaryColor(color.hex);\r\n    }\r\n\r\n    render() {\r\n        return (\r\n            <Accordion >\r\n                <AccordionSummary\r\n                    expandIcon={<ExpandMoreIcon />}\r\n                    aria-controls=\"panel1bh-content\"\r\n                    id=\"panel1bh-header\"\r\n                >\r\n                    <Typography variant='h6'>Appearance</Typography>\r\n                </AccordionSummary>\r\n                <AccordionDetails>\r\n                    <Grid container direction='column' alignItems=\"flex-start\" spacing={3}>\r\n                        <Grid item>\r\n                            <Typography align='left'>\r\n                                Dark Mode\r\n                            </Typography>\r\n                            <Switch checked={this.state.darkMode} onChange={this.handleDarkSwitch} color='primary' />\r\n                        </Grid>\r\n                        <Grid item>\r\n                            <Typography align='left'>\r\n                                Primary Color\r\n                            </Typography>\r\n                            <CirclePicker color={this.state.primary} onChange={this.handlePrimaryChange}/>\r\n                        </Grid>\r\n\r\n                        <Grid item>\r\n                            <Typography align='left'>\r\n                                Secondary Color\r\n                            </Typography>\r\n                            <CirclePicker color={this.state.secondary} onChange={this.handleSecondaryChange} />\r\n                        </Grid>\r\n                        \r\n\r\n                        <Grid container justifyContent='flex-end' spacing={3}>\r\n                            <Grid item>\r\n                                <Grid container direction='column' alignItems='center'>\r\n                                    <Grid item>\r\n                                        <Typography variant='caption' >\r\n                                            <span style={{color: 'red'}}>WARNING: </span>If saved, theme will be applied to all connections.\r\n                                        </Typography>\r\n                                    </Grid>\r\n                                    <Grid item>\r\n                                        <Typography variant='caption' display='inline' >\r\n                                            (useful for differentiating between ovens)\r\n                                        </Typography>\r\n                                    </Grid>\r\n                                </Grid>\r\n                            </Grid>\r\n                            <Grid item>\r\n                                <Button variant='contained' color='primary' disabled={!this.state.inputChanged} onClick={this.save}>\r\n                                    Save\r\n                                </Button>\r\n                            </Grid>\r\n                        </Grid>\r\n                    </Grid>\r\n\r\n                </AccordionDetails>\r\n            </Accordion>\r\n        );\r\n    }\r\n}\r\n\r\nexport default AppearanceSettings;","import React, { Component } from \"react\";\r\nimport StatusBar from '../components/StatusBar';\r\nimport Container from '@material-ui/core/Container';\r\nimport NetworkSettings from '../components/NetworkSettings';\r\nimport PidSettings from '../components/PidSettings';\r\nimport HardwareSettings from \"../components/HardwareSettings\";\r\nimport AppearanceSettings from '../components/AppearanceSettings';\r\n\r\nclass Settings extends Component {\r\n\r\n    render() {\r\n        return (\r\n            <>\r\n                <StatusBar />\r\n                <Container maxWidth={false} style={{paddingTop: '20px'}} >\r\n                    <PidSettings />\r\n                    <HardwareSettings />\r\n                    <NetworkSettings />\r\n                    <AppearanceSettings\r\n                        toggleDarkMode={this.props.toggleDarkMode}\r\n                        setPrimaryColor={this.props.setPrimaryColor}\r\n                        setSecondaryColor={this.props.setSecondaryColor}\r\n                        primary={this.props.primary}\r\n                        secondary={this.props.secondary}\r\n                        darkMode={this.props.darkMode}\r\n                    />\r\n                </Container>\r\n            </>\r\n        );\r\n    }\r\n}\r\n\r\nexport default Settings;","import React from \"react\";\r\nimport socketio from \"socket.io-client\";\r\n\r\n//no url since backend is hosted on the same domain\r\nexport const socket = socketio.connect();\r\nexport const SocketContext = React.createContext();","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport {App} from './App';\nimport reportWebVitals from './reportWebVitals';\n\nvar isLocal = false;\nif (window.location.hostname === \"localhost\" || window.location.hostname === \"127.0.0.1\" || window.location.hostname === \"\") {\n  isLocal = true;\n}\n\nReactDOM.render(\n  <React.StrictMode>\n    <App isLocal={isLocal}/>\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n","import { React, Component } from 'react';\r\nimport { socket } from '../helpers/socket';\r\nimport AppBar from '@material-ui/core/AppBar';\r\nimport Toolbar from '@material-ui/core/Toolbar';\r\nimport Button from '@material-ui/core/Button';\r\nimport Typography from '@material-ui/core/Typography';\r\nimport IconButton from '@material-ui/core/IconButton';\r\nimport MenuIcon from '@material-ui/icons/Menu';\r\nimport HomeIcon from '@material-ui/icons/Home';\r\nimport MenuOpenIcon from '@material-ui/icons/MenuOpen';\r\nimport SettingsIcon from '@material-ui/icons/Settings';\r\nimport { Link } from \"react-router-dom\";\r\nimport axios from 'axios';\r\nimport StopIcon from '@material-ui/icons/Stop';\r\nimport QRCode from \"qrcode.react\";\r\nimport CloseIcon from '@material-ui/icons/Close';\r\nimport WhatshotIcon from '@material-ui/icons/Whatshot';\r\nimport AcUnitIcon from '@material-ui/icons/AcUnit';\r\nimport ToysIcon from '@material-ui/icons/Toys';\r\nimport Snackbar from '@material-ui/core/Snackbar';\r\nimport MuiAlert from '@material-ui/lab/Alert';\r\nimport WifiTetheringIcon from '@material-ui/icons/WifiTethering';\r\nimport { ListItem, SwipeableDrawer, ListItemText, ListItemIcon, Divider, Dialog, DialogTitle, DialogContent } from '@material-ui/core';\r\nimport { LinearProgress, Grid } from '@material-ui/core';\r\nimport { withStyles } from '@material-ui/core/styles';\r\nimport { withRouter } from \"react-router-dom\";\r\nimport ListAltIcon from '@material-ui/icons/ListAlt';\r\nimport Hidden from '@material-ui/core/Hidden';\r\nimport Backdrop from '@material-ui/core/Backdrop';\r\nimport CircularProgress from '@material-ui/core/CircularProgress';\r\n\r\n\r\nclass StatusBar extends Component {\r\n    constructor(props) {\r\n        super(props);\r\n        this.drawerChange = this.drawerChange.bind(this);\r\n        this.stop = this.stop.bind(this);\r\n        this.qrClicked = this.qrClicked.bind(this);\r\n        this.qrClosed = this.qrClosed.bind(this);\r\n        this.snackbarClosed = this.snackbarClosed.bind(this);\r\n        this.timeout = null;\r\n        this.state = {\r\n            drawer: false,\r\n            qrDialog: false,\r\n            thermoDialog: false,\r\n            percentage: 0,\r\n            temperature: 0,\r\n            status: \"Ready\",\r\n            address: \"\",\r\n            currentProfile: \"\",\r\n            serverMessage: \"\",\r\n            serverMessageSeverity: \"\",\r\n            serverMessageSnackbar: false,\r\n            relayOn: false,\r\n            coolingFanOn: false,\r\n            fanOn: false,\r\n            connected: true,\r\n            backdrop: false,\r\n            isLocal: window.location.hostname === \"localhost\" || window.location.hostname === \"127.0.0.1\"\r\n        };\r\n    }\r\n\r\n    StopButton = withStyles({\r\n        root: {\r\n            backgroundColor: '#bf0000',\r\n            '&:hover': {\r\n                backgroundColor: '#870000'\r\n            }\r\n        }\r\n    })(Button);\r\n\r\n    RelayOn = withStyles({\r\n        root: {\r\n            fill: '#c70000',\r\n        }\r\n    })(WhatshotIcon);\r\n\r\n    CoolingOn = withStyles({\r\n        root: {\r\n            fill: '#009cc7',\r\n        }\r\n    })(AcUnitIcon);\r\n\r\n    ConvectionOn = withStyles({\r\n        root: {\r\n            fill: '#00ba16',\r\n        }\r\n    })(ToysIcon);\r\n    \r\n\r\n    stop() {\r\n        axios.post('/api/stop', { reason: \"test\" })\r\n            .then(res => {\r\n                if (res.data.status === 200) {\r\n                    this.setState({ status: \"Ready\" });\r\n                }\r\n            });\r\n    }\r\n\r\n    componentDidMount() {\r\n        fetch('/api/status')\r\n            .then(response => response.json())\r\n            .then(result => {\r\n                this.setState({\r\n                    address: result.address,\r\n                    percentage: result.status.percent,\r\n                    status: result.status.status,\r\n                    currentProfile: result.status.current_profile\r\n                });\r\n            });\r\n        socket.on(\"status_update\", (message) => {\r\n            this.setState({\r\n                percentage: message.percent,\r\n                temperature: message.temperature,\r\n                status: message.status,\r\n                currentProfile: message.current_profile\r\n            });\r\n\r\n            if (message.relay > 0) {\r\n                this.setState({ relayOn: true });\r\n                if (message.relay < 1000) {\r\n                    setTimeout(() => {\r\n                        this.setState({ relayOn: false });\r\n                    }, message.relay);\r\n                }   \r\n            } else {\r\n                this.setState({ relayOn: false });\r\n            }\r\n\r\n            if (message.cooling_fan > 0) {\r\n                this.setState({ coolingFanOn: true });\r\n                if (message.cooling_fan < 1000) {\r\n                    setTimeout(() => {\r\n                        this.setState({ coolingFanOn: false });\r\n                    }, message.cooling_fan);\r\n                }\r\n            } else {\r\n                this.setState({ coolingFanOn: false });\r\n            }\r\n\r\n            if (message.fan > 0) {\r\n                this.setState({ fanOn: true });\r\n                if (message.fan < 1000) {\r\n                    setTimeout(() => {\r\n                        this.setState({ fanOn: false });\r\n                    }, message.fan);\r\n                } \r\n            } else {\r\n                this.setState({ fanOn: false });\r\n            }\r\n        });\r\n        socket.on(\"server_message\", (message) => {\r\n            this.setState({\r\n                serverMessage: message.message,\r\n                serverMessageSeverity: message.severity,\r\n            });\r\n            this.setState({\r\n                serverMessageSnackbar: true\r\n            });\r\n        });\r\n        socket.on(\"disconnect\", () => {\r\n            this.setState({ backdrop: true });\r\n            this.timeout = setTimeout(() => {\r\n                this.setState({ connected: false });\r\n            }, 3000);\r\n            \r\n        });\r\n        socket.on(\"connect\", () => {\r\n            clearTimeout(this.timeout);\r\n            this.setState({ connected: true, backdrop: false });\r\n        });\r\n        if (!socket.connected) {\r\n            this.setState({ backdrop: true });\r\n            this.timeout = setTimeout(() => {\r\n                this.setState({ connected: false });\r\n            }, 3000);\r\n        }\r\n    }\r\n\r\n    drawerChange() {\r\n        if (this.state.drawer) {\r\n            this.setState({ drawer: false });\r\n        } else {\r\n            this.setState({ drawer: true });\r\n        }\r\n    }\r\n\r\n    componentWillUnmount() {\r\n        socket.off(\"status_update\");\r\n        socket.off(\"server_message\");\r\n        socket.off(\"disconnect\");\r\n        socket.off(\"connect\");\r\n    }\r\n\r\n    qrClicked() {\r\n        this.setState({ qrDialog: true });\r\n    }\r\n\r\n    qrClosed() {\r\n        this.setState({ qrDialog: false });\r\n    }\r\n\r\n    snackbarClosed() {\r\n        this.setState({serverMessageSnackbar: false})\r\n    }\r\n\r\n    render() {\r\n        var temperatureDisplay = this.state.temperature + \"C\";\r\n        if (this.state.temperature < 0) {\r\n            temperatureDisplay = \"Thermocouple Disconnected!\";\r\n        }\r\n\r\n        var relayIcon = <WhatshotIcon />;\r\n        var coolingFanIcon = <AcUnitIcon />;\r\n        var fanIcon = <ToysIcon />;\r\n        if (this.state.relayOn) {\r\n            relayIcon = <this.RelayOn />;\r\n        }\r\n\r\n        if (this.state.coolingFanOn) {\r\n            coolingFanIcon = <this.CoolingOn />\r\n        }\r\n\r\n        if (this.state.fanOn) {\r\n            fanIcon = <this.ConvectionOn />\r\n        }\r\n\r\n        const iOS = process.browser && /iPad|iPhone|iPod/.test(navigator.userAgent);\r\n\r\n        return (\r\n            <>\r\n                <Snackbar anchorOrigin={{\r\n                    vertical: 'top',\r\n                    horizontal: 'right'}} open={this.state.serverMessageSnackbar} autoHideDuration={10000} onClose={this.snackbarClosed}>\r\n                    <MuiAlert elevation={6} variant=\"filled\" severity={this.state.serverMessageSeverity} onClose={this.snackbarClosed}>\r\n                        {this.state.serverMessage}\r\n                    </MuiAlert>\r\n                </Snackbar>\r\n\r\n                <Backdrop style={{zIndex: 10}} open={this.state.backdrop}>\r\n                    <CircularProgress color='primary' />\r\n                </Backdrop>\r\n\r\n                <Dialog onClose={this.qrClosed} open={this.state.qrDialog} fullWidth={false} maxWidth={\"sm\"}>\r\n                    <DialogTitle>\r\n                        <Grid container justifyContent='center'>\r\n                            <Grid item>\r\n                                <Typography variant='h5'>\r\n                                    http://{this.state.address}\r\n                                </Typography>\r\n                            </Grid>\r\n                        </Grid>\r\n                    </DialogTitle>\r\n                    <DialogContent>\r\n                        <Grid container alignItems='center' direction='column'>\r\n                            <Grid item>\r\n                                <QRCode value={\"http://\" + this.state.address} size={200} />\r\n                            </Grid>\r\n                            <Grid item>\r\n                                Note: this control panel can only be accessed by the 12 EE lab computers.\r\n                            </Grid>\r\n                            <Grid item>\r\n                                <IconButton aria-label=\"close\" onClick={this.qrClosed}>\r\n                                    <CloseIcon />\r\n                                </IconButton>\r\n                            </Grid>\r\n                        </Grid>\r\n                    </DialogContent>\r\n                </Dialog>\r\n\r\n                <Dialog open={!this.state.connected}>\r\n                    <DialogTitle>\r\n                        <Typography>\r\n                            Disconnected from server\r\n                        </Typography>\r\n                    </DialogTitle>\r\n                    <DialogContent>\r\n                        Please ensure server is running.\r\n                    </DialogContent>\r\n                </Dialog>\r\n\r\n                <AppBar position=\"static\" >\r\n                    <Toolbar >\r\n                        <IconButton edge=\"start\" color=\"inherit\" aria-label=\"menu\" onClick={this.drawerChange}>\r\n                            <MenuIcon />\r\n                        </IconButton>\r\n                        <Hidden xsDown>\r\n                            <IconButton component={Link} to='/' color=\"inherit\"><HomeIcon /></IconButton>\r\n                        </Hidden>\r\n                        <Grid container spacing={5} style={{ paddingLeft: 20, paddingTop: 5 }}>\r\n                            <Grid item style={{ minWidth: 150 }}>\r\n                                <Typography align='right'>\r\n                                    {temperatureDisplay}\r\n                                </Typography>\r\n                            </Grid>\r\n                            <Grid item style={{ minWidth: 100 }}>\r\n                                <Typography align='center' >\r\n                                    {this.state.status}\r\n                                </Typography>\r\n                            </Grid>\r\n                            <Hidden xsDown>\r\n                                <Grid item>\r\n                                    <Grid container spacing={1}>\r\n                                        <Grid item>\r\n                                            {relayIcon}\r\n                                        </Grid>\r\n                                        <Grid item>\r\n                                            {coolingFanIcon}\r\n                                        </Grid>\r\n                                        <Grid item>\r\n                                            {fanIcon}\r\n                                        </Grid>\r\n                                    </Grid>\r\n                                </Grid>\r\n                            </Hidden>\r\n                            <Grid item>\r\n                                <Hidden xsDown>\r\n                                    <Typography noWrap style={{ fontWeight: 'bold', width: window.innerWidth - 650 }} >\r\n                                        {this.state.currentProfile.name}\r\n                                    </Typography>\r\n                                </Hidden>\r\n                            </Grid>\r\n                        </Grid>\r\n                        <div style={{ marginLeft: 'auto' }}>\r\n                            {(this.state.status === \"Preheat\" || this.state.status === \"Running\") &&\r\n                                <this.StopButton onClick={this.stop} startIcon={<StopIcon />} variant=\"contained\" color=\"primary\">Stop</this.StopButton>\r\n                            }\r\n                        </div>\r\n\r\n                    </Toolbar>\r\n                    <LinearProgress style={{height: 5}} variant=\"determinate\" color='secondary' value={this.state.percentage} />\r\n                </AppBar>\r\n\r\n                <SwipeableDrawer\r\n                    open={this.state.drawer}\r\n                    onClose={this.drawerChange}\r\n                    disableDiscovery={iOS}\r\n                    disableBackdropTransition={!iOS}\r\n                >\r\n                    <ListItem button key={\"menu\"} onClick={this.drawerChange} style={{minHeight: 50}}>\r\n                        <ListItemIcon><MenuOpenIcon /></ListItemIcon>\r\n                    </ListItem>\r\n                    <Divider />\r\n                    <ListItem button key={\"Home\"} component={Link} onClick={this.drawerChange} to='/'>\r\n                        <ListItemIcon><HomeIcon /></ListItemIcon>\r\n                        <ListItemText>Home</ListItemText>\r\n                    </ListItem>\r\n                    <ListItem button key={\"ProfileList\"} component={Link} onClick={this.drawerChange} to='/profileList'>\r\n                        <ListItemIcon><ListAltIcon /></ListItemIcon>\r\n                        <ListItemText>Profile List</ListItemText>\r\n                    </ListItem>\r\n                    <ListItem button key={\"Settings\"} component={Link} onClick={this.drawerChange} to='/settings'>\r\n                        <ListItemIcon><SettingsIcon /></ListItemIcon>\r\n                        <ListItemText>Settings</ListItemText>\r\n                    </ListItem>\r\n                    <ListItem button key={\"Address\"} onClick={this.qrClicked}>\r\n                        <ListItemIcon><WifiTetheringIcon /></ListItemIcon>\r\n                        <ListItemText>Server Address</ListItemText>\r\n                    </ListItem>\r\n                </SwipeableDrawer>\r\n            </>\r\n        );\r\n    }\r\n}\r\n\r\nexport default withRouter(StatusBar);\r\n\r\n"],"sourceRoot":""}