(this.webpackJsonpfrontend=this.webpackJsonpfrontend||[]).push([[0],{116:function(e,t,a){"use strict";var n=a(11),i=a(12),s=a(7),r=a(16),o=a(15),c=a(0),l=a(338),h=(a(494),a(339)),d=a(217),j=a(1),u=function(e){Object(r.a)(a,e);var t=Object(o.a)(a);function a(e){var i;return Object(n.a)(this,a),(i=t.call(this,e)).dragStart=i.dragStart.bind(Object(s.a)(i)),i.drag=i.drag.bind(Object(s.a)(i)),i.dragEnd=i.dragEnd.bind(Object(s.a)(i)),i.state={hitRadius:5,pointRadius:3},i}return Object(i.a)(a,[{key:"componentDidMount",value:function(){this.props.draggable&&this.setState({hitRadius:30,pointRadius:8})}},{key:"dragStart",value:function(e,t,a,n){this.props.dragStart(e,t,a,n)}},{key:"drag",value:function(e,t,a,n){this.props.drag(e,t,a,n)}},{key:"dragEnd",value:function(e,t,a,n){this.props.dragEnd(e,t,a,n)}},{key:"render",value:function(){var e=this,t=this.props.theme.palette.text.hint,a=this.props.theme.palette.primary.main,n=Object(d.alpha)(this.props.theme.palette.primary.main,.2),i=this.props.theme.palette.secondary.main,s=Object(d.alpha)(this.props.theme.palette.secondary.main,.2),r=new Array(10).fill(n),o=2;return this.props.draggable&&(r[this.props.activePoint]=i),this.props.historicTemps&&1===this.props.historicTemps.length&&(o=8),Object(j.jsx)(l.a,{data:{datasets:[{label:"Profile",data:this.props.profile.datapoints,pointBackgroundColor:r,showLine:!0,lineTension:.05,backgroundColor:n,borderColor:a,borderWidth:3,pointRadius:this.state.pointRadius,pointHitRadius:this.state.hitRadius,hoverRadius:this.state.pointRadius+3,dragData:this.props.draggable},{label:"Historic Temerature",data:this.props.historicTemps,showLine:!0,lineTension:.05,backgroundColor:s,borderColor:i,borderWidth:1,pointRadius:o,hoverRadius:o+1,dragData:!1,borderDash:[10,5],fill:0}]},options:{maintainAspectRatio:!0,aspectRatio:1.9,responsive:!0,animation:{duration:0},scales:{y:{grid:{color:t},ticks:{color:t,stepSize:25},min:0,max:300,title:{text:"Temperature (\xb0C)",display:!0,color:t,font:{size:"15%"}}},x:{grid:{color:t},ticks:{color:t,stepSize:25},min:0,max:this.props.maxTime,title:{text:"Time (Seconds)",display:!0,color:t,font:{size:"15%"}}}},plugins:{dragData:{round:0,dragX:!0,onDrag:function(t,a,n,i){return e.drag(t,a,n,i)},onDragStart:function(t,a,n,i){return e.dragStart(t,a,n,i)},onDragEnd:function(t,a,n,i){return e.dragEnd(t,a,n,i)}},zoom:{wheel:{enabled:!0},pinch:{enabled:!0},mode:"xy"},tooltip:{xAlign:"right",yAlign:"bottom",displayColors:!1,caretPadding:30,caretSize:10,bodySpacing:20},legend:{display:!1},title:{display:!1,color:"white",fullsize:!0,position:"bottom",align:"start",text:this.props.profile.name,padding:{top:0,bottom:0},font:{size:30}}}}})}}]),a}(c.Component);t.a=Object(h.a)(u)},214:function(e,t,a){},299:function(e,t,a){"use strict";(function(e){a.d(t,"a",(function(){return A}));var n=a(23),i=a(11),s=a(12),r=a(7),o=a(16),c=a(15),l=a(0),h=a(39),d=(a(404),a(301)),j=a(337),u=a(316),b=a(325),p=a(97),f=a(574),O=a(576),g=a(46),x=a(25),m=a(326),y=a(333),v=a(66),C=a(95),k=a(68),P=a(67),w=a(181),S=a(32),D=a(10),I=a(22),F=a(31),T=a.n(F),_=a(83),L=a.n(_),M=a(1),A=function(t){Object(o.a)(l,t);var a=Object(c.a)(l);function l(e){var t;return Object(i.a)(this,l),(t=a.call(this,e)).state={darkMode:!0,primary:"#3f51b5",secondary:"#e91e63",locked:!1,passwordError:!1,password:"",keyboardLayout:"default",isLocal:"localhost"===window.location.hostname||"127.0.0.1"===window.location.hostname},t.toggleDarkMode=t.toggleDarkMode.bind(Object(r.a)(t)),t.setPrimaryColor=t.setPrimaryColor.bind(Object(r.a)(t)),t.setSecondaryColor=t.setSecondaryColor.bind(Object(r.a)(t)),t.fetchAppearance=t.fetchAppearance.bind(Object(r.a)(t)),t.appIdle=t.appIdle.bind(Object(r.a)(t)),t.handlePasswordEnter=t.handlePasswordEnter.bind(Object(r.a)(t)),t.submitPassword=t.submitPassword.bind(Object(r.a)(t)),t.handleKeyboardInput=t.handleKeyboardInput.bind(Object(r.a)(t)),t}return Object(s.a)(l,[{key:"buf2hex",value:function(e){return Object(n.a)(new Uint8Array(e)).map((function(e){return e.toString(16).padStart(2,"0")})).join("")}},{key:"componentDidMount",value:function(){var e=this;"true"===localStorage.getItem("locked")&&this.setState({locked:!0}),this.fetchAppearance(),h.b.on("appearance_update",(function(t){e.setState({darkMode:t.dark_mode,primary:t.primary_color,secondary:t.secondary_color})}))}},{key:"fetchAppearance",value:function(){var e=this;fetch("/api/settings/appearance").then((function(e){return e.json()})).then((function(t){e.setState({darkMode:t.dark_mode,primary:t.primary_color,secondary:t.secondary_color})}))}},{key:"componentWillUnmount",value:function(){h.b.disconnect()}},{key:"toggleDarkMode",value:function(e){e?this.setState({darkMode:!0}):this.setState({darkMode:!1})}},{key:"setPrimaryColor",value:function(e){this.setState({primary:e})}},{key:"setSecondaryColor",value:function(e){this.setState({secondary:e})}},{key:"appIdle",value:function(){this.state.isLocal&&(this.setState({locked:!0}),localStorage.setItem("locked","true"))}},{key:"handlePasswordEnter",value:function(e){this.setState({password:e.target.value})}},{key:"handleKeyboardInput",value:function(e){if("{lock}"===e)"caps"===this.state.keyboardLayout||"shift"===this.state.keyboardLayout?this.setState({keyboardLayout:"default"}):this.setState({keyboardLayout:"caps"});else if("{shift}"===e)"caps"===this.state.keyboardLayout||"shift"===this.state.keyboardLayout?this.setState({keyboardLayout:"default"}):this.setState({keyboardLayout:"shift"});else{var t=this.state.password;if("{bksp}"===e)t=t.substring(0,t.length-1);else if("{space}"===e)t+=" ";else{if("{enter}"===e)return void this.submitPassword();"{tab}"!==e&&(t+=e)}this.setState({password:t}),"shift"===this.state.keyboardLayout&&this.setState({keyboardLayout:"default"})}}},{key:"submitPassword",value:function(){var t=this;window.crypto.subtle.digest("sha-256",e.from(this.state.password)).then((function(e){T.a.post("/api/check_password",{hashed:t.buf2hex(e)}).then((function(e){200===e.data.status?(t.setState({locked:!1,password:"",passwordError:!1}),localStorage.setItem("locked","false")):403===e.data.status&&t.setState({passwordError:!0,password:""})}))}))}},{key:"render",value:function(){var e="dark";this.state.darkMode||(e="light");var t=Object(p.b)({palette:{type:e,primary:{main:this.state.primary},secondary:{main:this.state.secondary}}});return Object(M.jsxs)(f.a,{theme:t,children:[Object(M.jsx)(y.a,{timeout:6e5,onIdle:this.appIdle,debounce:250}),Object(M.jsx)(O.a,{}),Object(M.jsxs)(v.a,{open:this.state.locked,fullWidth:!0,children:[Object(M.jsx)(P.a,{children:Object(M.jsx)(S.a,{align:"center",children:"Oven locked. Please enter password:"})}),Object(M.jsx)(k.a,{children:Object(M.jsx)(D.a,{container:!0,justifyContent:"center",children:Object(M.jsx)(w.a,{error:this.state.passwordError,onChange:this.handlePasswordEnter,value:this.state.password,type:"password",inputProps:{autocomplete:"new-password",form:{autocomplete:"off"}}})})}),Object(M.jsx)(C.a,{children:Object(M.jsx)(I.a,{color:"primary",variant:"outline",onClick:this.submitPassword,children:"Enter"})}),Object(M.jsx)(L.a,{theme:"dark"===e?"hg-theme-dark":"hg-theme-default",layoutName:this.state.keyboardLayout,layout:{default:["` 1 2 3 4 5 6 7 8 9 0 - = {bksp}","{tab} q w e r t y u i o p [ ] \\","{lock} a s d f g h j k l ; ' {enter}","{shift} z x c v b n m , . / {shift}","{space}"],shift:["~ ! @ # $ % ^ & * ( ) _ + {bksp}","{tab} Q W E R T Y U I O P { } |",'{lock} A S D F G H J K L : " {enter}',"{shift} Z X C V B N M < > ? {shift}","{space}"],caps:["~ ! @ # $ % ^ & * ( ) _ + {bksp}","{tab} Q W E R T Y U I O P { } |",'{lock} A S D F G H J K L : " {enter}',"{shift} Z X C V B N M < > ? {shift}","{space}"]},onKeyPress:this.handleKeyboardInput})]}),Object(M.jsx)(g.a,{children:Object(M.jsx)(h.a.Provider,{value:h.b,children:Object(M.jsxs)(x.c,{children:[Object(M.jsx)(x.a,{exact:!0,path:"/",children:Object(M.jsx)(d.a,{})}),Object(M.jsx)(x.a,{path:"/editProfile",children:Object(M.jsx)(m.a,{})}),Object(M.jsx)(x.a,{path:"/profileList",children:Object(M.jsx)(u.a,{})}),Object(M.jsx)(x.a,{path:"/settings",children:Object(M.jsx)(j.a,{toggleDarkMode:this.toggleDarkMode,setPrimaryColor:this.setPrimaryColor,setSecondaryColor:this.setSecondaryColor,primary:this.state.primary,secondary:this.state.secondary,darkMode:this.state.darkMode})}),Object(M.jsx)(x.a,{component:b.a})]})})})]})}}]),l}(l.Component)}).call(this,a(241).Buffer)},301:function(e,t,a){"use strict";var n=a(11),i=a(12),s=a(7),r=a(16),o=a(15),c=a(0),l=a(584),h=a(570),d=a(580),j=a(116),u=a(172),b=a.n(u),p=a(22),f=a(137),O=a(10),g=a(577),x=a(62),m=a(32),y=a(46),v=a(39),C=a(31),k=a.n(C),P=a(310),w=a.n(P),S=a(170),D=a.n(S),I=a(81),F=a(6),T=a(66),_=a(95),L=a(68),M=a(67),A=a(171),N=a.n(A),R=a(102),E=a(1),H=function(e){Object(r.a)(a,e);var t=Object(o.a)(a);function a(e){var i;return Object(n.a)(this,a),(i=t.call(this,e)).steps=[{label:"Ready"},{label:"Preheat",description:""},{label:"Run Profile",description:""},{label:"Peak",description:""},{label:"Cooling",description:""}],i.StartButton=Object(F.a)({root:{backgroundColor:"#00ba16","&:hover":{backgroundColor:"#009612"}}})(p.a),i.StopButton=Object(F.a)({root:{backgroundColor:"#bf0000","&:hover":{backgroundColor:"#870000"}}})(p.a),i.runProfile=i.runProfile.bind(Object(s.a)(i)),i.forceRunProfile=i.forceRunProfile.bind(Object(s.a)(i)),i.stop=i.stop.bind(Object(s.a)(i)),i.cancelClicked=i.cancelClicked.bind(Object(s.a)(i)),i.coolingDialogClose=i.coolingDialogClose.bind(Object(s.a)(i)),i.state={currentProfile:{name:"flat",date_created:0,last_run:0,datapoints:[{x:0,y:30},{x:75,y:30},{x:150,y:30},{x:225,y:30},{x:300,y:30},{x:375,y:30}]},historicTemperature:[],percentDone:0,status:"Ready",activeStep:0,startWhenCoolingDialog:!1,coolingDialog:!1},i}return Object(i.a)(a,[{key:"componentDidMount",value:function(){var e=this;fetch("/api/current_profile").then((function(e){return e.json()})).then((function(t){e.setState({currentProfile:t.current_profile})})),v.b.on("status_update",(function(t){e.setState({currentProfile:t.current_profile,historicTemperature:t.historic_temperature,status:t.status}),"Ready"===e.state.status?e.setState({activeStep:0}):"Preheat"===e.state.status?e.setState({activeStep:1}):"Running"===e.state.status?e.setState({activeStep:2}):"Peak"===e.state.status?e.setState({activeStep:3}):"Cooling"===e.state.status&&e.setState({activeStep:4})})),v.b.on("notify_cooling",(function(t){e.setState({coolingDialog:!0})}))}},{key:"shouldComponentUpdate",value:function(e){return!0}},{key:"componentWillUnmount",value:function(){v.b.off("status_update"),v.b.off("notify_cooling")}},{key:"runProfile",value:function(){var e=this;k.a.post("/api/run",{override:!1}).then((function(t){200===t.data.status?e.setState({status:"Running"}):409===t.data.status&&e.setState({startWhenCoolingDialog:!0})}))}},{key:"forceRunProfile",value:function(){var e=this;k.a.post("/api/run",{override:!0}).then((function(t){200===t.data.status&&e.setState({status:"Running",startWhenCoolingDialog:!1})}))}},{key:"stop",value:function(){var e=this;k.a.post("/api/stop",{reason:"test"}).then((function(t){200===t.data.status&&e.setState({status:"Ready"})}))}},{key:"cancelClicked",value:function(){this.setState({startWhenCoolingDialog:!1})}},{key:"coolingDialogClose",value:function(){this.setState({coolingDialog:!1})}},{key:"render",value:function(){var e;return e="Preheat"===this.state.status||"Running"===this.state.status||"Peak"===this.state.status?Object(E.jsx)(this.StopButton,{onClick:this.stop,startIcon:Object(E.jsx)(D.a,{}),variant:"contained",color:"primary",children:"Stop"}):Object(E.jsx)(this.StartButton,{onClick:this.runProfile,startIcon:Object(E.jsx)(w.a,{}),variant:"contained",color:"primary",children:"Start"}),Object(E.jsxs)(E.Fragment,{children:[Object(E.jsx)(I.a,{}),Object(E.jsxs)(T.a,{open:this.state.startWhenCoolingDialog,onClose:this.cancelClicked,children:[Object(E.jsx)(M.a,{children:"Oven still cooling"}),Object(E.jsx)(L.a,{children:"Start profile anyway?"}),Object(E.jsxs)(_.a,{children:[Object(E.jsx)(p.a,{onClick:this.cancelClicked,color:"primary",variant:"contained",children:"Cancel"}),Object(E.jsx)(p.a,{onClick:this.forceRunProfile,color:"primary",variant:"contained",children:"Start Anyway"})]})]}),Object(E.jsxs)(T.a,{open:this.state.coolingDialog,onClose:this.coolingDialogClose,children:[Object(E.jsx)(M.a,{children:"Cooling Started"}),Object(E.jsx)(L.a,{children:"Door can be opened"}),Object(E.jsx)(_.a,{children:Object(E.jsx)(p.a,{onClick:this.coolingDialogClose,color:"primary",variant:"contained",children:"Ok"})})]}),Object(E.jsxs)(f.a,{maxWidth:!1,children:[Object(E.jsxs)(O.a,{container:!0,children:[Object(E.jsx)(R.a,{xsDown:!0,children:Object(E.jsx)(O.a,{item:!0,sm:2,children:Object(E.jsx)(g.a,{sx:{paddingTop:20},children:Object(E.jsx)(x.a,{children:Object(E.jsx)(l.a,{activeStep:this.state.activeStep,orientation:"vertical",square:!1,children:this.steps.map((function(e,t){return Object(E.jsx)(h.a,{children:Object(E.jsx)(d.a,{children:Object(E.jsx)(m.a,{variant:"subtitle2",align:"left",children:e.label})})},e.label)}))})})})})}),Object(E.jsx)(O.a,{item:!0,sm:10,children:Object(E.jsx)("div",{style:{paddingTop:"20px",width:"91%",margin:"0 0 0 auto",minWidth:350},children:Object(E.jsxs)(x.a,{children:[Object(E.jsx)(R.a,{smDown:!0,children:Object(E.jsx)(m.a,{align:"center",variant:"h5",children:Object(E.jsx)("u",{children:this.state.currentProfile.name})})}),Object(E.jsx)("div",{style:{padding:"10px 10px 6px 10px "},children:Object(E.jsx)(j.a,{draggable:!1,profile:this.state.currentProfile,historicTemps:this.state.historicTemperature})})]})})})]}),Object(E.jsxs)(O.a,{container:!0,spacing:3,alignItems:"center",justifyContent:"space-between",style:{paddingTop:"15px"},children:[Object(E.jsx)(O.a,{item:!0,xs:4,children:Object(E.jsx)(R.a,{mdUp:!0,children:Object(E.jsx)(x.a,{style:{padding:"6px 7px 6px 10px"},children:Object(E.jsxs)(m.a,{children:["Profile: ",this.state.currentProfile.name]})})})}),Object(E.jsx)(O.a,{item:!0,children:Object(E.jsxs)(O.a,{container:!0,spacing:3,children:[Object(E.jsx)(O.a,{item:!0,children:Object(E.jsx)(p.a,{component:y.b,to:{pathname:"/profileList"},startIcon:Object(E.jsx)(N.a,{}),variant:"contained",color:"primary",children:"Profile List"})}),Object(E.jsx)(O.a,{item:!0,children:Object(E.jsx)(p.a,{component:y.b,to:{pathname:"/editProfile",state:{profile:this.state.currentProfile,tempHistory:this.state.historicTemperature}},startIcon:Object(E.jsx)(b.a,{}),variant:"contained",color:"primary",children:"Edit"})}),Object(E.jsx)(O.a,{item:!0,children:e})]})})]})]})]})}}]),a}(c.Component);t.a=H},316:function(e,t,a){"use strict";var n=a(11),i=a(12),s=a(7),r=a(16),o=a(15),c=a(0),l=a(116),h=a(22),d=a(66),j=a(67),u=a(10),b=a(40),p=a(68),f=a(95),O=a(137),g=a(321),x=a(46),m=a(25),y=a(31),v=a.n(y),C=a(176),k=a.n(C),P=a(320),w=a.n(P),S=a(323),D=a.n(S),I=a(319),F=a.n(I),T=a(6),_=a(172),L=a.n(_),M=a(169),A=a.n(M),N=a(81),R=a(318),E=a.n(R),H=a(317),W=a.n(H),K=a(324),X=a.n(K),Y=a(1),B=function(e){Object(r.a)(a,e);var t=Object(o.a)(a);function a(){var e;Object(n.a)(this,a),(e=t.call(this)).SelectButton=Object(T.a)({root:{backgroundColor:"#00ba16","&:hover":{backgroundColor:"#009612"}}})(h.a),e.DeleteButton=Object(T.a)({root:{backgroundColor:"#bf0000","&:hover":{backgroundColor:"#870000"}}})(h.a),e.columns=[{field:"name",headerName:"Profile Name",width:300},{field:"last_run",headerName:"Last Loaded",type:"dateTime",width:200,editable:!1,valueFormatter:function(e){return 0===e.value?"never":new Date(e.value).toLocaleString()}},{field:"date_created",headerName:"Date Created",type:"dateTime",width:200,editable:!1,valueFormatter:function(e){return 0===e.value?"n/a":new Date(e.value).toLocaleString()}}];var i=!1;return"localhost"!==window.location.hostname&&"127.0.0.1"!==window.location.hostname&&""!==window.location.hostname||(i=!0),e.state={profiles:[],activeItem:"",dialog:!1,forceLoadDialog:!1,allowUploadDownload:!i,deleteDialog:!1},e.loadClicked=e.loadClicked.bind(Object(s.a)(e)),e.forceLoadClicked=e.forceLoadClicked.bind(Object(s.a)(e)),e.handleItemClick=e.handleItemClick.bind(Object(s.a)(e)),e.handleDialogClose=e.handleDialogClose.bind(Object(s.a)(e)),e.downloadProfile=e.downloadProfile.bind(Object(s.a)(e)),e.fileChanged=e.fileChanged.bind(Object(s.a)(e)),e.handleForceDialogClose=e.handleForceDialogClose.bind(Object(s.a)(e)),e.handleDeleteDialogClose=e.handleDeleteDialogClose.bind(Object(s.a)(e)),e.deleteClicked=e.deleteClicked.bind(Object(s.a)(e)),e.deleteProfile=e.deleteProfile.bind(Object(s.a)(e)),e}return Object(i.a)(a,[{key:"handleItemClick",value:function(e){this.setState({activeItem:e.row}),this.setState({dialog:!0})}},{key:"handleDialogClose",value:function(){this.setState({dialog:!1})}},{key:"handleForceDialogClose",value:function(){this.setState({forceLoadDialog:!1})}},{key:"handleDeleteDialogClose",value:function(){this.setState({deleteDialog:!1})}},{key:"componentDidMount",value:function(){this.getData()}},{key:"getData",value:function(){var e=this;fetch("/api/reflow_profiles/all").then((function(e){return e.json()})).then((function(t){t.forEach((function(e){e.id=e.name})),e.setState({profiles:t})}))}},{key:"loadClicked",value:function(){var e=this;v.a.post("/api/reflow_profiles/load",{profile_name:this.state.activeItem.name,force_load:!1}).then((function(t){if(200===t.data.status){var a=e.props.history;a&&a.push("/")}else 409===t.data.status&&(console.log("got 409"),e.setState({forceLoadDialog:!0}))}))}},{key:"forceLoadClicked",value:function(){var e=this;v.a.post("/api/reflow_profiles/load",{profile_name:this.state.activeItem.name,force_load:!0}).then((function(t){if(200===t.data.status){var a=e.props.history;a&&a.push("/")}}))}},{key:"downloadProfile",value:function(){var e=this.state.activeItem;delete e.id;var t=new Blob([JSON.stringify(e,null,3)],{type:"text/plain;charset=utf-8"});W.a.saveAs(t,e.name+".json")}},{key:"fileChanged",value:function(e){var t=this,a=new FileReader;a.readAsText(e.target.files[0],"UTF-8"),a.onload=function(e){var a=JSON.parse(e.target.result);v.a.post("/api/reflow_profiles/save",a).then((function(e){t.getData()}))}}},{key:"deleteProfile",value:function(){var e=this;v.a.post("/api/reflow_profiles/delete",{profile_name:this.state.activeItem.name}).then((function(t){e.getData(),e.setState({deleteDialog:!1,dialog:!1})}))}},{key:"deleteClicked",value:function(){this.setState({deleteDialog:!0})}},{key:"render",value:function(){return Object(Y.jsxs)(Y.Fragment,{children:[Object(Y.jsx)(N.a,{}),Object(Y.jsxs)(d.a,{onClose:this.handleDialogClose,open:this.state.dialog,fullWidth:!0,children:[Object(Y.jsx)(j.a,{children:Object(Y.jsxs)(u.a,{container:!0,justifyContent:"space-between",children:[Object(Y.jsx)(u.a,{item:!0,children:this.state.activeItem.name}),Object(Y.jsx)(u.a,{item:!0,children:Object(Y.jsx)(b.a,{"aria-label":"close",onClick:this.handleDialogClose,children:Object(Y.jsx)(A.a,{})})})]})}),Object(Y.jsx)(p.a,{children:Object(Y.jsx)("div",{style:{width:"91%"},children:Object(Y.jsx)(l.a,{draggable:!1,profile:this.state.activeItem,historicTemps:[]})})}),Object(Y.jsx)(f.a,{children:Object(Y.jsxs)(u.a,{container:!0,justifyContent:"space-between",children:[Object(Y.jsx)(u.a,{item:!0,children:Object(Y.jsx)(this.DeleteButton,{startIcon:Object(Y.jsx)(E.a,{}),variant:"contained",color:"primary",onClick:this.deleteClicked,children:"Delete"})}),Object(Y.jsx)(u.a,{item:!0,children:Object(Y.jsxs)(u.a,{container:!0,spacing:2,children:[Object(Y.jsx)(u.a,{item:!0,children:this.state.allowUploadDownload&&Object(Y.jsx)(h.a,{startIcon:Object(Y.jsx)(F.a,{}),variant:"contained",color:"primary",onClick:this.downloadProfile,children:"Download"})}),Object(Y.jsx)(u.a,{item:!0,children:Object(Y.jsx)(h.a,{component:x.b,to:{pathname:"/editProfile",state:{profile:this.state.activeItem}},startIcon:Object(Y.jsx)(L.a,{}),variant:"contained",color:"primary",children:"Edit"})}),Object(Y.jsx)(u.a,{item:!0,children:Object(Y.jsx)(this.SelectButton,{onClick:this.loadClicked,startIcon:Object(Y.jsx)(w.a,{}),variant:"contained",color:"primary",children:"Load"})})]})})]})})]}),Object(Y.jsxs)(d.a,{open:this.state.forceLoadDialog,children:[Object(Y.jsx)(j.a,{children:"Oven Currently Running"}),Object(Y.jsx)(p.a,{children:"Stop oven and load profile?"}),Object(Y.jsxs)(f.a,{children:[Object(Y.jsx)(h.a,{onClick:this.handleForceDialogClose,color:"primary",children:"Cancel"}),Object(Y.jsx)(h.a,{onClick:this.forceLoadClicked,color:"primary",autoFocus:!0,children:"Force Load"})]})]}),Object(Y.jsxs)(d.a,{open:this.state.deleteDialog,onClose:this.handleDeleteDialogClose,children:[Object(Y.jsx)(j.a,{children:"Delete Profile"}),Object(Y.jsxs)(p.a,{children:['Are you sure you want to delete "',this.state.activeItem.name,'"?']}),Object(Y.jsxs)(f.a,{children:[Object(Y.jsx)(h.a,{onClick:this.handleDeleteDialogClose,color:"primary",children:"Cancel"}),Object(Y.jsx)(h.a,{onClick:this.deleteProfile,color:"primary",autoFocus:!0,children:"Yes"})]})]}),Object(Y.jsx)(O.a,{maxWidth:!1,children:Object(Y.jsx)(u.a,{container:!0,direction:"row",align:"center",justifyContent:"center",spacing:2,children:Object(Y.jsx)(u.a,{item:!0,xs:12,lg:12,style:{paddingTop:"20px"},children:Object(Y.jsx)(g.a,{rows:this.state.profiles,rowHeight:45,columns:this.columns,pageSize:5,checkboxSelection:!1,disableMultipleSelection:!0,onRowClick:this.handleItemClick,autoHeight:!0})})})}),Object(Y.jsx)(O.a,{maxWidth:!1,children:Object(Y.jsxs)(u.a,{container:!0,spacing:3,justifyContent:"flex-end",children:[Object(Y.jsx)(u.a,{item:!0,children:Object(Y.jsx)(h.a,{component:x.b,to:"/",startIcon:Object(Y.jsx)(k.a,{}),variant:"contained",color:"primary",children:"Cancel"})}),this.state.allowUploadDownload&&Object(Y.jsx)(u.a,{item:!0,children:Object(Y.jsxs)(h.a,{startIcon:Object(Y.jsx)(D.a,{}),variant:"contained",color:"primary",component:"label",children:["Upload",Object(Y.jsx)("input",{type:"file",accept:"application/JSON",hidden:!0,onChange:this.fileChanged})]})}),Object(Y.jsx)(u.a,{item:!0,children:Object(Y.jsx)(h.a,{component:x.b,to:{pathname:"/editProfile",state:{profile:{name:"new_profile",date_created:Date.now(),last_run:0,datapoints:[{x:0,y:30},{x:75,y:30},{x:150,y:30},{x:225,y:30},{x:300,y:30},{x:375,y:30}]}}},startIcon:Object(Y.jsx)(X.a,{}),variant:"contained",color:"primary",children:"Create New"})})]})})]})}}]),a}(c.Component);t.a=Object(m.f)(B)},325:function(e,t,a){"use strict";var n=a(11),i=a(12),s=a(16),r=a(15),o=a(0),c=a(32),l=a(81),h=a(1),d=function(e){Object(s.a)(a,e);var t=Object(r.a)(a);function a(){return Object(n.a)(this,a),t.apply(this,arguments)}return Object(i.a)(a,[{key:"render",value:function(){return Object(h.jsxs)(h.Fragment,{children:[Object(h.jsx)(l.a,{}),Object(h.jsx)(c.a,{variant:"h5",align:"center",children:"404. Hope you find your way back!"})]})}}]),a}(o.Component);t.a=d},326:function(e,t,a){"use strict";var n=a(11),i=a(12),s=a(7),r=a(16),o=a(15),c=a(0),l=a(116),h=a(10),d=a(32),j=a(346),u=a(22),b=a(571),p=a(572),f=a(40),O=a(137),g=a(83),x=a.n(g),m=a(25),y=(a(553),a(31)),v=a.n(y),C=a(176),k=a.n(C),P=a(66),w=a(95),S=a(68),D=a(67),I=a(81),F=a(327),T=a.n(F),_=a(332),L=a.n(_),M=a(226),A=a.n(M),N=a(225),R=a.n(N),E=a(328),H=a.n(E),W=a(331),K=a.n(W),X=a(329),Y=a.n(X),B=a(330),z=a.n(B),U=a(62),q=a(102),J=(a(554),a(339)),G=a(1),V=function(e){Object(r.a)(a,e);var t=Object(o.a)(a);function a(e){var i;return Object(n.a)(this,a),(i=t.call(this,e)).state={loadDialog:!1,forceLoadDialog:!1,enterNameDialog:!1,newName:i.props.location.state.profile.name,newDatapoints:i.props.location.state.profile.datapoints,newProfile:i.props.location.state.profile,currentX:i.props.location.state.profile.datapoints[0].x,currentY:i.props.location.state.profile.datapoints[0].y,maxTime:400,maxNodes:6,currentPoint:0,showHistory:!1,keyboardLayout:"default",tempHistory:i.props.location.state.tempHistory||[],isLocal:"localhost"===window.location.hostname||"127.0.0.1"===window.location.hostname},i.saveProfile=i.saveProfile.bind(Object(s.a)(i)),i.handleInputChange=i.handleInputChange.bind(Object(s.a)(i)),i.goBack=i.goBack.bind(Object(s.a)(i)),i.loadClicked=i.loadClicked.bind(Object(s.a)(i)),i.forceLoadClicked=i.forceLoadClicked.bind(Object(s.a)(i)),i.cancelClicked=i.cancelClicked.bind(Object(s.a)(i)),i.saveClicked=i.saveClicked.bind(Object(s.a)(i)),i.handleKeyboardInput=i.handleKeyboardInput.bind(Object(s.a)(i)),i.cancelEnterName=i.cancelEnterName.bind(Object(s.a)(i)),i.clearName=i.clearName.bind(Object(s.a)(i)),i.dragStart=i.dragStart.bind(Object(s.a)(i)),i.drag=i.drag.bind(Object(s.a)(i)),i.dragEnd=i.dragEnd.bind(Object(s.a)(i)),i.addX=i.addX.bind(Object(s.a)(i)),i.subtractX=i.subtractX.bind(Object(s.a)(i)),i.addY=i.addY.bind(Object(s.a)(i)),i.subtractY=i.subtractY.bind(Object(s.a)(i)),i.addTime=i.addTime.bind(Object(s.a)(i)),i.subtractTime=i.subtractTime.bind(Object(s.a)(i)),i.addNode=i.addNode.bind(Object(s.a)(i)),i.subtractNode=i.subtractNode.bind(Object(s.a)(i)),i.showHistoryClicked=i.showHistoryClicked.bind(Object(s.a)(i)),i}return Object(i.a)(a,[{key:"addX",value:function(){if(this.state.currentX<this.state.maxTime){var e=this.state.newProfile;e.datapoints[this.state.currentPoint].x+=1,this.setState({newProfile:e,currentX:this.state.currentX+1})}}},{key:"subtractX",value:function(){if(this.state.currentX>0){var e=this.state.newProfile;e.datapoints[this.state.currentPoint].x-=1,this.setState({newProfile:e,currentX:this.state.currentX-1})}}},{key:"addY",value:function(){if(this.state.currentY<300){var e=this.state.newProfile;e.datapoints[this.state.currentPoint].y+=1,this.setState({newProfile:e,currentY:this.state.currentY+1})}}},{key:"subtractY",value:function(){if(this.state.currentY>0){var e=this.state.newProfile;e.datapoints[this.state.currentPoint].y-=1,this.setState({newProfile:e,currentY:this.state.currentY-1})}}},{key:"addTime",value:function(){this.state.maxTime<2e3&&this.setState({maxTime:this.state.maxTime+100})}},{key:"subtractTime",value:function(){this.state.maxTime>0&&this.state.maxTime-100>=this.state.newProfile.datapoints[this.state.newProfile.datapoints.length-1].x&&this.setState({maxTime:this.state.maxTime-100})}},{key:"addNode",value:function(){if(this.state.newProfile.datapoints.length<10){var e=this.state.newProfile,t={};this.state.currentPoint===this.state.newProfile.datapoints.length-1?this.state.newProfile.datapoints[this.state.currentPoint].x<=this.state.maxTime-50?(t.x=e.datapoints[this.state.currentPoint].x+25,t.y=e.datapoints[this.state.currentPoint].y,e.datapoints.splice(this.state.currentPoint+1,0,t),this.setState({currentPoint:this.state.currentPoint+1,currentX:t.x,currentY:t.y})):(t.x=Math.floor((e.datapoints[this.state.currentPoint].x+e.datapoints[this.state.currentPoint-1].x)/2),t.y=Math.floor((e.datapoints[this.state.currentPoint].y+e.datapoints[this.state.currentPoint-1].y)/2),e.datapoints.splice(this.state.currentPoint,0,t),this.setState({currentX:t.x,currentY:t.y})):(t.x=Math.floor((e.datapoints[this.state.currentPoint].x+e.datapoints[this.state.currentPoint+1].x)/2),t.y=Math.floor((e.datapoints[this.state.currentPoint].y+e.datapoints[this.state.currentPoint+1].y)/2),e.datapoints.splice(this.state.currentPoint+1,0,t),this.setState({currentPoint:this.state.currentPoint+1,currentX:t.x,currentY:t.y})),this.setState({newProfile:e,maxNodes:this.state.maxNodes+1})}}},{key:"subtractNode",value:function(){if(this.state.newProfile.datapoints.length>2){var e=this.state.newProfile;0===this.state.currentPoint?(e.datapoints.splice(this.state.currentPoint,1),this.setState({currentX:this.state.newProfile.datapoints[this.state.currentPoint].x,currentY:this.state.newProfile.datapoints[this.state.currentPoint].y})):(e.datapoints.splice(this.state.currentPoint,1),this.setState({currentPoint:this.state.currentPoint-1,currentX:this.state.newProfile.datapoints[this.state.currentPoint-1].x,currentY:this.state.newProfile.datapoints[this.state.currentPoint-1].y})),this.setState({newProfile:e,maxNodes:this.state.maxNodes-1})}}},{key:"dragStart",value:function(e,t,a,n){this.setState({currentPoint:a})}},{key:"drag",value:function(e,t,a,n){var i=this.state.newProfile;i.datapoints[a]=n,this.setState({currentX:n.x,currentY:n.y,newProfile:i})}},{key:"dragEnd",value:function(e,t,a,n){var i=this.state.newProfile;i.datapoints[a]=n;for(var s=0;s<i.datapoints.length;s++)for(var r=s;r<i.datapoints.length;r++)if(i.datapoints[r].x<i.datapoints[s].x){s===a?a=r:r===a&&(a=s);var o=i.datapoints[s];i.datapoints[s]=i.datapoints[r],i.datapoints[r]=o}this.setState({currentX:n.x,currentY:n.y,currentPoint:a,newProfile:i})}},{key:"handleInputChange",value:function(e){var t=this.state.newProfile;t.name=e.target.value,this.setState({newProfile:t})}},{key:"componentDidMount",value:function(){this.setState({maxTime:100*Math.ceil(this.state.newProfile.datapoints[this.state.newProfile.datapoints.length-1].x/100),maxNodes:this.state.newProfile.datapoints.length})}},{key:"goBack",value:function(){this.props.history.goBack()}},{key:"loadClicked",value:function(){var e=this;v.a.post("/api/reflow_profiles/load",{profile_name:this.state.newProfile.name,force_load:!1}).then((function(t){if(200===t.data.status){var a=e.props.history;a&&a.push("/")}else 409===t.data.status&&(e.setState({loadDialog:!1}),e.setState({forceLoadDialog:!0}))}))}},{key:"forceLoadClicked",value:function(){var e=this;v.a.post("/api/reflow_profiles/load",{profile_name:this.state.newProfile.name,force_load:!0}).then((function(t){if(200===t.data.status){var a=e.props.history;a&&a.push("/")}}))}},{key:"cancelClicked",value:function(){this.setState({loadDialog:!1,forceLoadDialog:!1})}},{key:"saveProfile",value:function(){var e=this;this.setState({enterNameDialog:!1});var t=this.state.newProfile;t.date_created=Date.now(),t.last_run=0,this.setState({newProfile:t}),v.a.post("/api/reflow_profiles/save",this.state.newProfile).then((function(t){var a=e.state.newProfile;a.name=t.data.new_name,e.setState({newProfile:a}),e.setState({loadDialog:!0})}))}},{key:"saveClicked",value:function(){this.setState({enterNameDialog:!0})}},{key:"handleKeyboardInput",value:function(e){if("{lock}"===e)"caps"===this.state.keyboardLayout||"shift"===this.state.keyboardLayout?this.setState({keyboardLayout:"default"}):this.setState({keyboardLayout:"caps"});else if("{shift}"===e)"caps"===this.state.keyboardLayout||"shift"===this.state.keyboardLayout?this.setState({keyboardLayout:"default"}):this.setState({keyboardLayout:"shift"});else{var t=this.state.newProfile.name;if("{bksp}"===e)t=t.substring(0,t.length-1);else if("{space}"===e)t+=" ";else{if("{enter}"===e)return void this.saveProfile();"{tab}"!==e&&(t+=e)}var a=this.state.newProfile;a.name=t,this.setState({newProfile:a}),"shift"===this.state.keyboardLayout&&this.setState({keyboardLayout:"default"})}}},{key:"cancelEnterName",value:function(){this.setState({enterNameDialog:!1})}},{key:"clearName",value:function(){var e=this.state.newProfile;e.name="",this.setState({newProfile:e})}},{key:"showHistoryClicked",value:function(e){this.setState({showHistory:e.target.checked})}},{key:"render",value:function(){var e=Object(G.jsx)(G.Fragment,{});this.state.isLocal&&(e=Object(G.jsx)(x.a,{theme:"dark"===this.props.theme.palette.type?"hg-theme-dark":"hg-theme-default",layoutName:this.state.keyboardLayout,layout:{default:["` 1 2 3 4 5 6 7 8 9 0 - = {bksp}","{tab} q w e r t y u i o p [ ] \\","{lock} a s d f g h j k l ; ' {enter}","{shift} z x c v b n m , . / {shift}","{space}"],shift:["~ ! @ # $ % ^ & * ( ) _ + {bksp}","{tab} Q W E R T Y U I O P { } |",'{lock} A S D F G H J K L : " {enter}',"{shift} Z X C V B N M < > ? {shift}","{space}"],caps:["~ ! @ # $ % ^ & * ( ) _ + {bksp}","{tab} Q W E R T Y U I O P { } |",'{lock} A S D F G H J K L : " {enter}',"{shift} Z X C V B N M < > ? {shift}","{space}"]},onKeyPress:this.handleKeyboardInput}));var t=Object(G.jsx)(G.Fragment,{});this.state.tempHistory.length>1&&(t=Object(G.jsx)(h.a,{item:!0,children:Object(G.jsx)(U.a,{children:Object(G.jsxs)(h.a,{container:!0,justifyContent:"space-evenly",children:[Object(G.jsx)(h.a,{item:!0,children:Object(G.jsx)(d.a,{style:{paddingLeft:10},children:"History"})}),Object(G.jsx)(h.a,{item:!0,children:Object(G.jsx)(j.a,{checked:this.state.showHistory,onChange:this.showHistoryClicked,size:"small",color:"secondary"})})]})})}));var a=[];return this.state.showHistory&&(a=this.state.tempHistory),Object(G.jsxs)(G.Fragment,{children:[Object(G.jsx)(I.a,{}),Object(G.jsxs)(P.a,{open:this.state.loadDialog,onClose:this.cancelClicked,children:[Object(G.jsx)(D.a,{children:"Profile saved"}),Object(G.jsx)(S.a,{children:"Would you like to load the profile now?"}),Object(G.jsxs)(w.a,{children:[Object(G.jsx)(u.a,{onClick:this.cancelClicked,color:"primary",variant:"contained",children:"Don't Load"}),Object(G.jsx)(u.a,{onClick:this.loadClicked,color:"primary",variant:"contained",autoFocus:!0,children:"Load"})]})]}),Object(G.jsxs)(P.a,{open:this.state.forceLoadDialog,onClose:this.cancelClicked,children:[Object(G.jsx)(D.a,{children:"Oven Currently Running"}),Object(G.jsx)(S.a,{children:"Stop oven and load profile?"}),Object(G.jsxs)(w.a,{children:[Object(G.jsx)(u.a,{onClick:this.cancelClicked,color:"primary",variant:"contained",children:"Cancel"}),Object(G.jsx)(u.a,{onClick:this.forceLoadClicked,color:"primary",variant:"contained",autoFocus:!0,children:"Force Load"})]})]}),Object(G.jsxs)(P.a,{open:this.state.enterNameDialog,maxWidth:"md",fullWidth:!0,onClose:this.cancelEnterName,children:[Object(G.jsx)(D.a,{align:"center",children:"Name your profile:"}),Object(G.jsx)(S.a,{children:Object(G.jsx)(h.a,{container:!0,justifyContent:"center",children:Object(G.jsx)(b.a,{onChange:this.handleInputChange,label:"Profile Name",value:this.state.newProfile.name,endAdornment:Object(G.jsx)(p.a,{position:"end",children:Object(G.jsx)(f.a,{onClick:this.clearName,children:Object(G.jsx)(T.a,{})})})})})}),Object(G.jsxs)(w.a,{children:[Object(G.jsx)(u.a,{onClick:this.cancelEnterName,color:"primary",variant:"contained",children:"Cancel"}),Object(G.jsx)(u.a,{onClick:this.saveProfile,color:"primary",variant:"contained",autoFocus:!0,children:"OK"})]}),e]}),Object(G.jsx)(O.a,{maxWidth:!1,children:Object(G.jsxs)(h.a,{container:!0,children:[Object(G.jsx)(h.a,{item:!0,sm:2,lg:2,children:Object(G.jsx)(q.a,{xsDown:!0,children:Object(G.jsxs)(h.a,{container:!0,spacing:1,direction:"column",style:{paddingTop:"20px"},children:[Object(G.jsx)(h.a,{item:!0,align:"center",children:Object(G.jsxs)(d.a,{variant:"h5",children:["(",this.state.currentX,", ",this.state.currentY,")"]})}),Object(G.jsx)(h.a,{item:!0,children:Object(G.jsxs)(U.a,{children:[Object(G.jsx)(h.a,{item:!0,align:"center"}),Object(G.jsx)(h.a,{item:!0,align:"center",children:Object(G.jsx)(f.a,{color:"primary",size:"small",onClick:this.addY,children:Object(G.jsx)(H.a,{})})}),Object(G.jsx)(h.a,{item:!0,children:Object(G.jsxs)(h.a,{container:!0,justifyContent:"space-evenly",wrap:"nowrap",children:[Object(G.jsx)(h.a,{item:!0,children:Object(G.jsx)(f.a,{color:"primary",size:"small",onClick:this.subtractX,children:Object(G.jsx)(Y.a,{})})}),Object(G.jsx)(h.a,{item:!0,align:"center",style:{minWidth:10}}),Object(G.jsx)(h.a,{item:!0,children:Object(G.jsx)(f.a,{color:"primary",size:"small",onClick:this.addX,children:Object(G.jsx)(z.a,{})})})]})}),Object(G.jsx)(h.a,{item:!0,align:"center",children:Object(G.jsx)(f.a,{color:"primary",size:"small",onClick:this.subtractY,children:Object(G.jsx)(K.a,{})})})]})}),Object(G.jsx)(h.a,{item:!0,children:Object(G.jsxs)(U.a,{children:[Object(G.jsx)(h.a,{item:!0,align:"center",children:Object(G.jsx)(d.a,{variant:"subtitle1",children:"Nodes"})}),Object(G.jsxs)(h.a,{container:!0,spacing:1,justifyContent:"space-evenly",children:[Object(G.jsx)(h.a,{item:!0,children:Object(G.jsx)(f.a,{color:"primary",size:"small",onClick:this.subtractNode,children:Object(G.jsx)(R.a,{})})}),Object(G.jsx)(h.a,{item:!0,align:"center",children:Object(G.jsx)(d.a,{variant:"h6",children:this.state.maxNodes})}),Object(G.jsx)(h.a,{item:!0,children:Object(G.jsx)(f.a,{color:"primary",size:"small",onClick:this.addNode,children:Object(G.jsx)(A.a,{})})})]})]})}),Object(G.jsx)(h.a,{item:!0,children:Object(G.jsxs)(U.a,{children:[Object(G.jsx)(h.a,{item:!0,align:"center",children:Object(G.jsx)(d.a,{variant:"subtitle1",children:"Max Time"})}),Object(G.jsxs)(h.a,{container:!0,spacing:1,justifyContent:"space-evenly",children:[Object(G.jsx)(h.a,{item:!0,children:Object(G.jsx)(f.a,{color:"primary",size:"small",onClick:this.subtractTime,children:Object(G.jsx)(R.a,{})})}),Object(G.jsx)(h.a,{item:!0,align:"center",children:Object(G.jsx)(d.a,{variant:"h6",children:this.state.maxTime})}),Object(G.jsx)(h.a,{item:!0,children:Object(G.jsx)(f.a,{color:"primary",size:"small",onClick:this.addTime,children:Object(G.jsx)(A.a,{})})})]})]})}),t]})})}),Object(G.jsxs)(h.a,{item:!0,sm:10,children:[Object(G.jsx)(q.a,{smDown:!0,children:Object(G.jsx)(d.a,{align:"center",variant:"h5",children:Object(G.jsx)("u",{children:this.state.newProfile.name})})}),Object(G.jsx)("div",{style:{paddingTop:"20px",width:"91%",marginLeft:"auto",minWidth:350},children:Object(G.jsx)(l.a,{draggable:!0,profile:this.state.newProfile,dragStart:this.dragStart,drag:this.drag,dragEnd:this.dragEnd,maxTime:this.state.maxTime,activePoint:this.state.currentPoint,historicTemps:a})})]})]})}),Object(G.jsx)(O.a,{maxWidth:!1,children:Object(G.jsxs)(h.a,{container:!0,spacing:3,alignItems:"center",justifyContent:"space-between",style:{paddingTop:"15px"},children:[Object(G.jsx)(h.a,{item:!0,xs:4,children:Object(G.jsx)(q.a,{mdUp:!0,children:Object(G.jsx)(U.a,{style:{padding:"6px 7px 6px 10px"},children:Object(G.jsxs)(d.a,{children:["Profile: ",this.state.newProfile.name]})})})}),Object(G.jsx)(h.a,{item:!0,children:Object(G.jsxs)(h.a,{container:!0,spacing:3,children:[Object(G.jsx)(h.a,{item:!0,children:Object(G.jsx)(u.a,{onClick:this.goBack,startIcon:Object(G.jsx)(k.a,{}),variant:"contained",color:"primary",children:"Cancel"})}),Object(G.jsx)(h.a,{item:!0,children:Object(G.jsx)(u.a,{onClick:this.saveClicked,startIcon:Object(G.jsx)(L.a,{}),variant:"contained",color:"primary",children:"Save"})})]})})]})})]})}}]),a}(c.Component);t.a=Object(m.f)(Object(J.a)(V))},337:function(e,t,a){"use strict";var n=a(11),i=a(12),s=a(16),r=a(15),o=a(0),c=a(81),l=a(137),h=a(7),d=a(627),j=a(625),u=a(624),b=a(32),p=a(100),f=a.n(p),O=a(10),g=a(181),x=a(348),m=a(22),y=a(31),v=a.n(y),C=a(66),k=a(95),P=a(68),w=a(67),S=(a(214),a(83)),D=a.n(S),I=a(339),F=a(1),T=function(e){Object(s.a)(a,e);var t=Object(r.a)(a);function a(e){var i;return Object(n.a)(this,a),(i=t.call(this,e)).state={port:3001,remoteConnections:!0,messageToSend:"",inputChanged:!1,focused:!1,currentFocused:null,focusInputChange:null,isLocal:"localhost"===window.location.hostname||"127.0.0.1"===window.location.hostname},i.save=i.save.bind(Object(h.a)(i)),i.handleSwitch=i.handleSwitch.bind(Object(h.a)(i)),i.handlePortChange=i.handlePortChange.bind(Object(h.a)(i)),i.handleMessageChange=i.handleMessageChange.bind(Object(h.a)(i)),i.sendMessage=i.sendMessage.bind(Object(h.a)(i)),i.handleOnFocus=i.handleOnFocus.bind(Object(h.a)(i)),i.handleKeyboardInput=i.handleKeyboardInput.bind(Object(h.a)(i)),i.handleInputClose=i.handleInputClose.bind(Object(h.a)(i)),i.handleDialogInput=i.handleDialogInput.bind(Object(h.a)(i)),i}return Object(i.a)(a,[{key:"componentDidMount",value:function(){var e=this;fetch("/api/settings/network").then((function(e){return e.json()})).then((function(t){e.setState({port:t.port,remoteConnections:t.remote_connections})}))}},{key:"save",value:function(){var e=this,t={};t.port=this.state.port,t.remote_connections=this.state.remoteConnections,v.a.post("/api/settings/network",t).then((function(t){200===t.data.status&&e.setState({inputChanged:!1})}))}},{key:"handleSwitch",value:function(e){this.setState({remoteConnections:e.target.checked,inputChanged:!0})}},{key:"handlePortChange",value:function(e){this.setState({port:e.target.value,inputChanged:!0})}},{key:"handleMessageChange",value:function(e){this.setState({messageToSend:e.target.value})}},{key:"sendMessage",value:function(){v.a.post("/api/send_message",{message:this.state.messageToSend}).then((function(e){}))}},{key:"handleOnFocus",value:function(e,t,a){this.state.isLocal&&this.setState({focusInputChange:t,currentFocused:a,focused:!0})}},{key:"handleInputClose",value:function(){var e=this.state[this.state.currentFocused].toString();""===e?e="3001":"."===e.charAt(e.length-1)&&(e=e.substring(0,e.length-1));var t={target:{}};t.target.value=e,this.state.focusInputChange(t),this.setState({focused:!1,inputValue:""})}},{key:"handleKeyboardInput",value:function(e){var t=this.state[this.state.currentFocused].toString();"{bksp}"===e?t=t.substring(0,t.length-1):t+=e;var a={target:{}};a.target.value=t,this.state.focusInputChange(a)}},{key:"handleDialogInput",value:function(e){this.state.focusInputChange(e)}},{key:"render",value:function(){var e=this,t=Object(F.jsx)(F.Fragment,{});return this.state.focused&&(t=Object(F.jsxs)(C.a,{open:this.state.focused,onClose:this.handleInputClose,fullWidth:!0,children:[Object(F.jsx)(w.a,{children:Object(F.jsx)(b.a,{children:"Enter value"})}),Object(F.jsx)(P.a,{children:Object(F.jsxs)(O.a,{container:!0,spacing:1,justifyContent:"space-between",children:[Object(F.jsx)(O.a,{item:!0,children:Object(F.jsx)(g.a,{variant:"outlined",value:this.state[this.state.currentFocused],onChange:this.handleDialogInput})}),Object(F.jsx)(O.a,{item:!0,xs:6,children:Object(F.jsx)(D.a,{onKeyPress:this.handleKeyboardInput,layout:{default:["7 8 9","4 5 6","1 2 3","0 {bksp}"]},display:{"{bksp}":"<"},theme:"dark"===this.props.theme.palette.type?"hg-theme-dark":"hg-theme-default"})})]})}),Object(F.jsx)(k.a,{children:Object(F.jsx)(m.a,{color:"primary",variant:"contained",onClick:this.handleInputClose,children:"OK"})})]})),Object(F.jsxs)(F.Fragment,{children:[t,Object(F.jsxs)(d.a,{children:[Object(F.jsx)(u.a,{expandIcon:Object(F.jsx)(f.a,{}),"aria-controls":"panel1bh-content",id:"panel1bh-header",children:Object(F.jsx)(b.a,{variant:"h6",children:"Network"})}),Object(F.jsx)(j.a,{children:Object(F.jsxs)(O.a,{container:!0,direction:"column",alignItems:"flex-start",spacing:3,children:[Object(F.jsxs)(O.a,{item:!0,children:[Object(F.jsx)(b.a,{align:"left",children:"Server Port"}),Object(F.jsx)(g.a,{variant:"outlined",type:"number",onChange:this.handlePortChange,onClick:function(t){return e.handleOnFocus(t,e.handlePortChange,"port")},value:this.state.port})]}),Object(F.jsxs)(O.a,{item:!0,children:[Object(F.jsx)(b.a,{align:"left",children:"Allow Remote Connections"}),Object(F.jsx)(x.a,{checked:this.state.remoteConnections,onChange:this.handleSwitch,color:"primary"})]}),Object(F.jsxs)(O.a,{container:!0,justifyContent:"flex-end",spacing:3,children:[Object(F.jsx)(O.a,{item:!0,children:Object(F.jsx)(b.a,{variant:"caption",children:"Changes will be applied after a manual restart of the server."})}),Object(F.jsx)(O.a,{item:!0,children:Object(F.jsx)(m.a,{variant:"contained",color:"primary",disabled:!this.state.inputChanged,onClick:this.save,children:"Save"})})]})]})})]})]})}}]),a}(o.Component),_=Object(I.a)(T),L=a(572),M=function(e){Object(s.a)(a,e);var t=Object(r.a)(a);function a(e){var i;return Object(n.a)(this,a),(i=t.call(this,e)).state={p:0,i:0,d:0,lookAhead:0,preheat:!1,preheatPower:0,alwaysHitPeak:!1,inputChanged:!1,focused:!1,currentFocused:null,focusInputChange:null,isLocal:"localhost"===window.location.hostname||"127.0.0.1"===window.location.hostname},i.save=i.save.bind(Object(h.a)(i)),i.handlePChange=i.handlePChange.bind(Object(h.a)(i)),i.handleIChange=i.handleIChange.bind(Object(h.a)(i)),i.handleDChange=i.handleDChange.bind(Object(h.a)(i)),i.handlePreheatChange=i.handlePreheatChange.bind(Object(h.a)(i)),i.handleLookAheadChange=i.handleLookAheadChange.bind(Object(h.a)(i)),i.handlePreheatPowerChange=i.handlePreheatPowerChange.bind(Object(h.a)(i)),i.handleAlwaysHitPeakChange=i.handleAlwaysHitPeakChange.bind(Object(h.a)(i)),i.handleOnFocus=i.handleOnFocus.bind(Object(h.a)(i)),i.handleKeyboardInput=i.handleKeyboardInput.bind(Object(h.a)(i)),i.handleInputClose=i.handleInputClose.bind(Object(h.a)(i)),i.handleDialogInput=i.handleDialogInput.bind(Object(h.a)(i)),i}return Object(i.a)(a,[{key:"componentDidMount",value:function(){var e=this;fetch("/api/settings/pid").then((function(e){return e.json()})).then((function(t){e.setState({p:t.p,i:t.i,d:t.d,lookAhead:t.look_ahead,preheat:t.preheat,preheatPower:t.preheat_power,alwaysHitPeak:t.always_hit_peak})}))}},{key:"save",value:function(){var e=this,t={};t.p=this.state.p,t.i=this.state.i,t.d=this.state.d,t.look_ahead=this.state.lookAhead,t.preheat=this.state.preheat,t.preheat_power=this.state.preheatPower,t.always_hit_peak=this.state.alwaysHitPeak,v.a.post("/api/settings/pid",t).then((function(t){200===t.data.status&&e.setState({inputChanged:!1})}))}},{key:"handlePChange",value:function(e){this.setState({p:e.target.value,inputChanged:!0})}},{key:"handleIChange",value:function(e){this.setState({i:e.target.value,inputChanged:!0})}},{key:"handleDChange",value:function(e){this.setState({d:e.target.value,inputChanged:!0})}},{key:"handleLookAheadChange",value:function(e){e.target.value>=0&&this.setState({lookAhead:parseInt(e.target.value),inputChanged:!0})}},{key:"handlePreheatChange",value:function(e){this.setState({preheat:e.target.checked,inputChanged:!0})}},{key:"handlePreheatPowerChange",value:function(e){e.target.value>=0&&e.target.value<=100&&this.setState({preheatPower:e.target.value,inputChanged:!0})}},{key:"handleAlwaysHitPeakChange",value:function(e){this.setState({alwaysHitPeak:e.target.checked,inputChanged:!0})}},{key:"handleOnFocus",value:function(e,t,a){this.state.isLocal&&this.setState({focusInputChange:t,currentFocused:a,focused:!0})}},{key:"handleInputClose",value:function(){var e=this.state[this.state.currentFocused].toString();""===e?e="0":"."===e.charAt(e.length-1)&&(e=e.substring(0,e.length-1));var t={target:{}};t.target.value=e,this.state.focusInputChange(t),this.setState({focused:!1,inputValue:""})}},{key:"handleKeyboardInput",value:function(e){var t=this.state[this.state.currentFocused].toString();"{bksp}"===e?t=t.substring(0,t.length-1):t+=e;var a={target:{}};a.target.value=t,this.state.focusInputChange(a)}},{key:"handleDialogInput",value:function(e){this.state.focusInputChange(e)}},{key:"render",value:function(){var e=this,t=Object(F.jsx)(F.Fragment,{});return this.state.focused&&(t=Object(F.jsxs)(C.a,{open:this.state.focused,onClose:this.handleInputClose,fullWidth:!0,children:[Object(F.jsx)(w.a,{children:Object(F.jsx)(b.a,{children:"Enter value"})}),Object(F.jsx)(P.a,{children:Object(F.jsxs)(O.a,{container:!0,spacing:1,justifyContent:"space-between",children:[Object(F.jsx)(O.a,{item:!0,children:Object(F.jsx)(g.a,{variant:"outlined",value:this.state[this.state.currentFocused],onChange:this.handleDialogInput})}),Object(F.jsx)(O.a,{item:!0,xs:6,children:Object(F.jsx)(D.a,{onKeyPress:this.handleKeyboardInput,layout:{default:["7 8 9","4 5 6","1 2 3","0 . {bksp}"]},display:{"{bksp}":"<"},theme:"dark"===this.props.theme.palette.type?"hg-theme-dark":"hg-theme-default"})})]})}),Object(F.jsx)(k.a,{children:Object(F.jsx)(m.a,{color:"primary",variant:"contained",onClick:this.handleInputClose,children:"OK"})})]})),Object(F.jsxs)(F.Fragment,{children:[t,Object(F.jsxs)(d.a,{children:[Object(F.jsx)(u.a,{expandIcon:Object(F.jsx)(f.a,{}),"aria-controls":"panel2bh-content",id:"panel2bh-header",children:Object(F.jsx)(b.a,{variant:"h6",children:"PID"})}),Object(F.jsx)(j.a,{children:Object(F.jsxs)(O.a,{container:!0,spacing:3,direction:"column",alignItems:"flex-start",children:[Object(F.jsx)(O.a,{item:!0,children:Object(F.jsxs)(O.a,{container:!0,spacing:2,children:[Object(F.jsx)(O.a,{item:!0,children:Object(F.jsx)(g.a,{id:"p",variant:"outlined",type:"number",label:"Proportional",value:this.state.p,onChange:this.handlePChange,onClick:function(t){return e.handleOnFocus(t,e.handlePChange,"p")},style:{width:150}})}),Object(F.jsx)(O.a,{item:!0,children:Object(F.jsx)(g.a,{variant:"outlined",type:"number",label:"Integral",value:this.state.i,onChange:this.handleIChange,onClick:function(t){return e.handleOnFocus(t,e.handleIChange,"i")},style:{width:150}})}),Object(F.jsx)(O.a,{item:!0,children:Object(F.jsx)(g.a,{variant:"outlined",type:"number",label:"Derivative",value:this.state.d,onChange:this.handleDChange,onClick:function(t){return e.handleOnFocus(t,e.handleDChange,"d")},style:{width:150}})})]})}),Object(F.jsxs)(O.a,{item:!0,children:[Object(F.jsx)(b.a,{align:"left",children:"Look Ahead"}),Object(F.jsx)(g.a,{variant:"outlined",type:"number",value:this.state.lookAhead,onChange:this.handleLookAheadChange,onClick:function(t){return e.handleOnFocus(t,e.handleLookAheadChange,"lookAhead")},style:{width:150},InputProps:{endAdornment:Object(F.jsx)(L.a,{position:"end",children:"Seconds"})}})]}),Object(F.jsx)(O.a,{item:!0,children:Object(F.jsxs)(O.a,{container:!0,spacing:3,children:[Object(F.jsxs)(O.a,{item:!0,children:[Object(F.jsx)(b.a,{align:"left",children:"Enable Preheat"}),Object(F.jsx)(x.a,{checked:this.state.preheat,onChange:this.handlePreheatChange,color:"primary"})]}),Object(F.jsx)(O.a,{item:!0,children:Object(F.jsx)(g.a,{variant:"outlined",type:"number",label:"Preheat Power",value:this.state.preheatPower,onChange:this.handlePreheatPowerChange,onClick:function(t){return e.handleOnFocus(t,e.handlePreheatPowerChange,"preheatPower")},style:{width:150},InputProps:{endAdornment:Object(F.jsx)(L.a,{position:"end",children:"%"})}})})]})}),Object(F.jsxs)(O.a,{item:!0,children:[Object(F.jsx)(b.a,{align:"left",children:"Always Hit Peak"}),Object(F.jsx)(x.a,{checked:this.state.alwaysHitPeak,onChange:this.handleAlwaysHitPeakChange,color:"primary"})]}),Object(F.jsx)(O.a,{container:!0,justifyContent:"flex-end",spacing:3,children:Object(F.jsx)(O.a,{item:!0,children:Object(F.jsx)(m.a,{variant:"contained",color:"primary",disabled:!this.state.inputChanged,onClick:this.save,children:"Save"})})})]})})]})]})}}]),a}(o.Component),A=Object(I.a)(M),N=a(233),R=a(573),E=a(87),H=a(138),W=a(179),K=a(40),X=a(311),Y=a.n(X),B=a(626),z=a(629),U=function(e){Object(s.a)(a,e);var t=Object(r.a)(a);function a(e){var i;return Object(n.a)(this,a),(i=t.call(this,e)).state={relayPin:5,fanPin:6,coolingFanPin:16,thermocoupleOffset:0,percentOffset:0,inputChanged:!1,relayError:!1,fanError:!1,coolingFanError:!1,fanTurnoffTemp:0,thermo1:"n/a",thermo2:"n/a",calculated:"n/a",refreshDisabled:!1,thermocoupleAverageMode:"false",focused:!1,currentFocused:null,focusInputChange:null,isLocal:"localhost"===window.location.hostname||"127.0.0.1"===window.location.hostname},i.handleRelayChange=i.handleRelayChange.bind(Object(h.a)(i)),i.handleFanChange=i.handleFanChange.bind(Object(h.a)(i)),i.handleCoolingFanChange=i.handleCoolingFanChange.bind(Object(h.a)(i)),i.handleFanTurnoffChange=i.handleFanTurnoffChange.bind(Object(h.a)(i)),i.handleThermocoupleOffset=i.handleThermocoupleOffset.bind(Object(h.a)(i)),i.handleThermocoupleRefresh=i.handleThermocoupleRefresh.bind(Object(h.a)(i)),i.handlePercentOffset=i.handlePercentOffset.bind(Object(h.a)(i)),i.handleThermocoupleMode=i.handleThermocoupleMode.bind(Object(h.a)(i)),i.errorClose=i.errorClose.bind(Object(h.a)(i)),i.save=i.save.bind(Object(h.a)(i)),i.handleOnFocus=i.handleOnFocus.bind(Object(h.a)(i)),i.handleKeyboardInput=i.handleKeyboardInput.bind(Object(h.a)(i)),i.handleInputClose=i.handleInputClose.bind(Object(h.a)(i)),i.handleDialogInput=i.handleDialogInput.bind(Object(h.a)(i)),i}return Object(i.a)(a,[{key:"componentDidMount",value:function(){var e=this;fetch("/api/settings/hardware").then((function(e){return e.json()})).then((function(t){e.setState({relayPin:t.relay_pin,fanPin:t.fan_pin,coolingFanPin:t.cooling_fan_pin,fanTurnoffTemp:t.fan_turnoff_temp,thermocoupleOffset:t.thermocouple_offset,percentOffset:t.percent_offset}),!0===t.thermocouple_average_mode?e.setState({thermocoupleAverageMode:"true"}):e.setState({thermocoupleAverageMode:"false"})}))}},{key:"handleRelayChange",value:function(e){this.setState({relayPin:e.target.value,inputChanged:!0})}},{key:"handleFanChange",value:function(e){this.setState({fanPin:e.target.value,inputChanged:!0})}},{key:"handleCoolingFanChange",value:function(e){this.setState({coolingFanPin:e.target.value,inputChanged:!0})}},{key:"handleFanTurnoffChange",value:function(e){e.target.value>=0&&this.setState({fanTurnoffTemp:e.target.value,inputChanged:!0})}},{key:"handleThermocoupleOffset",value:function(e){this.setState({thermocoupleOffset:e.target.value,inputChanged:!0})}},{key:"handlePercentOffset",value:function(e){this.setState({percentOffset:e.target.value,inputChanged:!0})}},{key:"handleThermocoupleMode",value:function(e){this.setState({thermocoupleAverageMode:e.target.value,inputChanged:!0})}},{key:"handleThermocoupleRefresh",value:function(){var e=this;this.setState({refreshDisabled:!0}),fetch("/api/all_temperatures").then((function(e){return e.json()})).then((function(t){e.setState({thermo1:t.sensor_1,thermo2:t.sensor_2,calculated:t.current,refreshDisabled:!1})}))}},{key:"errorClose",value:function(){this.setState({relayError:!1,fanError:!1,coolingFanError:!1})}},{key:"save",value:function(){var e=this,t={};t.relay_pin=this.state.relayPin,t.fan_pin=this.state.fanPin,t.cooling_fan_pin=this.state.coolingFanPin,t.fan_turnoff_temp=this.state.fanTurnoffTemp,t.thermocouple_offset=this.state.thermocoupleOffset,t.percent_offset=this.state.percentOffset,t.thermocouple_average_mode="true"===this.state.thermocoupleAverageMode,v.a.post("/api/settings/hardware",t).then((function(t){200===t.data.status&&e.setState({inputChanged:!1})}))}},{key:"handleOnFocus",value:function(e,t,a){this.state.isLocal&&this.setState({focusInputChange:t,currentFocused:a,focused:!0})}},{key:"handleInputClose",value:function(){var e=this.state[this.state.currentFocused].toString();""===e?e="0":"."===e.charAt(e.length-1)&&(e=e.substring(0,e.length-1));var t={target:{}};t.target.value=e,this.state.focusInputChange(t),this.setState({focused:!1,inputValue:""})}},{key:"handleKeyboardInput",value:function(e){var t=this.state[this.state.currentFocused].toString();"{bksp}"===e?t=t.substring(0,t.length-1):t+=e;var a={target:{}};a.target.value=t,this.state.focusInputChange(a)}},{key:"handleDialogInput",value:function(e){this.state.focusInputChange(e)}},{key:"render",value:function(){var e=this,t=Object(F.jsx)(F.Fragment,{});return this.state.focused&&(t=Object(F.jsxs)(C.a,{open:this.state.focused,onClose:this.handleInputClose,fullWidth:!0,children:[Object(F.jsx)(w.a,{children:Object(F.jsx)(b.a,{children:"Enter value"})}),Object(F.jsx)(P.a,{children:Object(F.jsxs)(O.a,{container:!0,spacing:1,justifyContent:"space-between",children:[Object(F.jsx)(O.a,{item:!0,children:Object(F.jsx)(g.a,{variant:"outlined",value:this.state[this.state.currentFocused],onChange:this.handleDialogInput})}),Object(F.jsx)(O.a,{item:!0,xs:6,children:Object(F.jsx)(D.a,{onKeyPress:this.handleKeyboardInput,layout:{default:["7 8 9","4 5 6","1 2 3","0 . {bksp}"]},display:{"{bksp}":"<"},theme:"dark"===this.props.theme.palette.type?"hg-theme-dark":"hg-theme-default"})})]})}),Object(F.jsx)(k.a,{children:Object(F.jsx)(m.a,{color:"primary",variant:"contained",onClick:this.handleInputClose,children:"OK"})})]})),Object(F.jsxs)(F.Fragment,{children:[t,Object(F.jsxs)(d.a,{children:[Object(F.jsx)(u.a,{expandIcon:Object(F.jsx)(f.a,{}),"aria-controls":"panel3bh-content",id:"panel3bh-header",children:Object(F.jsx)(b.a,{variant:"h6",children:"Hardware"})}),Object(F.jsx)(j.a,{children:Object(F.jsxs)(O.a,{container:!0,spacing:3,direction:"column",children:[Object(F.jsx)(O.a,{item:!0,children:Object(F.jsxs)(O.a,{container:!0,spacing:3,children:[Object(F.jsx)(O.a,{item:!0,children:Object(F.jsxs)(H.a,{error:this.state.relayError,children:[Object(F.jsx)(N.a,{children:"Relay GPIO"}),Object(F.jsxs)(W.a,{value:this.state.relayPin,onChange:this.handleRelayChange,children:[Object(F.jsx)(E.a,{value:4,disabled:4===this.state.fanPin||4===this.state.coolingFanPin,children:"4 (pin 7)"}),Object(F.jsx)(E.a,{value:5,disabled:5===this.state.fanPin||5===this.state.coolingFanPin,children:"5 (pin 29)"}),Object(F.jsx)(E.a,{value:6,disabled:6===this.state.fanPin||6===this.state.coolingFanPin,children:"6 (pin 31)"}),Object(F.jsx)(E.a,{value:16,disabled:16===this.state.fanPin||16===this.state.coolingFanPin,children:"16 (pin 36)"}),Object(F.jsx)(E.a,{value:17,disabled:17===this.state.fanPin||17===this.state.coolingFanPin,children:"17 (pin 11)"}),Object(F.jsx)(E.a,{value:22,disabled:22===this.state.fanPin||22===this.state.coolingFanPin,children:"22 (pin 15)"}),Object(F.jsx)(E.a,{value:23,disabled:23===this.state.fanPin||23===this.state.coolingFanPin,children:"23 (pin 16)"}),Object(F.jsx)(E.a,{value:24,disabled:24===this.state.fanPin||24===this.state.coolingFanPin,children:"24 (pin 18)"}),Object(F.jsx)(E.a,{value:25,disabled:25===this.state.fanPin||25===this.state.coolingFanPin,children:"25 (pin 22)"}),Object(F.jsx)(E.a,{value:26,disabled:26===this.state.fanPin||26===this.state.coolingFanPin,children:"26 (pin 37)"}),Object(F.jsx)(E.a,{value:27,disabled:27===this.state.fanPin||27===this.state.coolingFanPin,children:"27 (pin 13)"})]})]})}),Object(F.jsx)(O.a,{item:!0,children:Object(F.jsxs)(H.a,{error:this.state.coolingFanError,children:[Object(F.jsx)(N.a,{children:"Cooling Fan GPIO"}),Object(F.jsxs)(W.a,{value:this.state.coolingFanPin,onChange:this.handleCoolingFanChange,children:[Object(F.jsx)(E.a,{value:4,disabled:4===this.state.relayPin||4===this.state.fanPin,children:"4 (pin 7)"}),Object(F.jsx)(E.a,{value:5,disabled:5===this.state.relayPin||5===this.state.fanPin,children:"5 (pin 29)"}),Object(F.jsx)(E.a,{value:6,disabled:6===this.state.relayPin||6===this.state.fanPin,children:"6 (pin 31)"}),Object(F.jsx)(E.a,{value:16,disabled:16===this.state.relayPin||16===this.state.fanPin,children:"16 (pin 36)"}),Object(F.jsx)(E.a,{value:17,disabled:17===this.state.relayPin||17===this.state.fanPin,children:"17 (pin 11)"}),Object(F.jsx)(E.a,{value:22,disabled:22===this.state.relayPin||22===this.state.fanPin,children:"22 (pin 15)"}),Object(F.jsx)(E.a,{value:23,disabled:23===this.state.relayPin||23===this.state.fanPin,children:"23 (pin 16)"}),Object(F.jsx)(E.a,{value:24,disabled:24===this.state.relayPin||24===this.state.fanPin,children:"24 (pin 18)"}),Object(F.jsx)(E.a,{value:25,disabled:25===this.state.relayPin||25===this.state.fanPin,children:"25 (pin 22)"}),Object(F.jsx)(E.a,{value:26,disabled:26===this.state.relayPin||26===this.state.fanPin,children:"26 (pin 37)"}),Object(F.jsx)(E.a,{value:27,disabled:27===this.state.relayPin||27===this.state.fanPin,children:"27 (pin 13)"})]})]})}),Object(F.jsx)(O.a,{item:!0,children:Object(F.jsxs)(H.a,{error:this.state.fanError,children:[Object(F.jsx)(N.a,{children:"Convection Fan GPIO"}),Object(F.jsxs)(W.a,{value:this.state.fanPin,onChange:this.handleFanChange,children:[Object(F.jsx)(E.a,{value:4,disabled:4===this.state.relayPin||4===this.state.coolingFanPin,children:"4 (pin 7)"}),Object(F.jsx)(E.a,{value:5,disabled:5===this.state.relayPin||5===this.state.coolingFanPin,children:"5 (pin 29)"}),Object(F.jsx)(E.a,{value:6,disabled:6===this.state.relayPin||6===this.state.coolingFanPin,children:"6 (pin 31)"}),Object(F.jsx)(E.a,{value:16,disabled:16===this.state.relayPin||16===this.state.coolingFanPin,children:"16 (pin 36)"}),Object(F.jsx)(E.a,{value:17,disabled:17===this.state.relayPin||17===this.state.coolingFanPin,children:"17 (pin 11)"}),Object(F.jsx)(E.a,{value:22,disabled:22===this.state.relayPin||22===this.state.coolingFanPin,children:"22 (pin 15)"}),Object(F.jsx)(E.a,{value:23,disabled:23===this.state.relayPin||23===this.state.coolingFanPin,children:"23 (pin 16)"}),Object(F.jsx)(E.a,{value:24,disabled:24===this.state.relayPin||24===this.state.coolingFanPin,children:"24 (pin 18)"}),Object(F.jsx)(E.a,{value:25,disabled:25===this.state.relayPin||25===this.state.coolingFanPin,children:"25 (pin 22)"}),Object(F.jsx)(E.a,{value:26,disabled:26===this.state.relayPin||26===this.state.coolingFanPin,children:"26 (pin 37)"}),Object(F.jsx)(E.a,{value:27,disabled:27===this.state.relayPin||27===this.state.coolingFanPin,children:"27 (pin 13)"})]})]})}),Object(F.jsx)(O.a,{item:!0,children:Object(F.jsx)(g.a,{variant:"outlined",type:"number",label:"Fan off threshold",value:this.state.fanTurnoffTemp,onChange:this.handleFanTurnoffChange,onClick:function(t){return e.handleOnFocus(t,e.handleFanTurnoffChange,"fanTurnoffTemp")},style:{width:150},InputProps:{endAdornment:Object(F.jsx)(L.a,{position:"end",children:"\xb0C"})}})})]})}),Object(F.jsxs)(O.a,{item:!0,children:[Object(F.jsx)(b.a,{style:{paddingBottom:10},children:"Temperature Adjustment"}),Object(F.jsxs)(O.a,{container:!0,spacing:3,children:[Object(F.jsx)(O.a,{item:!0,children:Object(F.jsx)(g.a,{variant:"outlined",type:"number",label:"Constant offset",value:this.state.thermocoupleOffset,onChange:this.handleThermocoupleOffset,onClick:function(t){return e.handleOnFocus(t,e.handleThermocoupleOffset,"thermocoupleOffset")},style:{width:150},InputProps:{endAdornment:Object(F.jsx)(L.a,{position:"end",children:"\xb0C"})}})}),Object(F.jsx)(O.a,{item:!0,children:Object(F.jsx)(g.a,{variant:"outlined",type:"number",label:"Percent offset",value:this.state.percentOffset,onChange:this.handlePercentOffset,onClick:function(t){return e.handleOnFocus(t,e.handlePercentOffset,"percentOffset")},style:{width:150},InputProps:{endAdornment:Object(F.jsx)(L.a,{position:"end",children:"%"})}})})]})]}),Object(F.jsxs)(O.a,{item:!0,children:[Object(F.jsx)(b.a,{style:{paddingBottom:10},children:"Dual Thermocouple"}),Object(F.jsxs)(z.a,{value:this.state.thermocoupleAverageMode,onChange:this.handleThermocoupleMode,children:[Object(F.jsx)(R.a,{value:"false",control:Object(F.jsx)(B.a,{color:"primary"}),label:"Use Highest Temperature"}),Object(F.jsx)(R.a,{value:"true",control:Object(F.jsx)(B.a,{color:"primary"}),label:"Use Average"})]})]}),Object(F.jsxs)(O.a,{item:!0,children:[Object(F.jsxs)(b.a,{children:["Diagnostics",Object(F.jsx)(K.a,{disabled:this.state.refreshDisabled,onClick:this.handleThermocoupleRefresh,children:Object(F.jsx)(Y.a,{})})]}),Object(F.jsxs)(b.a,{style:{display:"block"},variant:"caption",children:["Thermocouple 1: ",this.state.thermo1,"\xb0C"]}),Object(F.jsxs)(b.a,{style:{display:"block"},variant:"caption",children:["Thermocouple 2: ",this.state.thermo2,"\xb0C"]}),Object(F.jsxs)(b.a,{style:{display:"block"},variant:"caption",children:["Calculated: ",this.state.calculated,"\xb0C"]})]}),Object(F.jsx)(O.a,{container:!0,justifyContent:"flex-end",spacing:3,children:Object(F.jsx)(O.a,{item:!0,children:Object(F.jsx)(m.a,{variant:"contained",color:"primary",disabled:!this.state.inputChanged,onClick:this.save,children:"Save"})})})]})})]})]})}}]),a}(o.Component),q=Object(I.a)(U),J=a(346),G=a(228),V=function(e){Object(s.a)(a,e);var t=Object(r.a)(a);function a(e){var i;return Object(n.a)(this,a),(i=t.call(this,e)).state={darkMode:i.props.darkMode,primary:i.props.primary,secondary:i.props.secondary,inputChanged:!1},i.save=i.save.bind(Object(h.a)(i)),i.handleDarkSwitch=i.handleDarkSwitch.bind(Object(h.a)(i)),i.handlePrimaryChange=i.handlePrimaryChange.bind(Object(h.a)(i)),i.handleSecondaryChange=i.handleSecondaryChange.bind(Object(h.a)(i)),i}return Object(i.a)(a,[{key:"componentDidMount",value:function(){}},{key:"save",value:function(){var e=this,t={};t.dark_mode=this.state.darkMode,t.primary_color=this.state.primary,t.secondary_color=this.state.secondary,v.a.post("/api/settings/appearance",t).then((function(t){200===t.data.status&&e.setState({inputChanged:!1})}))}},{key:"handleDarkSwitch",value:function(e){this.setState({darkMode:e.target.checked,inputChanged:!0}),this.props.toggleDarkMode(e.target.checked)}},{key:"handlePrimaryChange",value:function(e,t){this.setState({primary:e.hex,inputChanged:!0}),this.props.setPrimaryColor(e.hex)}},{key:"handleSecondaryChange",value:function(e,t){this.setState({secondary:e.hex,inputChanged:!0}),this.props.setSecondaryColor(e.hex)}},{key:"render",value:function(){return Object(F.jsxs)(d.a,{children:[Object(F.jsx)(u.a,{expandIcon:Object(F.jsx)(f.a,{}),"aria-controls":"panel1bh-content",id:"panel1bh-header",children:Object(F.jsx)(b.a,{variant:"h6",children:"Appearance"})}),Object(F.jsx)(j.a,{children:Object(F.jsxs)(O.a,{container:!0,direction:"column",alignItems:"flex-start",spacing:3,children:[Object(F.jsxs)(O.a,{item:!0,children:[Object(F.jsx)(b.a,{align:"left",children:"Dark Mode"}),Object(F.jsx)(J.a,{checked:this.state.darkMode,onChange:this.handleDarkSwitch,color:"primary"})]}),Object(F.jsxs)(O.a,{item:!0,children:[Object(F.jsx)(b.a,{align:"left",children:"Primary Color"}),Object(F.jsx)(G.a,{color:this.state.primary,onChange:this.handlePrimaryChange})]}),Object(F.jsxs)(O.a,{item:!0,children:[Object(F.jsx)(b.a,{align:"left",children:"Secondary Color"}),Object(F.jsx)(G.a,{color:this.state.secondary,onChange:this.handleSecondaryChange})]}),Object(F.jsxs)(O.a,{container:!0,justifyContent:"flex-end",spacing:3,children:[Object(F.jsx)(O.a,{item:!0,children:Object(F.jsxs)(O.a,{container:!0,direction:"column",alignItems:"center",children:[Object(F.jsx)(O.a,{item:!0,children:Object(F.jsxs)(b.a,{variant:"caption",children:[Object(F.jsx)("span",{style:{color:"red"},children:"WARNING: "}),"If saved, theme will be applied to all connections."]})}),Object(F.jsx)(O.a,{item:!0,children:Object(F.jsx)(b.a,{variant:"caption",display:"inline",children:"(useful for differentiating between ovens)"})})]})}),Object(F.jsx)(O.a,{item:!0,children:Object(F.jsx)(m.a,{variant:"contained",color:"primary",disabled:!this.state.inputChanged,onClick:this.save,children:"Save"})})]})]})})]})}}]),a}(o.Component),Q=function(e){Object(s.a)(a,e);var t=Object(r.a)(a);function a(){return Object(n.a)(this,a),t.apply(this,arguments)}return Object(i.a)(a,[{key:"render",value:function(){return Object(F.jsxs)(F.Fragment,{children:[Object(F.jsx)(c.a,{}),Object(F.jsxs)(l.a,{maxWidth:!1,style:{paddingTop:"20px"},children:[Object(F.jsx)(A,{}),Object(F.jsx)(q,{}),Object(F.jsx)(_,{}),Object(F.jsx)(V,{toggleDarkMode:this.props.toggleDarkMode,setPrimaryColor:this.props.setPrimaryColor,setSecondaryColor:this.props.setSecondaryColor,primary:this.props.primary,secondary:this.props.secondary,darkMode:this.props.darkMode})]})]})}}]),a}(o.Component);t.a=Q},376:function(e,t,a){},39:function(e,t,a){"use strict";a.d(t,"b",(function(){return r})),a.d(t,"a",(function(){return o}));var n=a(0),i=a.n(n),s=a(300),r=a.n(s).a.connect(),o=i.a.createContext()},404:function(e,t,a){},554:function(e,t,a){},561:function(e,t,a){"use strict";a.r(t);var n=a(0),i=a.n(n),s=a(24),r=a.n(s),o=(a(376),a(299)),c=function(e){e&&e instanceof Function&&a.e(3).then(a.bind(null,631)).then((function(t){var a=t.getCLS,n=t.getFID,i=t.getFCP,s=t.getLCP,r=t.getTTFB;a(e),n(e),i(e),s(e),r(e)}))},l=a(1),h=!1;"localhost"!==window.location.hostname&&"127.0.0.1"!==window.location.hostname&&""!==window.location.hostname||(h=!0),r.a.render(Object(l.jsx)(i.a.StrictMode,{children:Object(l.jsx)(o.a,{isLocal:h})}),document.getElementById("root")),c()},81:function(e,t,a){"use strict";var n=a(11),i=a(12),s=a(7),r=a(16),o=a(15),c=a(0),l=a(39),h=a(566),d=a(567),j=a(22),u=a(32),b=a(40),p=a(306),f=a.n(p),O=a(223),g=a.n(O),x=a(307),m=a.n(x),y=a(308),v=a.n(y),C=a(46),k=a(31),P=a.n(k),w=a(170),S=a.n(w),D=a(304),I=a.n(D),F=a(169),T=a.n(F),_=a(218),L=a.n(_),M=a(219),A=a.n(M),N=a(220),R=a.n(N),E=a(582),H=a(579),W=a(309),K=a.n(W),X=a(66),Y=a(67),B=a(68),z=a(583),U=a(120),q=a(121),J=a(569),G=a(178),V=a(10),Q=a(568),Z=a(6),$=a(25),ee=a(171),te=a.n(ee),ae=a(102),ne=a(343),ie=a(345),se=a(1),re=function(e){Object(r.a)(a,e);var t=Object(o.a)(a);function a(e){var i;return Object(n.a)(this,a),(i=t.call(this,e)).StopButton=Object(Z.a)({root:{backgroundColor:"#bf0000","&:hover":{backgroundColor:"#870000"}}})(j.a),i.RelayOn=Object(Z.a)({root:{fill:"#c70000"}})(L.a),i.CoolingOn=Object(Z.a)({root:{fill:"#009cc7"}})(A.a),i.ConvectionOn=Object(Z.a)({root:{fill:"#00ba16"}})(R.a),i.componentDidMount=i.componentDidMount.bind(Object(s.a)(i)),i.componentWillUnmount=i.componentWillUnmount.bind(Object(s.a)(i)),i.drawerChange=i.drawerChange.bind(Object(s.a)(i)),i.stop=i.stop.bind(Object(s.a)(i)),i.qrClicked=i.qrClicked.bind(Object(s.a)(i)),i.qrClosed=i.qrClosed.bind(Object(s.a)(i)),i.snackbarClosed=i.snackbarClosed.bind(Object(s.a)(i)),i.timeout=null,i.state={drawer:!1,qrDialog:!1,thermoDialog:!1,percentage:0,temperature:0,status:"Ready",address:"",currentProfile:"",serverMessage:"",serverMessageSeverity:"",serverMessageSnackbar:!1,relayOn:!1,coolingFanOn:!1,fanOn:!1,connected:!0,backdrop:!1},i}return Object(i.a)(a,[{key:"stop",value:function(){var e=this;P.a.post("/api/stop",{reason:"test"}).then((function(t){200===t.data.status&&e.setState({status:"Ready"})}))}},{key:"componentDidMount",value:function(){var e=this;fetch("/api/status").then((function(e){return e.json()})).then((function(t){e.setState({address:t.address,percentage:t.status.percent,status:t.status.status,currentProfile:t.status.current_profile})})),l.b.on("status_update",(function(t){e.setState({percentage:t.percent,temperature:t.temperature,status:t.status,currentProfile:t.current_profile}),t.relay>0?(e.setState({relayOn:!0}),t.relay<1e3&&setTimeout((function(){e.setState({relayOn:!1})}),t.relay)):e.setState({relayOn:!1}),t.cooling_fan>0?(e.setState({coolingFanOn:!0}),t.cooling_fan<1e3&&setTimeout((function(){e.setState({coolingFanOn:!1})}),t.cooling_fan)):e.setState({coolingFanOn:!1}),t.fan>0?(e.setState({fanOn:!0}),t.fan<1e3&&setTimeout((function(){e.setState({fanOn:!1})}),t.fan)):e.setState({fanOn:!1})})),l.b.on("server_message",(function(t){e.setState({serverMessage:t.message,serverMessageSeverity:t.severity}),e.setState({serverMessageSnackbar:!0})})),l.b.on("disconnect",(function(){e.setState({backdrop:!0}),e.timeout=setTimeout((function(){e.setState({connected:!1})}),3e3)})),l.b.on("connect",(function(){clearTimeout(e.timeout),e.setState({connected:!0,backdrop:!1})})),l.b.connected||(this.setState({backdrop:!0}),this.timeout=setTimeout((function(){e.setState({connected:!1})}),3e3))}},{key:"drawerChange",value:function(){this.state.drawer?this.setState({drawer:!1}):this.setState({drawer:!0})}},{key:"componentWillUnmount",value:function(){l.b.off("status_update"),l.b.off("server_message"),l.b.off("disconnect"),l.b.off("connect")}},{key:"qrClicked",value:function(){this.setState({qrDialog:!0})}},{key:"qrClosed",value:function(){this.setState({qrDialog:!1})}},{key:"snackbarClosed",value:function(){this.setState({serverMessageSnackbar:!1})}},{key:"render",value:function(){var e=this.state.temperature+"\xb0C";this.state.temperature<0&&(e="Thermocouple Disconnected!");var t=Object(se.jsx)(L.a,{}),a=Object(se.jsx)(A.a,{}),n=Object(se.jsx)(R.a,{});return this.state.relayOn&&(t=Object(se.jsx)(this.RelayOn,{})),this.state.coolingFanOn&&(a=Object(se.jsx)(this.CoolingOn,{})),this.state.fanOn&&(n=Object(se.jsx)(this.ConvectionOn,{})),Object(se.jsxs)(se.Fragment,{children:[Object(se.jsx)(E.a,{anchorOrigin:{vertical:"top",horizontal:"right"},open:this.state.serverMessageSnackbar,autoHideDuration:1e4,onClose:this.snackbarClosed,children:Object(se.jsx)(H.a,{elevation:6,variant:"filled",severity:this.state.serverMessageSeverity,onClose:this.snackbarClosed,children:this.state.serverMessage})}),Object(se.jsx)(ne.a,{style:{zIndex:10},open:this.state.backdrop,children:Object(se.jsx)(ie.a,{color:"primary"})}),Object(se.jsxs)(X.a,{onClose:this.qrClosed,open:this.state.qrDialog,fullWidth:!1,maxWidth:"sm",children:[Object(se.jsx)(Y.a,{children:Object(se.jsx)(V.a,{container:!0,justifyContent:"center",children:Object(se.jsx)(V.a,{item:!0,children:Object(se.jsxs)(u.a,{variant:"h5",children:["http://",this.state.address]})})})}),Object(se.jsx)(B.a,{children:Object(se.jsxs)(V.a,{container:!0,alignItems:"center",direction:"column",children:[Object(se.jsx)(V.a,{item:!0,children:Object(se.jsx)(I.a,{value:"http://"+this.state.address,size:200})}),Object(se.jsx)(V.a,{item:!0,children:"Note: this control panel can only be accessed by the 12 EE lab computers."}),Object(se.jsx)(V.a,{item:!0,children:Object(se.jsx)(b.a,{"aria-label":"close",onClick:this.qrClosed,children:Object(se.jsx)(T.a,{})})})]})})]}),Object(se.jsxs)(X.a,{open:!this.state.connected,children:[Object(se.jsx)(Y.a,{children:Object(se.jsx)(u.a,{children:"Disconnected from server"})}),Object(se.jsx)(B.a,{children:"Please ensure server is running."})]}),Object(se.jsxs)(h.a,{position:"static",children:[Object(se.jsxs)(d.a,{children:[Object(se.jsx)(b.a,{edge:"start",color:"inherit","aria-label":"menu",onClick:this.drawerChange,children:Object(se.jsx)(f.a,{})}),Object(se.jsx)(ae.a,{xsDown:!0,children:Object(se.jsx)(b.a,{component:C.b,to:"/",color:"inherit",children:Object(se.jsx)(g.a,{})})}),Object(se.jsxs)(V.a,{container:!0,spacing:5,style:{paddingLeft:20,paddingTop:5},children:[Object(se.jsx)(V.a,{item:!0,style:{minWidth:150},children:Object(se.jsx)(u.a,{align:"right",children:e})}),Object(se.jsx)(V.a,{item:!0,style:{minWidth:100},children:Object(se.jsx)(u.a,{align:"center",children:this.state.status})}),Object(se.jsx)(ae.a,{xsDown:!0,children:Object(se.jsx)(V.a,{item:!0,children:Object(se.jsxs)(V.a,{container:!0,spacing:1,children:[Object(se.jsx)(V.a,{item:!0,children:t}),Object(se.jsx)(V.a,{item:!0,children:a}),Object(se.jsx)(V.a,{item:!0,children:n})]})})}),Object(se.jsx)(V.a,{item:!0,children:Object(se.jsx)(u.a,{align:"center",style:{fontWeight:"bold"},children:this.state.currentProfile.name})})]}),Object(se.jsx)("div",{style:{marginLeft:"auto"},children:("Preheat"===this.state.status||"Running"===this.state.status)&&Object(se.jsx)(this.StopButton,{onClick:this.stop,startIcon:Object(se.jsx)(S.a,{}),variant:"contained",color:"primary",children:"Stop"})})]}),Object(se.jsx)(Q.a,{style:{height:5},variant:"determinate",color:"secondary",value:this.state.percentage})]}),Object(se.jsxs)(z.a,{open:this.state.drawer,onClose:this.drawerChange,children:[Object(se.jsx)(U.a,{button:!0,onClick:this.drawerChange,style:{minHeight:50},children:Object(se.jsx)(q.a,{children:Object(se.jsx)(m.a,{})})},"menu"),Object(se.jsx)(J.a,{}),Object(se.jsxs)(U.a,{button:!0,component:C.b,onClick:this.drawerChange,to:"/",children:[Object(se.jsx)(q.a,{children:Object(se.jsx)(g.a,{})}),Object(se.jsx)(G.a,{children:"Home"})]},"Home"),Object(se.jsxs)(U.a,{button:!0,component:C.b,onClick:this.drawerChange,to:"/profileList",children:[Object(se.jsx)(q.a,{children:Object(se.jsx)(te.a,{})}),Object(se.jsx)(G.a,{children:"Profile List"})]},"ProfileList"),Object(se.jsxs)(U.a,{button:!0,component:C.b,onClick:this.drawerChange,to:"/settings",children:[Object(se.jsx)(q.a,{children:Object(se.jsx)(v.a,{})}),Object(se.jsx)(G.a,{children:"Settings"})]},"Settings"),Object(se.jsxs)(U.a,{button:!0,onClick:this.qrClicked,children:[Object(se.jsx)(q.a,{children:Object(se.jsx)(K.a,{})}),Object(se.jsx)(G.a,{children:"Server Address"})]},"Address")]})]})}}]),a}(c.Component);t.a=Object($.f)(re)}},[[561,1,2]]]);
//# sourceMappingURL=main.6f2cdcb4.chunk.js.map